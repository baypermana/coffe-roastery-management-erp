var OM=Object.defineProperty;var AM=(e,t,n)=>t in e?OM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pg=(e,t,n)=>AM(e,typeof t!="symbol"?t+"":t,n);function NM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Nr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pN(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var vg={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function TM(){if(N1)return Nl;N1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Nl.Fragment=t,Nl.jsx=n,Nl.jsxs=n,Nl}var T1;function CM(){return T1||(T1=1,vg.exports=TM()),vg.exports}var d=CM(),yg={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function DM(){if(C1)return Ae;C1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function O(R,L,re){this.props=R,this.context=L,this.refs=j,this.updater=re||S}O.prototype.isReactComponent={},O.prototype.setState=function(R,L){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,L,"setState")},O.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function A(){}A.prototype=O.prototype;function T(R,L,re){this.props=R,this.context=L,this.refs=j,this.updater=re||S}var P=T.prototype=new A;P.constructor=T,_(P,O.prototype),P.isPureReactComponent=!0;var N=Array.isArray;function C(){}var k={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function V(R,L,re){var le=re.ref;return{$$typeof:e,type:R,key:L,ref:le!==void 0?le:null,props:re}}function ie(R,L){return V(R.type,L,R.props)}function ee(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function I(R){var L={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(re){return L[re]})}var q=/\/+/g;function W(R,L){return typeof R=="object"&&R!==null&&R.key!=null?I(""+R.key):L.toString(36)}function Q(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(C,C):(R.status="pending",R.then(function(L){R.status==="pending"&&(R.status="fulfilled",R.value=L)},function(L){R.status==="pending"&&(R.status="rejected",R.reason=L)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function B(R,L,re,le,ce){var xe=typeof R;(xe==="undefined"||xe==="boolean")&&(R=null);var de=!1;if(R===null)de=!0;else switch(xe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(R.$$typeof){case e:case t:de=!0;break;case g:return de=R._init,B(de(R._payload),L,re,le,ce)}}if(de)return ce=ce(R),de=le===""?"."+W(R,0):le,N(ce)?(re="",de!=null&&(re=de.replace(q,"$&/")+"/"),B(ce,L,re,"",function(we){return we})):ce!=null&&(ee(ce)&&(ce=ie(ce,re+(ce.key==null||R&&R.key===ce.key?"":(""+ce.key).replace(q,"$&/")+"/")+de)),L.push(ce)),1;de=0;var ye=le===""?".":le+":";if(N(R))for(var X=0;X<R.length;X++)le=R[X],xe=ye+W(le,X),de+=B(le,L,re,xe,ce);else if(X=b(R),typeof X=="function")for(R=X.call(R),X=0;!(le=R.next()).done;)le=le.value,xe=ye+W(le,X++),de+=B(le,L,re,xe,ce);else if(xe==="object"){if(typeof R.then=="function")return B(Q(R),L,re,le,ce);throw L=String(R),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return de}function K(R,L,re){if(R==null)return R;var le=[],ce=0;return B(R,le,"","",function(xe){return L.call(re,xe,ce++)}),le}function oe(R){if(R._status===-1){var L=R._result;L=L(),L.then(function(re){(R._status===0||R._status===-1)&&(R._status=1,R._result=re)},function(re){(R._status===0||R._status===-1)&&(R._status=2,R._result=re)}),R._status===-1&&(R._status=0,R._result=L)}if(R._status===1)return R._result.default;throw R._result}var ue=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},J={map:K,forEach:function(R,L,re){K(R,function(){L.apply(this,arguments)},re)},count:function(R){var L=0;return K(R,function(){L++}),L},toArray:function(R){return K(R,function(L){return L})||[]},only:function(R){if(!ee(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Ae.Activity=p,Ae.Children=J,Ae.Component=O,Ae.Fragment=n,Ae.Profiler=i,Ae.PureComponent=T,Ae.StrictMode=r,Ae.Suspense=m,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Ae.cache=function(R){return function(){return R.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(R,L,re){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var le=_({},R.props),ce=R.key;if(L!=null)for(xe in L.key!==void 0&&(ce=""+L.key),L)!z.call(L,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&L.ref===void 0||(le[xe]=L[xe]);var xe=arguments.length-2;if(xe===1)le.children=re;else if(1<xe){for(var de=Array(xe),ye=0;ye<xe;ye++)de[ye]=arguments[ye+2];le.children=de}return V(R.type,ce,le)},Ae.createContext=function(R){return R={$$typeof:l,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:o,_context:R},R},Ae.createElement=function(R,L,re){var le,ce={},xe=null;if(L!=null)for(le in L.key!==void 0&&(xe=""+L.key),L)z.call(L,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=L[le]);var de=arguments.length-2;if(de===1)ce.children=re;else if(1<de){for(var ye=Array(de),X=0;X<de;X++)ye[X]=arguments[X+2];ce.children=ye}if(R&&R.defaultProps)for(le in de=R.defaultProps,de)ce[le]===void 0&&(ce[le]=de[le]);return V(R,xe,ce)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(R){return{$$typeof:u,render:R}},Ae.isValidElement=ee,Ae.lazy=function(R){return{$$typeof:g,_payload:{_status:-1,_result:R},_init:oe}},Ae.memo=function(R,L){return{$$typeof:h,type:R,compare:L===void 0?null:L}},Ae.startTransition=function(R){var L=k.T,re={};k.T=re;try{var le=R(),ce=k.S;ce!==null&&ce(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(C,ue)}catch(xe){ue(xe)}finally{L!==null&&re.types!==null&&(L.types=re.types),k.T=L}},Ae.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ae.use=function(R){return k.H.use(R)},Ae.useActionState=function(R,L,re){return k.H.useActionState(R,L,re)},Ae.useCallback=function(R,L){return k.H.useCallback(R,L)},Ae.useContext=function(R){return k.H.useContext(R)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(R,L){return k.H.useDeferredValue(R,L)},Ae.useEffect=function(R,L){return k.H.useEffect(R,L)},Ae.useEffectEvent=function(R){return k.H.useEffectEvent(R)},Ae.useId=function(){return k.H.useId()},Ae.useImperativeHandle=function(R,L,re){return k.H.useImperativeHandle(R,L,re)},Ae.useInsertionEffect=function(R,L){return k.H.useInsertionEffect(R,L)},Ae.useLayoutEffect=function(R,L){return k.H.useLayoutEffect(R,L)},Ae.useMemo=function(R,L){return k.H.useMemo(R,L)},Ae.useOptimistic=function(R,L){return k.H.useOptimistic(R,L)},Ae.useReducer=function(R,L,re){return k.H.useReducer(R,L,re)},Ae.useRef=function(R){return k.H.useRef(R)},Ae.useState=function(R){return k.H.useState(R)},Ae.useSyncExternalStore=function(R,L,re){return k.H.useSyncExternalStore(R,L,re)},Ae.useTransition=function(){return k.H.useTransition()},Ae.version="19.2.0",Ae}var D1;function bo(){return D1||(D1=1,yg.exports=DM()),yg.exports}var w=bo();const vN=Nr(w),PM=NM({__proto__:null,default:vN},[w]);var bg={exports:{}},Tl={},xg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1;function kM(){return P1||(P1=1,(function(e){function t(B,K){var oe=B.length;B.push(K);e:for(;0<oe;){var ue=oe-1>>>1,J=B[ue];if(0<i(J,K))B[ue]=K,B[oe]=J,oe=ue;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],oe=B.pop();if(oe!==K){B[0]=oe;e:for(var ue=0,J=B.length,R=J>>>1;ue<R;){var L=2*(ue+1)-1,re=B[L],le=L+1,ce=B[le];if(0>i(re,oe))le<J&&0>i(ce,re)?(B[ue]=ce,B[le]=oe,ue=le):(B[ue]=re,B[L]=oe,ue=L);else if(le<J&&0>i(ce,oe))B[ue]=ce,B[le]=oe,ue=le;else break e}}return K}function i(B,K){var oe=B.sortIndex-K.sortIndex;return oe!==0?oe:B.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var m=[],h=[],g=1,p=null,y=3,b=!1,S=!1,_=!1,j=!1,O=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var K=n(h);K!==null;){if(K.callback===null)r(h);else if(K.startTime<=B)r(h),K.sortIndex=K.expirationTime,t(m,K);else break;K=n(h)}}function N(B){if(_=!1,P(B),!S)if(n(m)!==null)S=!0,C||(C=!0,I());else{var K=n(h);K!==null&&Q(N,K.startTime-B)}}var C=!1,k=-1,z=5,V=-1;function ie(){return j?!0:!(e.unstable_now()-V<z)}function ee(){if(j=!1,C){var B=e.unstable_now();V=B;var K=!0;try{e:{S=!1,_&&(_=!1,A(k),k=-1),b=!0;var oe=y;try{t:{for(P(B),p=n(m);p!==null&&!(p.expirationTime>B&&ie());){var ue=p.callback;if(typeof ue=="function"){p.callback=null,y=p.priorityLevel;var J=ue(p.expirationTime<=B);if(B=e.unstable_now(),typeof J=="function"){p.callback=J,P(B),K=!0;break t}p===n(m)&&r(m),P(B)}else r(m);p=n(m)}if(p!==null)K=!0;else{var R=n(h);R!==null&&Q(N,R.startTime-B),K=!1}}break e}finally{p=null,y=oe,b=!1}K=void 0}}finally{K?I():C=!1}}}var I;if(typeof T=="function")I=function(){T(ee)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,W=q.port2;q.port1.onmessage=ee,I=function(){W.postMessage(null)}}else I=function(){O(ee,0)};function Q(B,K){k=O(function(){B(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(B){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var oe=y;y=K;try{return B()}finally{y=oe}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=y;y=B;try{return K()}finally{y=oe}},e.unstable_scheduleCallback=function(B,K,oe){var ue=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ue+oe:ue):oe=ue,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,B={id:g++,callback:K,priorityLevel:B,startTime:oe,expirationTime:J,sortIndex:-1},oe>ue?(B.sortIndex=oe,t(h,B),n(m)===null&&B===n(h)&&(_?(A(k),k=-1):_=!0,Q(N,oe-ue))):(B.sortIndex=J,t(m,B),S||b||(S=!0,C||(C=!0,I()))),B},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(B){var K=y;return function(){var oe=y;y=K;try{return B.apply(this,arguments)}finally{y=oe}}}})(wg)),wg}var k1;function RM(){return k1||(k1=1,xg.exports=kM()),xg.exports}var _g={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R1;function MM(){if(R1)return sn;R1=1;var e=bo();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(m,h,g){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:m,containerInfo:h,implementation:g}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(m,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return o(m,h,null,g)},sn.flushSync=function(m){var h=l.T,g=r.p;try{if(l.T=null,r.p=2,m)return m()}finally{l.T=h,r.p=g,r.d.f()}},sn.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(m,h))},sn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},sn.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var g=h.as,p=u(g,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?r.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:b}):g==="script"&&r.d.X(m,{crossOrigin:p,integrity:y,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},sn.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=u(h.as,h.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(m)},sn.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,p=u(g,h.crossOrigin);r.d.L(m,g,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},sn.preloadModule=function(m,h){if(typeof m=="string")if(h){var g=u(h.as,h.crossOrigin);r.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(m)},sn.requestFormReset=function(m){r.d.r(m)},sn.unstable_batchedUpdates=function(m,h){return m(h)},sn.useFormState=function(m,h,g){return l.H.useFormState(m,h,g)},sn.useFormStatus=function(){return l.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var M1;function yN(){if(M1)return _g.exports;M1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_g.exports=MM(),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1;function IM(){if(I1)return Tl;I1=1;var e=RM(),t=bo(),n=yN();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function m(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,f=s;;){var v=c.return;if(v===null)break;var x=v.alternate;if(x===null){if(f=v.return,f!==null){c=f;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===c)return m(v),a;if(x===f)return m(v),s;x=x.sibling}throw Error(r(188))}if(c.return!==f.return)c=v,f=x;else{for(var E=!1,D=v.child;D;){if(D===c){E=!0,c=v,f=x;break}if(D===f){E=!0,f=v,c=x;break}D=D.sibling}if(!E){for(D=x.child;D;){if(D===c){E=!0,c=x,f=v;break}if(D===f){E=!0,f=x,c=v;break}D=D.sibling}if(!E)throw Error(r(189))}}if(c.alternate!==f)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function g(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=g(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function I(a){return a===null||typeof a!="object"?null:(a=ee&&a[ee]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function W(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case T:return a.displayName||"Context";case A:return(a._context.displayName||"Context")+".Consumer";case P:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return s=a.displayName||null,s!==null?s:W(a.type)||"Memo";case z:s=a._payload,a=a._init;try{return W(a(s))}catch{}}return null}var Q=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ue=[],J=-1;function R(a){return{current:a}}function L(a){0>J||(a.current=ue[J],ue[J]=null,J--)}function re(a,s){J++,ue[J]=a.current,a.current=s}var le=R(null),ce=R(null),xe=R(null),de=R(null);function ye(a,s){switch(re(xe,s),re(ce,a),re(le,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?J_(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=J_(s),a=Z_(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(le),re(le,a)}function X(){L(le),L(ce),L(xe)}function we(a){a.memoizedState!==null&&re(de,a);var s=le.current,c=Z_(s,a.type);s!==c&&(re(ce,a),re(le,c))}function je(a){ce.current===a&&(L(le),L(ce)),de.current===a&&(L(de),jl._currentValue=oe)}var se,Fe;function me(a){if(se===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);se=s&&s[1]||"",Fe=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+a+Fe}var be=!1;function Ce(a,s){if(!a||be)return"";be=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var Y=Z}Reflect.construct(a,[],ae)}else{try{ae.call()}catch(Z){Y=Z}a.call(ae.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(ae=a())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=f.DetermineComponentFrameRoot(),E=x[0],D=x[1];if(E&&D){var M=E.split(`
`),G=D.split(`
`);for(v=f=0;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;for(;v<G.length&&!G[v].includes("DetermineComponentFrameRoot");)v++;if(f===M.length||v===G.length)for(f=M.length-1,v=G.length-1;1<=f&&0<=v&&M[f]!==G[v];)v--;for(;1<=f&&0<=v;f--,v--)if(M[f]!==G[v]){if(f!==1||v!==1)do if(f--,v--,0>v||M[f]!==G[v]){var te=`
`+M[f].replace(" at new "," at ");return a.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",a.displayName)),te}while(1<=f&&0<=v);break}}}finally{be=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?me(c):""}function Ge(a,s){switch(a.tag){case 26:case 27:case 5:return me(a.type);case 16:return me("Lazy");case 13:return a.child!==s&&s!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Ce(a.type,!1);case 11:return Ce(a.type.render,!1);case 1:return Ce(a.type,!0);case 31:return me("Activity");default:return""}}function qt(a){try{var s="",c=null;do s+=Ge(a,c),c=a,a=a.return;while(a);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var bt=Object.prototype.hasOwnProperty,Me=e.unstable_scheduleCallback,Yt=e.unstable_cancelCallback,an=e.unstable_shouldYield,Xe=e.unstable_requestPaint,Je=e.unstable_now,yr=e.unstable_getCurrentPriorityLevel,Ro=e.unstable_ImmediatePriority,Mo=e.unstable_UserBlockingPriority,mi=e.unstable_NormalPriority,rh=e.unstable_LowPriority,Tc=e.unstable_IdlePriority,lk=e.log,ck=e.unstable_setDisableYieldValue,Io=null,Cn=null;function Sa(a){if(typeof lk=="function"&&ck(a),Cn&&typeof Cn.setStrictMode=="function")try{Cn.setStrictMode(Io,a)}catch{}}var Dn=Math.clz32?Math.clz32:fk,uk=Math.log,dk=Math.LN2;function fk(a){return a>>>=0,a===0?32:31-(uk(a)/dk|0)|0}var Cc=256,Dc=262144,Pc=4194304;function gi(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function kc(a,s,c){var f=a.pendingLanes;if(f===0)return 0;var v=0,x=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var D=f&134217727;return D!==0?(f=D&~x,f!==0?v=gi(f):(E&=D,E!==0?v=gi(E):c||(c=D&~a,c!==0&&(v=gi(c))))):(D=f&~x,D!==0?v=gi(D):E!==0?v=gi(E):c||(c=f&~a,c!==0&&(v=gi(c)))),v===0?0:s!==0&&s!==v&&(s&x)===0&&(x=v&-v,c=s&-s,x>=c||x===32&&(c&4194048)!==0)?s:v}function Lo(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function hk(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pb(){var a=Pc;return Pc<<=1,(Pc&62914560)===0&&(Pc=4194304),a}function ah(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Bo(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function mk(a,s,c,f,v,x){var E=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var D=a.entanglements,M=a.expirationTimes,G=a.hiddenUpdates;for(c=E&~c;0<c;){var te=31-Dn(c),ae=1<<te;D[te]=0,M[te]=-1;var Y=G[te];if(Y!==null)for(G[te]=null,te=0;te<Y.length;te++){var Z=Y[te];Z!==null&&(Z.lane&=-536870913)}c&=~ae}f!==0&&kb(a,f,0),x!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=x&~(E&~s))}function kb(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-Dn(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|c&261930}function Rb(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var f=31-Dn(c),v=1<<f;v&s|a[f]&s&&(a[f]|=s),c&=~v}}function Mb(a,s){var c=s&-s;return c=(c&42)!==0?1:ih(c),(c&(a.suspendedLanes|s))!==0?0:c}function ih(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function sh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ib(){var a=K.p;return a!==0?a:(a=window.event,a===void 0?32:w1(a.type))}function Lb(a,s){var c=K.p;try{return K.p=a,s()}finally{K.p=c}}var ja=Math.random().toString(36).slice(2),Wt="__reactFiber$"+ja,wn="__reactProps$"+ja,ds="__reactContainer$"+ja,oh="__reactEvents$"+ja,gk="__reactListeners$"+ja,pk="__reactHandles$"+ja,Bb="__reactResources$"+ja,Uo="__reactMarker$"+ja;function lh(a){delete a[Wt],delete a[wn],delete a[oh],delete a[gk],delete a[pk]}function fs(a){var s=a[Wt];if(s)return s;for(var c=a.parentNode;c;){if(s=c[ds]||c[Wt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=i1(a);a!==null;){if(c=a[Wt])return c;a=i1(a)}return s}a=c,c=a.parentNode}return null}function hs(a){if(a=a[Wt]||a[ds]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function $o(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function ms(a){var s=a[Bb];return s||(s=a[Bb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(a){a[Uo]=!0}var Ub=new Set,$b={};function pi(a,s){gs(a,s),gs(a+"Capture",s)}function gs(a,s){for($b[a]=s,a=0;a<s.length;a++)Ub.add(s[a])}var vk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zb={},qb={};function yk(a){return bt.call(qb,a)?!0:bt.call(zb,a)?!1:vk.test(a)?qb[a]=!0:(zb[a]=!0,!1)}function Rc(a,s,c){if(yk(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function Mc(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Ur(a,s,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+f)}}function Jn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Kb(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bk(a,s,c){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,x=f.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(E){c=""+E,x.call(this,E)}}),Object.defineProperty(a,s,{enumerable:f.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ch(a){if(!a._valueTracker){var s=Kb(a)?"checked":"value";a._valueTracker=bk(a,s,""+a[s])}}function Hb(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),f="";return a&&(f=Kb(a)?a.checked?"true":"false":a.value),a=f,a!==c?(s.setValue(a),!0):!1}function Ic(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var xk=/[\n"\\]/g;function Zn(a){return a.replace(xk,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function uh(a,s,c,f,v,x,E,D){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),s!=null?E==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Jn(s)):a.value!==""+Jn(s)&&(a.value=""+Jn(s)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),s!=null?dh(a,E,Jn(s)):c!=null?dh(a,E,Jn(c)):f!=null&&a.removeAttribute("value"),v==null&&x!=null&&(a.defaultChecked=!!x),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+Jn(D):a.removeAttribute("name")}function Gb(a,s,c,f,v,x,E,D){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),s!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){ch(a);return}c=c!=null?""+Jn(c):"",s=s!=null?""+Jn(s):c,D||s===a.value||(a.value=s),a.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=D?a.checked:!!f,a.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E),ch(a)}function dh(a,s,c){s==="number"&&Ic(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ps(a,s,c,f){if(a=a.options,s){s={};for(var v=0;v<c.length;v++)s["$"+c[v]]=!0;for(c=0;c<a.length;c++)v=s.hasOwnProperty("$"+a[c].value),a[c].selected!==v&&(a[c].selected=v),v&&f&&(a[c].defaultSelected=!0)}else{for(c=""+Jn(c),s=null,v=0;v<a.length;v++){if(a[v].value===c){a[v].selected=!0,f&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function Fb(a,s,c){if(s!=null&&(s=""+Jn(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+Jn(c):""}function Vb(a,s,c,f){if(s==null){if(f!=null){if(c!=null)throw Error(r(92));if(Q(f)){if(1<f.length)throw Error(r(93));f=f[0]}c=f}c==null&&(c=""),s=c}c=Jn(s),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f),ch(a)}function vs(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var wk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yb(a,s,c){var f=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,c):typeof c!="number"||c===0||wk.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Wb(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&c[v]!==f&&Yb(a,v,f)}else for(var x in s)s.hasOwnProperty(x)&&Yb(a,x,s[x])}function fh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _k=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lc(a){return Sk.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function $r(){}var hh=null;function mh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ys=null,bs=null;function Xb(a){var s=hs(a);if(s&&(a=s.stateNode)){var c=a[wn]||null;e:switch(a=s.stateNode,s.type){case"input":if(uh(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Zn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var f=c[s];if(f!==a&&f.form===a.form){var v=f[wn]||null;if(!v)throw Error(r(90));uh(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<c.length;s++)f=c[s],f.form===a.form&&Hb(f)}break e;case"textarea":Fb(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&ps(a,!!c.multiple,s,!1)}}}var gh=!1;function Jb(a,s,c){if(gh)return a(s,c);gh=!0;try{var f=a(s);return f}finally{if(gh=!1,(ys!==null||bs!==null)&&(ju(),ys&&(s=ys,a=bs,bs=ys=null,Xb(s),a)))for(s=0;s<a.length;s++)Xb(a[s])}}function zo(a,s){var c=a.stateNode;if(c===null)return null;var f=c[wn]||null;if(f===null)return null;c=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=!1;if(zr)try{var qo={};Object.defineProperty(qo,"passive",{get:function(){ph=!0}}),window.addEventListener("test",qo,qo),window.removeEventListener("test",qo,qo)}catch{ph=!1}var Ea=null,vh=null,Bc=null;function Zb(){if(Bc)return Bc;var a,s=vh,c=s.length,f,v="value"in Ea?Ea.value:Ea.textContent,x=v.length;for(a=0;a<c&&s[a]===v[a];a++);var E=c-a;for(f=1;f<=E&&s[c-f]===v[x-f];f++);return Bc=v.slice(a,1<f?1-f:void 0)}function Uc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function $c(){return!0}function Qb(){return!1}function _n(a){function s(c,f,v,x,E){this._reactName=c,this._targetInst=v,this.type=f,this.nativeEvent=x,this.target=E,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(c=a[D],this[D]=c?c(x):x[D]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?$c:Qb,this.isPropagationStopped=Qb,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c}),s}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=_n(vi),Ko=p({},vi,{view:0,detail:0}),jk=_n(Ko),yh,bh,Ho,qc=p({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ho&&(Ho&&a.type==="mousemove"?(yh=a.screenX-Ho.screenX,bh=a.screenY-Ho.screenY):bh=yh=0,Ho=a),yh)},movementY:function(a){return"movementY"in a?a.movementY:bh}}),ex=_n(qc),Ek=p({},qc,{dataTransfer:0}),Ok=_n(Ek),Ak=p({},Ko,{relatedTarget:0}),xh=_n(Ak),Nk=p({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Tk=_n(Nk),Ck=p({},vi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Dk=_n(Ck),Pk=p({},vi,{data:0}),tx=_n(Pk),kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ik(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Mk[a])?!!s[a]:!1}function wh(){return Ik}var Lk=p({},Ko,{key:function(a){if(a.key){var s=kk[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Uc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Rk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wh,charCode:function(a){return a.type==="keypress"?Uc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Uc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bk=_n(Lk),Uk=p({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nx=_n(Uk),$k=p({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wh}),zk=_n($k),qk=p({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kk=_n(qk),Hk=p({},qc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=_n(Hk),Fk=p({},vi,{newState:0,oldState:0}),Vk=_n(Fk),Yk=[9,13,27,32],_h=zr&&"CompositionEvent"in window,Go=null;zr&&"documentMode"in document&&(Go=document.documentMode);var Wk=zr&&"TextEvent"in window&&!Go,rx=zr&&(!_h||Go&&8<Go&&11>=Go),ax=" ",ix=!1;function sx(a,s){switch(a){case"keyup":return Yk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ox(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var xs=!1;function Xk(a,s){switch(a){case"compositionend":return ox(s);case"keypress":return s.which!==32?null:(ix=!0,ax);case"textInput":return a=s.data,a===ax&&ix?null:a;default:return null}}function Jk(a,s){if(xs)return a==="compositionend"||!_h&&sx(a,s)?(a=Zb(),Bc=vh=Ea=null,xs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return rx&&s.locale!=="ko"?null:s.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lx(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Zk[a.type]:s==="textarea"}function cx(a,s,c,f){ys?bs?bs.push(f):bs=[f]:ys=f,s=Du(s,"onChange"),0<s.length&&(c=new zc("onChange","change",null,c,f),a.push({event:c,listeners:s}))}var Fo=null,Vo=null;function Qk(a){G_(a,0)}function Kc(a){var s=$o(a);if(Hb(s))return a}function ux(a,s){if(a==="change")return s}var dx=!1;if(zr){var Sh;if(zr){var jh="oninput"in document;if(!jh){var fx=document.createElement("div");fx.setAttribute("oninput","return;"),jh=typeof fx.oninput=="function"}Sh=jh}else Sh=!1;dx=Sh&&(!document.documentMode||9<document.documentMode)}function hx(){Fo&&(Fo.detachEvent("onpropertychange",mx),Vo=Fo=null)}function mx(a){if(a.propertyName==="value"&&Kc(Vo)){var s=[];cx(s,Vo,a,mh(a)),Jb(Qk,s)}}function eR(a,s,c){a==="focusin"?(hx(),Fo=s,Vo=c,Fo.attachEvent("onpropertychange",mx)):a==="focusout"&&hx()}function tR(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Kc(Vo)}function nR(a,s){if(a==="click")return Kc(s)}function rR(a,s){if(a==="input"||a==="change")return Kc(s)}function aR(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Pn=typeof Object.is=="function"?Object.is:aR;function Yo(a,s){if(Pn(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),f=Object.keys(s);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var v=c[f];if(!bt.call(s,v)||!Pn(a[v],s[v]))return!1}return!0}function gx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function px(a,s){var c=gx(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=s&&f>=s)return{node:c,offset:s-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=gx(c)}}function vx(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?vx(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function yx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Ic(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Ic(a.document)}return s}function Eh(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var iR=zr&&"documentMode"in document&&11>=document.documentMode,ws=null,Oh=null,Wo=null,Ah=!1;function bx(a,s,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ah||ws==null||ws!==Ic(f)||(f=ws,"selectionStart"in f&&Eh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Wo&&Yo(Wo,f)||(Wo=f,f=Du(Oh,"onSelect"),0<f.length&&(s=new zc("onSelect","select",null,s,c),a.push({event:s,listeners:f}),s.target=ws)))}function yi(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var _s={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},Nh={},xx={};zr&&(xx=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function bi(a){if(Nh[a])return Nh[a];if(!_s[a])return a;var s=_s[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in xx)return Nh[a]=s[c];return a}var wx=bi("animationend"),_x=bi("animationiteration"),Sx=bi("animationstart"),sR=bi("transitionrun"),oR=bi("transitionstart"),lR=bi("transitioncancel"),jx=bi("transitionend"),Ex=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function br(a,s){Ex.set(a,s),pi(s,[a])}var Hc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Qn=[],Ss=0,Ch=0;function Gc(){for(var a=Ss,s=Ch=Ss=0;s<a;){var c=Qn[s];Qn[s++]=null;var f=Qn[s];Qn[s++]=null;var v=Qn[s];Qn[s++]=null;var x=Qn[s];if(Qn[s++]=null,f!==null&&v!==null){var E=f.pending;E===null?v.next=v:(v.next=E.next,E.next=v),f.pending=v}x!==0&&Ox(c,v,x)}}function Fc(a,s,c,f){Qn[Ss++]=a,Qn[Ss++]=s,Qn[Ss++]=c,Qn[Ss++]=f,Ch|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Dh(a,s,c,f){return Fc(a,s,c,f),Vc(a)}function xi(a,s){return Fc(a,null,null,s),Vc(a)}function Ox(a,s,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var v=!1,x=a.return;x!==null;)x.childLanes|=c,f=x.alternate,f!==null&&(f.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(v=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,v&&s!==null&&(v=31-Dn(c),a=x.hiddenUpdates,f=a[v],f===null?a[v]=[s]:f.push(s),s.lane=c|536870912),x):null}function Vc(a){if(50<vl)throw vl=0,$m=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var js={};function cR(a,s,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(a,s,c,f){return new cR(a,s,c,f)}function Ph(a){return a=a.prototype,!(!a||!a.isReactComponent)}function qr(a,s){var c=a.alternate;return c===null?(c=kn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Ax(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Yc(a,s,c,f,v,x){var E=0;if(f=a,typeof a=="function")Ph(a)&&(E=1);else if(typeof a=="string")E=mM(a,c,le.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case V:return a=kn(31,c,s,v),a.elementType=V,a.lanes=x,a;case _:return wi(c.children,v,x,s);case j:E=8,v|=24;break;case O:return a=kn(12,c,s,v|2),a.elementType=O,a.lanes=x,a;case N:return a=kn(13,c,s,v),a.elementType=N,a.lanes=x,a;case C:return a=kn(19,c,s,v),a.elementType=C,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case T:E=10;break e;case A:E=9;break e;case P:E=11;break e;case k:E=14;break e;case z:E=16,f=null;break e}E=29,c=Error(r(130,a===null?"null":typeof a,"")),f=null}return s=kn(E,c,s,v),s.elementType=a,s.type=f,s.lanes=x,s}function wi(a,s,c,f){return a=kn(7,a,f,s),a.lanes=c,a}function kh(a,s,c){return a=kn(6,a,null,s),a.lanes=c,a}function Nx(a){var s=kn(18,null,null,0);return s.stateNode=a,s}function Rh(a,s,c){return s=kn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Tx=new WeakMap;function er(a,s){if(typeof a=="object"&&a!==null){var c=Tx.get(a);return c!==void 0?c:(s={value:a,source:s,stack:qt(s)},Tx.set(a,s),s)}return{value:a,source:s,stack:qt(s)}}var Es=[],Os=0,Wc=null,Xo=0,tr=[],nr=0,Oa=null,Cr=1,Dr="";function Kr(a,s){Es[Os++]=Xo,Es[Os++]=Wc,Wc=a,Xo=s}function Cx(a,s,c){tr[nr++]=Cr,tr[nr++]=Dr,tr[nr++]=Oa,Oa=a;var f=Cr;a=Dr;var v=32-Dn(f)-1;f&=~(1<<v),c+=1;var x=32-Dn(s)+v;if(30<x){var E=v-v%5;x=(f&(1<<E)-1).toString(32),f>>=E,v-=E,Cr=1<<32-Dn(s)+v|c<<v|f,Dr=x+a}else Cr=1<<x|c<<v|f,Dr=a}function Mh(a){a.return!==null&&(Kr(a,1),Cx(a,1,0))}function Ih(a){for(;a===Wc;)Wc=Es[--Os],Es[Os]=null,Xo=Es[--Os],Es[Os]=null;for(;a===Oa;)Oa=tr[--nr],tr[nr]=null,Dr=tr[--nr],tr[nr]=null,Cr=tr[--nr],tr[nr]=null}function Dx(a,s){tr[nr++]=Cr,tr[nr++]=Dr,tr[nr++]=Oa,Cr=s.id,Dr=s.overflow,Oa=a}var Xt=null,ot=null,Be=!1,Aa=null,rr=!1,Lh=Error(r(519));function Na(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(er(s,a)),Lh}function Px(a){var s=a.stateNode,c=a.type,f=a.memoizedProps;switch(s[Wt]=a,s[wn]=f,c){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(c=0;c<bl.length;c++)ke(bl[c],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Gb(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Vb(s,f.value,f.defaultValue,f.children)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||f.suppressHydrationWarning===!0||W_(s.textContent,c)?(f.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),f.onScroll!=null&&ke("scroll",s),f.onScrollEnd!=null&&ke("scrollend",s),f.onClick!=null&&(s.onclick=$r),s=!0):s=!1,s||Na(a,!0)}function kx(a){for(Xt=a.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:Xt=Xt.return}}function As(a){if(a!==Xt)return!1;if(!Be)return kx(a),Be=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||tg(a.type,a.memoizedProps)),c=!c),c&&ot&&Na(a),kx(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ot=a1(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));ot=a1(a)}else s===27?(s=ot,qa(a.type)?(a=sg,sg=null,ot=a):ot=s):ot=Xt?ir(a.stateNode.nextSibling):null;return!0}function _i(){ot=Xt=null,Be=!1}function Bh(){var a=Aa;return a!==null&&(On===null?On=a:On.push.apply(On,a),Aa=null),a}function Jo(a){Aa===null?Aa=[a]:Aa.push(a)}var Uh=R(null),Si=null,Hr=null;function Ta(a,s,c){re(Uh,s._currentValue),s._currentValue=c}function Gr(a){a._currentValue=Uh.current,L(Uh)}function $h(a,s,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===c)break;a=a.return}}function zh(a,s,c,f){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var x=v.dependencies;if(x!==null){var E=v.child;x=x.firstContext;e:for(;x!==null;){var D=x;x=v;for(var M=0;M<s.length;M++)if(D.context===s[M]){x.lanes|=c,D=x.alternate,D!==null&&(D.lanes|=c),$h(x.return,c,a),f||(E=null);break e}x=D.next}}else if(v.tag===18){if(E=v.return,E===null)throw Error(r(341));E.lanes|=c,x=E.alternate,x!==null&&(x.lanes|=c),$h(E,c,a),E=null}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===a){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}}function Ns(a,s,c,f){a=null;for(var v=s,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var E=v.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var D=v.type;Pn(v.pendingProps.value,E.value)||(a!==null?a.push(D):a=[D])}}else if(v===de.current){if(E=v.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(jl):a=[jl])}v=v.return}a!==null&&zh(s,a,c,f),s.flags|=262144}function Xc(a){for(a=a.firstContext;a!==null;){if(!Pn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ji(a){Si=a,Hr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Jt(a){return Rx(Si,a)}function Jc(a,s){return Si===null&&ji(a),Rx(a,s)}function Rx(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Hr===null){if(a===null)throw Error(r(308));Hr=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Hr=Hr.next=s;return c}var uR=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},dR=e.unstable_scheduleCallback,fR=e.unstable_NormalPriority,Ot={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new uR,data:new Map,refCount:0}}function Zo(a){a.refCount--,a.refCount===0&&dR(fR,function(){a.controller.abort()})}var Qo=null,Kh=0,Ts=0,Cs=null;function hR(a,s){if(Qo===null){var c=Qo=[];Kh=0,Ts=Fm(),Cs={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Kh++,s.then(Mx,Mx),s}function Mx(){if(--Kh===0&&Qo!==null){Cs!==null&&(Cs.status="fulfilled");var a=Qo;Qo=null,Ts=0,Cs=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function mR(a,s){var c=[],f={status:"pending",value:null,reason:null,then:function(v){c.push(v)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<c.length;v++)(0,c[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<c.length;v++)(0,c[v])(void 0)}),f}var Ix=B.S;B.S=function(a,s){b_=Je(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&hR(a,s),Ix!==null&&Ix(a,s)};var Ei=R(null);function Hh(){var a=Ei.current;return a!==null?a:nt.pooledCache}function Zc(a,s){s===null?re(Ei,Ei.current):re(Ei,s.pool)}function Lx(){var a=Hh();return a===null?null:{parent:Ot._currentValue,pool:a}}var Ds=Error(r(460)),Gh=Error(r(474)),Qc=Error(r(542)),eu={then:function(){}};function Bx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ux(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then($r,$r),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,zx(a),a;default:if(typeof s.status=="string")s.then($r,$r);else{if(a=nt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,zx(a),a}throw Ai=s,Ds}}function Oi(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ai=c,Ds):c}}var Ai=null;function $x(){if(Ai===null)throw Error(r(459));var a=Ai;return Ai=null,a}function zx(a){if(a===Ds||a===Qc)throw Error(r(483))}var Ps=null,el=0;function tu(a){var s=el;return el+=1,Ps===null&&(Ps=[]),Ux(Ps,a,s)}function tl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function nu(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function qx(a){function s($,U){if(a){var H=$.deletions;H===null?($.deletions=[U],$.flags|=16):H.push(U)}}function c($,U){if(!a)return null;for(;U!==null;)s($,U),U=U.sibling;return null}function f($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function v($,U){return $=qr($,U),$.index=0,$.sibling=null,$}function x($,U,H){return $.index=H,a?(H=$.alternate,H!==null?(H=H.index,H<U?($.flags|=67108866,U):H):($.flags|=67108866,U)):($.flags|=1048576,U)}function E($){return a&&$.alternate===null&&($.flags|=67108866),$}function D($,U,H,ne){return U===null||U.tag!==6?(U=kh(H,$.mode,ne),U.return=$,U):(U=v(U,H),U.return=$,U)}function M($,U,H,ne){var Se=H.type;return Se===_?te($,U,H.props.children,ne,H.key):U!==null&&(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===z&&Oi(Se)===U.type)?(U=v(U,H.props),tl(U,H),U.return=$,U):(U=Yc(H.type,H.key,H.props,null,$.mode,ne),tl(U,H),U.return=$,U)}function G($,U,H,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Rh(H,$.mode,ne),U.return=$,U):(U=v(U,H.children||[]),U.return=$,U)}function te($,U,H,ne,Se){return U===null||U.tag!==7?(U=wi(H,$.mode,ne,Se),U.return=$,U):(U=v(U,H),U.return=$,U)}function ae($,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=kh(""+U,$.mode,H),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return H=Yc(U.type,U.key,U.props,null,$.mode,H),tl(H,U),H.return=$,H;case S:return U=Rh(U,$.mode,H),U.return=$,U;case z:return U=Oi(U),ae($,U,H)}if(Q(U)||I(U))return U=wi(U,$.mode,H,null),U.return=$,U;if(typeof U.then=="function")return ae($,tu(U),H);if(U.$$typeof===T)return ae($,Jc($,U),H);nu($,U)}return null}function Y($,U,H,ne){var Se=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Se!==null?null:D($,U,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case b:return H.key===Se?M($,U,H,ne):null;case S:return H.key===Se?G($,U,H,ne):null;case z:return H=Oi(H),Y($,U,H,ne)}if(Q(H)||I(H))return Se!==null?null:te($,U,H,ne,null);if(typeof H.then=="function")return Y($,U,tu(H),ne);if(H.$$typeof===T)return Y($,U,Jc($,H),ne);nu($,H)}return null}function Z($,U,H,ne,Se){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return $=$.get(H)||null,D(U,$,""+ne,Se);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case b:return $=$.get(ne.key===null?H:ne.key)||null,M(U,$,ne,Se);case S:return $=$.get(ne.key===null?H:ne.key)||null,G(U,$,ne,Se);case z:return ne=Oi(ne),Z($,U,H,ne,Se)}if(Q(ne)||I(ne))return $=$.get(H)||null,te(U,$,ne,Se,null);if(typeof ne.then=="function")return Z($,U,H,tu(ne),Se);if(ne.$$typeof===T)return Z($,U,H,Jc(U,ne),Se);nu(U,ne)}return null}function he($,U,H,ne){for(var Se=null,$e=null,pe=U,De=U=0,Le=null;pe!==null&&De<H.length;De++){pe.index>De?(Le=pe,pe=null):Le=pe.sibling;var ze=Y($,pe,H[De],ne);if(ze===null){pe===null&&(pe=Le);break}a&&pe&&ze.alternate===null&&s($,pe),U=x(ze,U,De),$e===null?Se=ze:$e.sibling=ze,$e=ze,pe=Le}if(De===H.length)return c($,pe),Be&&Kr($,De),Se;if(pe===null){for(;De<H.length;De++)pe=ae($,H[De],ne),pe!==null&&(U=x(pe,U,De),$e===null?Se=pe:$e.sibling=pe,$e=pe);return Be&&Kr($,De),Se}for(pe=f(pe);De<H.length;De++)Le=Z(pe,$,De,H[De],ne),Le!==null&&(a&&Le.alternate!==null&&pe.delete(Le.key===null?De:Le.key),U=x(Le,U,De),$e===null?Se=Le:$e.sibling=Le,$e=Le);return a&&pe.forEach(function(Va){return s($,Va)}),Be&&Kr($,De),Se}function Oe($,U,H,ne){if(H==null)throw Error(r(151));for(var Se=null,$e=null,pe=U,De=U=0,Le=null,ze=H.next();pe!==null&&!ze.done;De++,ze=H.next()){pe.index>De?(Le=pe,pe=null):Le=pe.sibling;var Va=Y($,pe,ze.value,ne);if(Va===null){pe===null&&(pe=Le);break}a&&pe&&Va.alternate===null&&s($,pe),U=x(Va,U,De),$e===null?Se=Va:$e.sibling=Va,$e=Va,pe=Le}if(ze.done)return c($,pe),Be&&Kr($,De),Se;if(pe===null){for(;!ze.done;De++,ze=H.next())ze=ae($,ze.value,ne),ze!==null&&(U=x(ze,U,De),$e===null?Se=ze:$e.sibling=ze,$e=ze);return Be&&Kr($,De),Se}for(pe=f(pe);!ze.done;De++,ze=H.next())ze=Z(pe,$,De,ze.value,ne),ze!==null&&(a&&ze.alternate!==null&&pe.delete(ze.key===null?De:ze.key),U=x(ze,U,De),$e===null?Se=ze:$e.sibling=ze,$e=ze);return a&&pe.forEach(function(EM){return s($,EM)}),Be&&Kr($,De),Se}function et($,U,H,ne){if(typeof H=="object"&&H!==null&&H.type===_&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case b:e:{for(var Se=H.key;U!==null;){if(U.key===Se){if(Se=H.type,Se===_){if(U.tag===7){c($,U.sibling),ne=v(U,H.props.children),ne.return=$,$=ne;break e}}else if(U.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===z&&Oi(Se)===U.type){c($,U.sibling),ne=v(U,H.props),tl(ne,H),ne.return=$,$=ne;break e}c($,U);break}else s($,U);U=U.sibling}H.type===_?(ne=wi(H.props.children,$.mode,ne,H.key),ne.return=$,$=ne):(ne=Yc(H.type,H.key,H.props,null,$.mode,ne),tl(ne,H),ne.return=$,$=ne)}return E($);case S:e:{for(Se=H.key;U!==null;){if(U.key===Se)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){c($,U.sibling),ne=v(U,H.children||[]),ne.return=$,$=ne;break e}else{c($,U);break}else s($,U);U=U.sibling}ne=Rh(H,$.mode,ne),ne.return=$,$=ne}return E($);case z:return H=Oi(H),et($,U,H,ne)}if(Q(H))return he($,U,H,ne);if(I(H)){if(Se=I(H),typeof Se!="function")throw Error(r(150));return H=Se.call(H),Oe($,U,H,ne)}if(typeof H.then=="function")return et($,U,tu(H),ne);if(H.$$typeof===T)return et($,U,Jc($,H),ne);nu($,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(c($,U.sibling),ne=v(U,H),ne.return=$,$=ne):(c($,U),ne=kh(H,$.mode,ne),ne.return=$,$=ne),E($)):c($,U)}return function($,U,H,ne){try{el=0;var Se=et($,U,H,ne);return Ps=null,Se}catch(pe){if(pe===Ds||pe===Qc)throw pe;var $e=kn(29,pe,null,$.mode);return $e.lanes=ne,$e.return=$,$e}finally{}}}var Ni=qx(!0),Kx=qx(!1),Ca=!1;function Fh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Da(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Pa(a,s,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(He&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=Vc(a),Ox(a,null,c),s}return Fc(a,f,s,c),Vc(a)}function nl(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,c|=f,s.lanes=c,Rb(a,c)}}function Yh(a,s){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var v=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?v=x=E:x=x.next=E,c=c.next}while(c!==null);x===null?v=x=s:x=x.next=s}else v=x=s;c={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Wh=!1;function rl(){if(Wh){var a=Cs;if(a!==null)throw a}}function al(a,s,c,f){Wh=!1;var v=a.updateQueue;Ca=!1;var x=v.firstBaseUpdate,E=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var M=D,G=M.next;M.next=null,E===null?x=G:E.next=G,E=M;var te=a.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==E&&(D===null?te.firstBaseUpdate=G:D.next=G,te.lastBaseUpdate=M))}if(x!==null){var ae=v.baseState;E=0,te=G=M=null,D=x;do{var Y=D.lane&-536870913,Z=Y!==D.lane;if(Z?(Ie&Y)===Y:(f&Y)===Y){Y!==0&&Y===Ts&&(Wh=!0),te!==null&&(te=te.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var he=a,Oe=D;Y=s;var et=c;switch(Oe.tag){case 1:if(he=Oe.payload,typeof he=="function"){ae=he.call(et,ae,Y);break e}ae=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Oe.payload,Y=typeof he=="function"?he.call(et,ae,Y):he,Y==null)break e;ae=p({},ae,Y);break e;case 2:Ca=!0}}Y=D.callback,Y!==null&&(a.flags|=64,Z&&(a.flags|=8192),Z=v.callbacks,Z===null?v.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(G=te=Z,M=ae):te=te.next=Z,E|=Y;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;Z=D,D=Z.next,Z.next=null,v.lastBaseUpdate=Z,v.shared.pending=null}}while(!0);te===null&&(M=ae),v.baseState=M,v.firstBaseUpdate=G,v.lastBaseUpdate=te,x===null&&(v.shared.lanes=0),La|=E,a.lanes=E,a.memoizedState=ae}}function Hx(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Gx(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Hx(c[a],s)}var ks=R(null),ru=R(0);function Fx(a,s){a=ea,re(ru,a),re(ks,s),ea=a|s.baseLanes}function Xh(){re(ru,ea),re(ks,ks.current)}function Jh(){ea=ru.current,L(ks),L(ru)}var Rn=R(null),ar=null;function ka(a){var s=a.alternate;re(St,St.current&1),re(Rn,a),ar===null&&(s===null||ks.current!==null||s.memoizedState!==null)&&(ar=a)}function Zh(a){re(St,St.current),re(Rn,a),ar===null&&(ar=a)}function Vx(a){a.tag===22?(re(St,St.current),re(Rn,a),ar===null&&(ar=a)):Ra()}function Ra(){re(St,St.current),re(Rn,Rn.current)}function Mn(a){L(Rn),ar===a&&(ar=null),L(St)}var St=R(0);function au(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ag(c)||ig(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fr=0,Te=null,Ze=null,At=null,iu=!1,Rs=!1,Ti=!1,su=0,il=0,Ms=null,gR=0;function xt(){throw Error(r(321))}function Qh(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Pn(a[c],s[c]))return!1;return!0}function em(a,s,c,f,v,x){return Fr=x,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=a===null||a.memoizedState===null?Cw:gm,Ti=!1,x=c(f,v),Ti=!1,Rs&&(x=Wx(s,c,f,v)),Yx(a),x}function Yx(a){B.H=ll;var s=Ze!==null&&Ze.next!==null;if(Fr=0,At=Ze=Te=null,iu=!1,il=0,Ms=null,s)throw Error(r(300));a===null||Nt||(a=a.dependencies,a!==null&&Xc(a)&&(Nt=!0))}function Wx(a,s,c,f){Te=a;var v=0;do{if(Rs&&(Ms=null),il=0,Rs=!1,25<=v)throw Error(r(301));if(v+=1,At=Ze=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=Dw,x=s(c,f)}while(Rs);return x}function pR(){var a=B.H,s=a.useState()[0];return s=typeof s.then=="function"?sl(s):s,a=a.useState()[0],(Ze!==null?Ze.memoizedState:null)!==a&&(Te.flags|=1024),s}function tm(){var a=su!==0;return su=0,a}function nm(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function rm(a){if(iu){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}iu=!1}Fr=0,At=Ze=Te=null,Rs=!1,il=su=0,Ms=null}function hn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Te.memoizedState=At=a:At=At.next=a,At}function jt(){if(Ze===null){var a=Te.alternate;a=a!==null?a.memoizedState:null}else a=Ze.next;var s=At===null?Te.memoizedState:At.next;if(s!==null)At=s,Ze=a;else{if(a===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Ze=a,a={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Te.memoizedState=At=a:At=At.next=a}return At}function ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(a){var s=il;return il+=1,Ms===null&&(Ms=[]),a=Ux(Ms,a,s),s=Te,(At===null?s.memoizedState:At.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Cw:gm),a}function lu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return sl(a);if(a.$$typeof===T)return Jt(a)}throw Error(r(438,String(a)))}function am(a){var s=null,c=Te.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var f=Te.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=ou(),Te.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),f=0;f<a;f++)c[f]=ie;return s.index++,c}function Vr(a,s){return typeof s=="function"?s(a):s}function cu(a){var s=jt();return im(s,Ze,a)}function im(a,s,c){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=c;var v=a.baseQueue,x=f.pending;if(x!==null){if(v!==null){var E=v.next;v.next=x.next,x.next=E}s.baseQueue=v=x,f.pending=null}if(x=a.baseState,v===null)a.memoizedState=x;else{s=v.next;var D=E=null,M=null,G=s,te=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(Ie&ae)===ae:(Fr&ae)===ae){var Y=G.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===Ts&&(te=!0);else if((Fr&Y)===Y){G=G.next,Y===Ts&&(te=!0);continue}else ae={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(D=M=ae,E=x):M=M.next=ae,Te.lanes|=Y,La|=Y;ae=G.action,Ti&&c(x,ae),x=G.hasEagerState?G.eagerState:c(x,ae)}else Y={lane:ae,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(D=M=Y,E=x):M=M.next=Y,Te.lanes|=ae,La|=ae;G=G.next}while(G!==null&&G!==s);if(M===null?E=x:M.next=D,!Pn(x,a.memoizedState)&&(Nt=!0,te&&(c=Cs,c!==null)))throw c;a.memoizedState=x,a.baseState=E,a.baseQueue=M,f.lastRenderedState=x}return v===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function sm(a){var s=jt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var f=c.dispatch,v=c.pending,x=s.memoizedState;if(v!==null){c.pending=null;var E=v=v.next;do x=a(x,E.action),E=E.next;while(E!==v);Pn(x,s.memoizedState)||(Nt=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),c.lastRenderedState=x}return[x,f]}function Xx(a,s,c){var f=Te,v=jt(),x=Be;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=s();var E=!Pn((Ze||v).memoizedState,c);if(E&&(v.memoizedState=c,Nt=!0),v=v.queue,cm(Qx.bind(null,f,v,a),[a]),v.getSnapshot!==s||E||At!==null&&At.memoizedState.tag&1){if(f.flags|=2048,Is(9,{destroy:void 0},Zx.bind(null,f,v,c,s),null),nt===null)throw Error(r(349));x||(Fr&127)!==0||Jx(f,s,c)}return c}function Jx(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Te.updateQueue,s===null?(s=ou(),Te.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function Zx(a,s,c,f){s.value=c,s.getSnapshot=f,ew(s)&&tw(a)}function Qx(a,s,c){return c(function(){ew(s)&&tw(a)})}function ew(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Pn(a,c)}catch{return!0}}function tw(a){var s=xi(a,2);s!==null&&An(s,a,2)}function om(a){var s=hn();if(typeof a=="function"){var c=a;if(a=c(),Ti){Sa(!0);try{c()}finally{Sa(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},s}function nw(a,s,c,f){return a.baseState=c,im(a,Ze,typeof f=="function"?f:Vr)}function vR(a,s,c,f,v){if(fu(a))throw Error(r(485));if(a=s.action,a!==null){var x={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){x.listeners.push(E)}};B.T!==null?c(!0):x.isTransition=!1,f(x),c=s.pending,c===null?(x.next=s.pending=x,rw(s,x)):(x.next=c.next,s.pending=c.next=x)}}function rw(a,s){var c=s.action,f=s.payload,v=a.state;if(s.isTransition){var x=B.T,E={};B.T=E;try{var D=c(v,f),M=B.S;M!==null&&M(E,D),aw(a,s,D)}catch(G){lm(a,s,G)}finally{x!==null&&E.types!==null&&(x.types=E.types),B.T=x}}else try{x=c(v,f),aw(a,s,x)}catch(G){lm(a,s,G)}}function aw(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){iw(a,s,f)},function(f){return lm(a,s,f)}):iw(a,s,c)}function iw(a,s,c){s.status="fulfilled",s.value=c,sw(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,rw(a,c)))}function lm(a,s,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=c,sw(s),s=s.next;while(s!==f)}a.action=null}function sw(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function ow(a,s){return s}function lw(a,s){if(Be){var c=nt.formState;if(c!==null){e:{var f=Te;if(Be){if(ot){t:{for(var v=ot,x=rr;v.nodeType!==8;){if(!x){v=null;break t}if(v=ir(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){ot=ir(v.nextSibling),f=v.data==="F!";break e}}Na(f)}f=!1}f&&(s=c[0])}}return c=hn(),c.memoizedState=c.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ow,lastRenderedState:s},c.queue=f,c=Aw.bind(null,Te,f),f.dispatch=c,f=om(!1),x=mm.bind(null,Te,!1,f.queue),f=hn(),v={state:s,dispatch:null,action:a,pending:null},f.queue=v,c=vR.bind(null,Te,v,x,c),v.dispatch=c,f.memoizedState=a,[s,c,!1]}function cw(a){var s=jt();return uw(s,Ze,a)}function uw(a,s,c){if(s=im(a,s,ow)[0],a=cu(Vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=sl(s)}catch(E){throw E===Ds?Qc:E}else f=s;s=jt();var v=s.queue,x=v.dispatch;return c!==s.memoizedState&&(Te.flags|=2048,Is(9,{destroy:void 0},yR.bind(null,v,c),null)),[f,x,a]}function yR(a,s){a.action=s}function dw(a){var s=jt(),c=Ze;if(c!==null)return uw(s,c,a);jt(),s=s.memoizedState,c=jt();var f=c.queue.dispatch;return c.memoizedState=a,[s,f,!1]}function Is(a,s,c,f){return a={tag:a,create:c,deps:f,inst:s,next:null},s=Te.updateQueue,s===null&&(s=ou(),Te.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,s.lastEffect=a),a}function fw(){return jt().memoizedState}function uu(a,s,c,f){var v=hn();Te.flags|=a,v.memoizedState=Is(1|s,{destroy:void 0},c,f===void 0?null:f)}function du(a,s,c,f){var v=jt();f=f===void 0?null:f;var x=v.memoizedState.inst;Ze!==null&&f!==null&&Qh(f,Ze.memoizedState.deps)?v.memoizedState=Is(s,x,c,f):(Te.flags|=a,v.memoizedState=Is(1|s,x,c,f))}function hw(a,s){uu(8390656,8,a,s)}function cm(a,s){du(2048,8,a,s)}function bR(a){Te.flags|=4;var s=Te.updateQueue;if(s===null)s=ou(),Te.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function mw(a){var s=jt().memoizedState;return bR({ref:s,nextImpl:a}),function(){if((He&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function gw(a,s){return du(4,2,a,s)}function pw(a,s){return du(4,4,a,s)}function vw(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function yw(a,s,c){c=c!=null?c.concat([a]):null,du(4,4,vw.bind(null,s,a),c)}function um(){}function bw(a,s){var c=jt();s=s===void 0?null:s;var f=c.memoizedState;return s!==null&&Qh(s,f[1])?f[0]:(c.memoizedState=[a,s],a)}function xw(a,s){var c=jt();s=s===void 0?null:s;var f=c.memoizedState;if(s!==null&&Qh(s,f[1]))return f[0];if(f=a(),Ti){Sa(!0);try{a()}finally{Sa(!1)}}return c.memoizedState=[f,s],f}function dm(a,s,c){return c===void 0||(Fr&1073741824)!==0&&(Ie&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=w_(),Te.lanes|=a,La|=a,c)}function ww(a,s,c,f){return Pn(c,s)?c:ks.current!==null?(a=dm(a,c,f),Pn(a,s)||(Nt=!0),a):(Fr&42)===0||(Fr&1073741824)!==0&&(Ie&261930)===0?(Nt=!0,a.memoizedState=c):(a=w_(),Te.lanes|=a,La|=a,s)}function _w(a,s,c,f,v){var x=K.p;K.p=x!==0&&8>x?x:8;var E=B.T,D={};B.T=D,mm(a,!1,s,c);try{var M=v(),G=B.S;if(G!==null&&G(D,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var te=mR(M,f);ol(a,s,te,Bn(a))}else ol(a,s,f,Bn(a))}catch(ae){ol(a,s,{then:function(){},status:"rejected",reason:ae},Bn())}finally{K.p=x,E!==null&&D.types!==null&&(E.types=D.types),B.T=E}}function xR(){}function fm(a,s,c,f){if(a.tag!==5)throw Error(r(476));var v=Sw(a).queue;_w(a,v,s,oe,c===null?xR:function(){return jw(a),c(f)})}function Sw(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:oe},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function jw(a){var s=Sw(a);s.next===null&&(s=a.alternate.memoizedState),ol(a,s.next.queue,{},Bn())}function hm(){return Jt(jl)}function Ew(){return jt().memoizedState}function Ow(){return jt().memoizedState}function wR(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Bn();a=Da(c);var f=Pa(s,a,c);f!==null&&(An(f,s,c),nl(f,s,c)),s={cache:qh()},a.payload=s;return}s=s.return}}function _R(a,s,c){var f=Bn();c={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fu(a)?Nw(s,c):(c=Dh(a,s,c,f),c!==null&&(An(c,a,f),Tw(c,s,f)))}function Aw(a,s,c){var f=Bn();ol(a,s,c,f)}function ol(a,s,c,f){var v={lane:f,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(fu(a))Nw(s,v);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var E=s.lastRenderedState,D=x(E,c);if(v.hasEagerState=!0,v.eagerState=D,Pn(D,E))return Fc(a,s,v,0),nt===null&&Gc(),!1}catch{}finally{}if(c=Dh(a,s,v,f),c!==null)return An(c,a,f),Tw(c,s,f),!0}return!1}function mm(a,s,c,f){if(f={lane:2,revertLane:Fm(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},fu(a)){if(s)throw Error(r(479))}else s=Dh(a,c,f,2),s!==null&&An(s,a,2)}function fu(a){var s=a.alternate;return a===Te||s!==null&&s===Te}function Nw(a,s){Rs=iu=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function Tw(a,s,c){if((c&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,c|=f,s.lanes=c,Rb(a,c)}}var ll={readContext:Jt,use:lu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};ll.useEffectEvent=xt;var Cw={readContext:Jt,use:lu,useCallback:function(a,s){return hn().memoizedState=[a,s===void 0?null:s],a},useContext:Jt,useEffect:hw,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,uu(4194308,4,vw.bind(null,s,a),c)},useLayoutEffect:function(a,s){return uu(4194308,4,a,s)},useInsertionEffect:function(a,s){uu(4,2,a,s)},useMemo:function(a,s){var c=hn();s=s===void 0?null:s;var f=a();if(Ti){Sa(!0);try{a()}finally{Sa(!1)}}return c.memoizedState=[f,s],f},useReducer:function(a,s,c){var f=hn();if(c!==void 0){var v=c(s);if(Ti){Sa(!0);try{c(s)}finally{Sa(!1)}}}else v=s;return f.memoizedState=f.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},f.queue=a,a=a.dispatch=_R.bind(null,Te,a),[f.memoizedState,a]},useRef:function(a){var s=hn();return a={current:a},s.memoizedState=a},useState:function(a){a=om(a);var s=a.queue,c=Aw.bind(null,Te,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:um,useDeferredValue:function(a,s){var c=hn();return dm(c,a,s)},useTransition:function(){var a=om(!1);return a=_w.bind(null,Te,a.queue,!0,!1),hn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var f=Te,v=hn();if(Be){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),nt===null)throw Error(r(349));(Ie&127)!==0||Jx(f,s,c)}v.memoizedState=c;var x={value:c,getSnapshot:s};return v.queue=x,hw(Qx.bind(null,f,x,a),[a]),f.flags|=2048,Is(9,{destroy:void 0},Zx.bind(null,f,x,c,s),null),c},useId:function(){var a=hn(),s=nt.identifierPrefix;if(Be){var c=Dr,f=Cr;c=(f&~(1<<32-Dn(f)-1)).toString(32)+c,s="_"+s+"R_"+c,c=su++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=gR++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:hm,useFormState:lw,useActionState:lw,useOptimistic:function(a){var s=hn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=mm.bind(null,Te,!0,c),c.dispatch=s,[a,s]},useMemoCache:am,useCacheRefresh:function(){return hn().memoizedState=wR.bind(null,Te)},useEffectEvent:function(a){var s=hn(),c={impl:a};return s.memoizedState=c,function(){if((He&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},gm={readContext:Jt,use:lu,useCallback:bw,useContext:Jt,useEffect:cm,useImperativeHandle:yw,useInsertionEffect:gw,useLayoutEffect:pw,useMemo:xw,useReducer:cu,useRef:fw,useState:function(){return cu(Vr)},useDebugValue:um,useDeferredValue:function(a,s){var c=jt();return ww(c,Ze.memoizedState,a,s)},useTransition:function(){var a=cu(Vr)[0],s=jt().memoizedState;return[typeof a=="boolean"?a:sl(a),s]},useSyncExternalStore:Xx,useId:Ew,useHostTransitionStatus:hm,useFormState:cw,useActionState:cw,useOptimistic:function(a,s){var c=jt();return nw(c,Ze,a,s)},useMemoCache:am,useCacheRefresh:Ow};gm.useEffectEvent=mw;var Dw={readContext:Jt,use:lu,useCallback:bw,useContext:Jt,useEffect:cm,useImperativeHandle:yw,useInsertionEffect:gw,useLayoutEffect:pw,useMemo:xw,useReducer:sm,useRef:fw,useState:function(){return sm(Vr)},useDebugValue:um,useDeferredValue:function(a,s){var c=jt();return Ze===null?dm(c,a,s):ww(c,Ze.memoizedState,a,s)},useTransition:function(){var a=sm(Vr)[0],s=jt().memoizedState;return[typeof a=="boolean"?a:sl(a),s]},useSyncExternalStore:Xx,useId:Ew,useHostTransitionStatus:hm,useFormState:dw,useActionState:dw,useOptimistic:function(a,s){var c=jt();return Ze!==null?nw(c,Ze,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:am,useCacheRefresh:Ow};Dw.useEffectEvent=mw;function pm(a,s,c,f){s=a.memoizedState,c=c(f,s),c=c==null?s:p({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var vm={enqueueSetState:function(a,s,c){a=a._reactInternals;var f=Bn(),v=Da(f);v.payload=s,c!=null&&(v.callback=c),s=Pa(a,v,f),s!==null&&(An(s,a,f),nl(s,a,f))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var f=Bn(),v=Da(f);v.tag=1,v.payload=s,c!=null&&(v.callback=c),s=Pa(a,v,f),s!==null&&(An(s,a,f),nl(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Bn(),f=Da(c);f.tag=2,s!=null&&(f.callback=s),s=Pa(a,f,c),s!==null&&(An(s,a,c),nl(s,a,c))}};function Pw(a,s,c,f,v,x,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,x,E):s.prototype&&s.prototype.isPureReactComponent?!Yo(c,f)||!Yo(v,x):!0}function kw(a,s,c,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,f),s.state!==a&&vm.enqueueReplaceState(s,s.state,null)}function Ci(a,s){var c=s;if("ref"in s){c={};for(var f in s)f!=="ref"&&(c[f]=s[f])}if(a=a.defaultProps){c===s&&(c=p({},c));for(var v in a)c[v]===void 0&&(c[v]=a[v])}return c}function Rw(a){Hc(a)}function Mw(a){console.error(a)}function Iw(a){Hc(a)}function hu(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function Lw(a,s,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ym(a,s,c){return c=Da(c),c.tag=3,c.payload={element:null},c.callback=function(){hu(a,s)},c}function Bw(a){return a=Da(a),a.tag=3,a}function Uw(a,s,c,f){var v=c.type.getDerivedStateFromError;if(typeof v=="function"){var x=f.value;a.payload=function(){return v(x)},a.callback=function(){Lw(s,c,f)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){Lw(s,c,f),typeof v!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function SR(a,s,c,f,v){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=c.alternate,s!==null&&Ns(s,c,v,!0),c=Rn.current,c!==null){switch(c.tag){case 31:case 13:return ar===null?Eu():c.alternate===null&&wt===0&&(wt=3),c.flags&=-257,c.flags|=65536,c.lanes=v,f===eu?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([f]):s.add(f),Km(a,f,v)),!1;case 22:return c.flags|=65536,f===eu?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([f]):c.add(f)),Km(a,f,v)),!1}throw Error(r(435,c.tag))}return Km(a,f,v),Eu(),!1}if(Be)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==Lh&&(a=Error(r(422),{cause:f}),Jo(er(a,c)))):(f!==Lh&&(s=Error(r(423),{cause:f}),Jo(er(s,c))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,f=er(f,c),v=ym(a.stateNode,f,v),Yh(a,v),wt!==4&&(wt=2)),!1;var x=Error(r(520),{cause:f});if(x=er(x,c),pl===null?pl=[x]:pl.push(x),wt!==4&&(wt=2),s===null)return!0;f=er(f,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=v&-v,c.lanes|=a,a=ym(c.stateNode,f,a),Yh(c,a),!1;case 1:if(s=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ba===null||!Ba.has(x))))return c.flags|=65536,v&=-v,c.lanes|=v,v=Bw(v),Uw(v,a,c,f),Yh(c,v),!1}c=c.return}while(c!==null);return!1}var bm=Error(r(461)),Nt=!1;function Zt(a,s,c,f){s.child=a===null?Kx(s,null,c,f):Ni(s,a.child,c,f)}function $w(a,s,c,f,v){c=c.render;var x=s.ref;if("ref"in f){var E={};for(var D in f)D!=="ref"&&(E[D]=f[D])}else E=f;return ji(s),f=em(a,s,c,E,x,v),D=tm(),a!==null&&!Nt?(nm(a,s,v),Yr(a,s,v)):(Be&&D&&Mh(s),s.flags|=1,Zt(a,s,f,v),s.child)}function zw(a,s,c,f,v){if(a===null){var x=c.type;return typeof x=="function"&&!Ph(x)&&x.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=x,qw(a,s,x,f,v)):(a=Yc(c.type,null,f,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(x=a.child,!Am(a,v)){var E=x.memoizedProps;if(c=c.compare,c=c!==null?c:Yo,c(E,f)&&a.ref===s.ref)return Yr(a,s,v)}return s.flags|=1,a=qr(x,f),a.ref=s.ref,a.return=s,s.child=a}function qw(a,s,c,f,v){if(a!==null){var x=a.memoizedProps;if(Yo(x,f)&&a.ref===s.ref)if(Nt=!1,s.pendingProps=f=x,Am(a,v))(a.flags&131072)!==0&&(Nt=!0);else return s.lanes=a.lanes,Yr(a,s,v)}return xm(a,s,c,f,v)}function Kw(a,s,c,f){var v=f.children,x=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(f=s.child=a.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~x}else f=0,s.child=null;return Hw(a,s,x,c,f)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Zc(s,x!==null?x.cachePool:null),x!==null?Fx(s,x):Xh(),Vx(s);else return f=s.lanes=536870912,Hw(a,s,x!==null?x.baseLanes|c:c,c,f)}else x!==null?(Zc(s,x.cachePool),Fx(s,x),Ra(),s.memoizedState=null):(a!==null&&Zc(s,null),Xh(),Ra());return Zt(a,s,v,c),s.child}function cl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Hw(a,s,c,f,v){var x=Hh();return x=x===null?null:{parent:Ot._currentValue,pool:x},s.memoizedState={baseLanes:c,cachePool:x},a!==null&&Zc(s,null),Xh(),Vx(s),a!==null&&Ns(a,s,f,!0),s.childLanes=v,null}function mu(a,s){return s=pu({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function Gw(a,s,c){return Ni(s,a.child,null,c),a=mu(s,s.pendingProps),a.flags|=2,Mn(s),s.memoizedState=null,a}function jR(a,s,c){var f=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Be){if(f.mode==="hidden")return a=mu(s,f),s.lanes=536870912,cl(null,a);if(Zh(s),(a=ot)?(a=r1(a,rr),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Oa!==null?{id:Cr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},c=Nx(a),c.return=s,s.child=c,Xt=s,ot=null)):a=null,a===null)throw Na(s);return s.lanes=536870912,null}return mu(s,f)}var x=a.memoizedState;if(x!==null){var E=x.dehydrated;if(Zh(s),v)if(s.flags&256)s.flags&=-257,s=Gw(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Nt||Ns(a,s,c,!1),v=(c&a.childLanes)!==0,Nt||v){if(f=nt,f!==null&&(E=Mb(f,c),E!==0&&E!==x.retryLane))throw x.retryLane=E,xi(a,E),An(f,a,E),bm;Eu(),s=Gw(a,s,c)}else a=x.treeContext,ot=ir(E.nextSibling),Xt=s,Be=!0,Aa=null,rr=!1,a!==null&&Dx(s,a),s=mu(s,f),s.flags|=4096;return s}return a=qr(a.child,{mode:f.mode,children:f.children}),a.ref=s.ref,s.child=a,a.return=s,a}function gu(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function xm(a,s,c,f,v){return ji(s),c=em(a,s,c,f,void 0,v),f=tm(),a!==null&&!Nt?(nm(a,s,v),Yr(a,s,v)):(Be&&f&&Mh(s),s.flags|=1,Zt(a,s,c,v),s.child)}function Fw(a,s,c,f,v,x){return ji(s),s.updateQueue=null,c=Wx(s,f,c,v),Yx(a),f=tm(),a!==null&&!Nt?(nm(a,s,x),Yr(a,s,x)):(Be&&f&&Mh(s),s.flags|=1,Zt(a,s,c,x),s.child)}function Vw(a,s,c,f,v){if(ji(s),s.stateNode===null){var x=js,E=c.contextType;typeof E=="object"&&E!==null&&(x=Jt(E)),x=new c(f,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=vm,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=f,x.state=s.memoizedState,x.refs={},Fh(s),E=c.contextType,x.context=typeof E=="object"&&E!==null?Jt(E):js,x.state=s.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(pm(s,c,E,f),x.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(E=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),E!==x.state&&vm.enqueueReplaceState(x,x.state,null),al(s,f,x,v),rl(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){x=s.stateNode;var D=s.memoizedProps,M=Ci(c,D);x.props=M;var G=x.context,te=c.contextType;E=js,typeof te=="object"&&te!==null&&(E=Jt(te));var ae=c.getDerivedStateFromProps;te=typeof ae=="function"||typeof x.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,te||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D||G!==E)&&kw(s,x,f,E),Ca=!1;var Y=s.memoizedState;x.state=Y,al(s,f,x,v),rl(),G=s.memoizedState,D||Y!==G||Ca?(typeof ae=="function"&&(pm(s,c,ae,f),G=s.memoizedState),(M=Ca||Pw(s,c,M,f,Y,G,E))?(te||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=G),x.props=f,x.state=G,x.context=E,f=M):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{x=s.stateNode,Vh(a,s),E=s.memoizedProps,te=Ci(c,E),x.props=te,ae=s.pendingProps,Y=x.context,G=c.contextType,M=js,typeof G=="object"&&G!==null&&(M=Jt(G)),D=c.getDerivedStateFromProps,(G=typeof D=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==ae||Y!==M)&&kw(s,x,f,M),Ca=!1,Y=s.memoizedState,x.state=Y,al(s,f,x,v),rl();var Z=s.memoizedState;E!==ae||Y!==Z||Ca||a!==null&&a.dependencies!==null&&Xc(a.dependencies)?(typeof D=="function"&&(pm(s,c,D,f),Z=s.memoizedState),(te=Ca||Pw(s,c,te,f,Y,Z,M)||a!==null&&a.dependencies!==null&&Xc(a.dependencies))?(G||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(f,Z,M),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(f,Z,M)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===a.memoizedProps&&Y===a.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Y===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=Z),x.props=f,x.state=Z,x.context=M,f=te):(typeof x.componentDidUpdate!="function"||E===a.memoizedProps&&Y===a.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&Y===a.memoizedState||(s.flags|=1024),f=!1)}return x=f,gu(a,s),f=(s.flags&128)!==0,x||f?(x=s.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,a!==null&&f?(s.child=Ni(s,a.child,null,v),s.child=Ni(s,null,c,v)):Zt(a,s,c,v),s.memoizedState=x.state,a=s.child):a=Yr(a,s,v),a}function Yw(a,s,c,f){return _i(),s.flags|=256,Zt(a,s,c,f),s.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(a){return{baseLanes:a,cachePool:Lx()}}function Sm(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Ln),a}function Ww(a,s,c){var f=s.pendingProps,v=!1,x=(s.flags&128)!==0,E;if((E=x)||(E=a!==null&&a.memoizedState===null?!1:(St.current&2)!==0),E&&(v=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,a===null){if(Be){if(v?ka(s):Ra(),(a=ot)?(a=r1(a,rr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Oa!==null?{id:Cr,overflow:Dr}:null,retryLane:536870912,hydrationErrors:null},c=Nx(a),c.return=s,s.child=c,Xt=s,ot=null)):a=null,a===null)throw Na(s);return ig(a)?s.lanes=32:s.lanes=536870912,null}var D=f.children;return f=f.fallback,v?(Ra(),v=s.mode,D=pu({mode:"hidden",children:D},v),f=wi(f,v,c,null),D.return=s,f.return=s,D.sibling=f,s.child=D,f=s.child,f.memoizedState=_m(c),f.childLanes=Sm(a,E,c),s.memoizedState=wm,cl(null,f)):(ka(s),jm(s,D))}var M=a.memoizedState;if(M!==null&&(D=M.dehydrated,D!==null)){if(x)s.flags&256?(ka(s),s.flags&=-257,s=Em(a,s,c)):s.memoizedState!==null?(Ra(),s.child=a.child,s.flags|=128,s=null):(Ra(),D=f.fallback,v=s.mode,f=pu({mode:"visible",children:f.children},v),D=wi(D,v,c,null),D.flags|=2,f.return=s,D.return=s,f.sibling=D,s.child=f,Ni(s,a.child,null,c),f=s.child,f.memoizedState=_m(c),f.childLanes=Sm(a,E,c),s.memoizedState=wm,s=cl(null,f));else if(ka(s),ig(D)){if(E=D.nextSibling&&D.nextSibling.dataset,E)var G=E.dgst;E=G,f=Error(r(419)),f.stack="",f.digest=E,Jo({value:f,source:null,stack:null}),s=Em(a,s,c)}else if(Nt||Ns(a,s,c,!1),E=(c&a.childLanes)!==0,Nt||E){if(E=nt,E!==null&&(f=Mb(E,c),f!==0&&f!==M.retryLane))throw M.retryLane=f,xi(a,f),An(E,a,f),bm;ag(D)||Eu(),s=Em(a,s,c)}else ag(D)?(s.flags|=192,s.child=a.child,s=null):(a=M.treeContext,ot=ir(D.nextSibling),Xt=s,Be=!0,Aa=null,rr=!1,a!==null&&Dx(s,a),s=jm(s,f.children),s.flags|=4096);return s}return v?(Ra(),D=f.fallback,v=s.mode,M=a.child,G=M.sibling,f=qr(M,{mode:"hidden",children:f.children}),f.subtreeFlags=M.subtreeFlags&65011712,G!==null?D=qr(G,D):(D=wi(D,v,c,null),D.flags|=2),D.return=s,f.return=s,f.sibling=D,s.child=f,cl(null,f),f=s.child,D=a.child.memoizedState,D===null?D=_m(c):(v=D.cachePool,v!==null?(M=Ot._currentValue,v=v.parent!==M?{parent:M,pool:M}:v):v=Lx(),D={baseLanes:D.baseLanes|c,cachePool:v}),f.memoizedState=D,f.childLanes=Sm(a,E,c),s.memoizedState=wm,cl(a.child,f)):(ka(s),c=a.child,a=c.sibling,c=qr(c,{mode:"visible",children:f.children}),c.return=s,c.sibling=null,a!==null&&(E=s.deletions,E===null?(s.deletions=[a],s.flags|=16):E.push(a)),s.child=c,s.memoizedState=null,c)}function jm(a,s){return s=pu({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function pu(a,s){return a=kn(22,a,null,s),a.lanes=0,a}function Em(a,s,c){return Ni(s,a.child,null,c),a=jm(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Xw(a,s,c){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),$h(a.return,s,c)}function Om(a,s,c,f,v,x){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:v,treeForkCount:x}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=f,E.tail=c,E.tailMode=v,E.treeForkCount=x)}function Jw(a,s,c){var f=s.pendingProps,v=f.revealOrder,x=f.tail;f=f.children;var E=St.current,D=(E&2)!==0;if(D?(E=E&1|2,s.flags|=128):E&=1,re(St,E),Zt(a,s,f,c),f=Be?Xo:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Xw(a,c,s);else if(a.tag===19)Xw(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(v){case"forwards":for(c=s.child,v=null;c!==null;)a=c.alternate,a!==null&&au(a)===null&&(v=c),c=c.sibling;c=v,c===null?(v=s.child,s.child=null):(v=c.sibling,c.sibling=null),Om(s,!1,v,c,x,f);break;case"backwards":case"unstable_legacy-backwards":for(c=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&au(a)===null){s.child=v;break}a=v.sibling,v.sibling=c,c=v,v=a}Om(s,!0,c,null,x,f);break;case"together":Om(s,!1,null,null,void 0,f);break;default:s.memoizedState=null}return s.child}function Yr(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),La|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(Ns(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=qr(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=qr(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function Am(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Xc(a)))}function ER(a,s,c){switch(s.tag){case 3:ye(s,s.stateNode.containerInfo),Ta(s,Ot,a.memoizedState.cache),_i();break;case 27:case 5:we(s);break;case 4:ye(s,s.stateNode.containerInfo);break;case 10:Ta(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Zh(s),null;break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(ka(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Ww(a,s,c):(ka(s),a=Yr(a,s,c),a!==null?a.sibling:null);ka(s);break;case 19:var v=(a.flags&128)!==0;if(f=(c&s.childLanes)!==0,f||(Ns(a,s,c,!1),f=(c&s.childLanes)!==0),v){if(f)return Jw(a,s,c);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),re(St,St.current),f)break;return null;case 22:return s.lanes=0,Kw(a,s,c,s.pendingProps);case 24:Ta(s,Ot,a.memoizedState.cache)}return Yr(a,s,c)}function Zw(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Nt=!0;else{if(!Am(a,c)&&(s.flags&128)===0)return Nt=!1,ER(a,s,c);Nt=(a.flags&131072)!==0}else Nt=!1,Be&&(s.flags&1048576)!==0&&Cx(s,Xo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var f=s.pendingProps;if(a=Oi(s.elementType),s.type=a,typeof a=="function")Ph(a)?(f=Ci(a,f),s.tag=1,s=Vw(null,s,a,f,c)):(s.tag=0,s=xm(null,s,a,f,c));else{if(a!=null){var v=a.$$typeof;if(v===P){s.tag=11,s=$w(null,s,a,f,c);break e}else if(v===k){s.tag=14,s=zw(null,s,a,f,c);break e}}throw s=W(a)||a,Error(r(306,s,""))}}return s;case 0:return xm(a,s,s.type,s.pendingProps,c);case 1:return f=s.type,v=Ci(f,s.pendingProps),Vw(a,s,f,v,c);case 3:e:{if(ye(s,s.stateNode.containerInfo),a===null)throw Error(r(387));f=s.pendingProps;var x=s.memoizedState;v=x.element,Vh(a,s),al(s,f,null,c);var E=s.memoizedState;if(f=E.cache,Ta(s,Ot,f),f!==x.cache&&zh(s,[Ot],c,!0),rl(),f=E.element,x.isDehydrated)if(x={element:f,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=Yw(a,s,f,c);break e}else if(f!==v){v=er(Error(r(424)),s),Jo(v),s=Yw(a,s,f,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(ot=ir(a.firstChild),Xt=s,Be=!0,Aa=null,rr=!0,c=Kx(s,null,f,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(_i(),f===v){s=Yr(a,s,c);break e}Zt(a,s,f,c)}s=s.child}return s;case 26:return gu(a,s),a===null?(c=c1(s.type,null,s.pendingProps,null))?s.memoizedState=c:Be||(c=s.type,a=s.pendingProps,f=Pu(xe.current).createElement(c),f[Wt]=s,f[wn]=a,Qt(f,c,a),Kt(f),s.stateNode=f):s.memoizedState=c1(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return we(s),a===null&&Be&&(f=s.stateNode=s1(s.type,s.pendingProps,xe.current),Xt=s,rr=!0,v=ot,qa(s.type)?(sg=v,ot=ir(f.firstChild)):ot=v),Zt(a,s,s.pendingProps.children,c),gu(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Be&&((v=f=ot)&&(f=tM(f,s.type,s.pendingProps,rr),f!==null?(s.stateNode=f,Xt=s,ot=ir(f.firstChild),rr=!1,v=!0):v=!1),v||Na(s)),we(s),v=s.type,x=s.pendingProps,E=a!==null?a.memoizedProps:null,f=x.children,tg(v,x)?f=null:E!==null&&tg(v,E)&&(s.flags|=32),s.memoizedState!==null&&(v=em(a,s,pR,null,null,c),jl._currentValue=v),gu(a,s),Zt(a,s,f,c),s.child;case 6:return a===null&&Be&&((a=c=ot)&&(c=nM(c,s.pendingProps,rr),c!==null?(s.stateNode=c,Xt=s,ot=null,a=!0):a=!1),a||Na(s)),null;case 13:return Ww(a,s,c);case 4:return ye(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=Ni(s,null,f,c):Zt(a,s,f,c),s.child;case 11:return $w(a,s,s.type,s.pendingProps,c);case 7:return Zt(a,s,s.pendingProps,c),s.child;case 8:return Zt(a,s,s.pendingProps.children,c),s.child;case 12:return Zt(a,s,s.pendingProps.children,c),s.child;case 10:return f=s.pendingProps,Ta(s,s.type,f.value),Zt(a,s,f.children,c),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,ji(s),v=Jt(v),f=f(v),s.flags|=1,Zt(a,s,f,c),s.child;case 14:return zw(a,s,s.type,s.pendingProps,c);case 15:return qw(a,s,s.type,s.pendingProps,c);case 19:return Jw(a,s,c);case 31:return jR(a,s,c);case 22:return Kw(a,s,c,s.pendingProps);case 24:return ji(s),f=Jt(Ot),a===null?(v=Hh(),v===null&&(v=nt,x=qh(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=c),v=x),s.memoizedState={parent:f,cache:v},Fh(s),Ta(s,Ot,v)):((a.lanes&c)!==0&&(Vh(a,s),al(s,null,null,c),rl()),v=a.memoizedState,x=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Ta(s,Ot,f)):(f=x.cache,Ta(s,Ot,f),f!==v.cache&&zh(s,[Ot],c,!0))),Zt(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Wr(a){a.flags|=4}function Nm(a,s,c,f,v){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(v&335544128)===v)if(a.stateNode.complete)a.flags|=8192;else if(E_())a.flags|=8192;else throw Ai=eu,Gh}else a.flags&=-16777217}function Qw(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!m1(s))if(E_())a.flags|=8192;else throw Ai=eu,Gh}function vu(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Pb():536870912,a.lanes|=s,$s|=s)}function ul(a,s){if(!Be)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function lt(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(s)for(var v=a.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)c|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=f,a.childLanes=c,s}function OR(a,s,c){var f=s.pendingProps;switch(Ih(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return c=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),Gr(Ot),X(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(As(s)?Wr(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bh())),lt(s),null;case 26:var v=s.type,x=s.memoizedState;return a===null?(Wr(s),x!==null?(lt(s),Qw(s,x)):(lt(s),Nm(s,v,null,f,c))):x?x!==a.memoizedState?(Wr(s),lt(s),Qw(s,x)):(lt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==f&&Wr(s),lt(s),Nm(s,v,a,f,c)),null;case 27:if(je(s),c=xe.current,v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&Wr(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return lt(s),null}a=le.current,As(s)?Px(s):(a=s1(v,f,c),s.stateNode=a,Wr(s))}return lt(s),null;case 5:if(je(s),v=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&Wr(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(x=le.current,As(s))Px(s);else{var E=Pu(xe.current);switch(x){case 1:x=E.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=E.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=E.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=E.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof f.is=="string"?E.createElement("select",{is:f.is}):E.createElement("select"),f.multiple?x.multiple=!0:f.size&&(x.size=f.size);break;default:x=typeof f.is=="string"?E.createElement(v,{is:f.is}):E.createElement(v)}}x[Wt]=s,x[wn]=f;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)x.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=x;e:switch(Qt(x,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Wr(s)}}return lt(s),Nm(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&Wr(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(a=xe.current,As(s)){if(a=s.stateNode,c=s.memoizedProps,f=null,v=Xt,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}a[Wt]=s,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||W_(a.nodeValue,c)),a||Na(s,!0)}else a=Pu(a).createTextNode(f),a[Wt]=s,s.stateNode=a}return lt(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(f=As(s),c!==null){if(a===null){if(!f)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Wt]=s}else _i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),a=!1}else c=Bh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?(Mn(s),s):(Mn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return lt(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=As(s),f!==null&&f.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Wt]=s}else _i(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),v=!1}else v=Bh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Mn(s),s):(Mn(s),null)}return Mn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=f!==null,a=a!==null&&a.memoizedState!==null,c&&(f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==v&&(f.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),vu(s,s.updateQueue),lt(s),null);case 4:return X(),a===null&&Xm(s.stateNode.containerInfo),lt(s),null;case 10:return Gr(s.type),lt(s),null;case 19:if(L(St),f=s.memoizedState,f===null)return lt(s),null;if(v=(s.flags&128)!==0,x=f.rendering,x===null)if(v)ul(f,!1);else{if(wt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(x=au(a),x!==null){for(s.flags|=128,ul(f,!1),a=x.updateQueue,s.updateQueue=a,vu(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)Ax(c,a),c=c.sibling;return re(St,St.current&1|2),Be&&Kr(s,f.treeForkCount),s.child}a=a.sibling}f.tail!==null&&Je()>_u&&(s.flags|=128,v=!0,ul(f,!1),s.lanes=4194304)}else{if(!v)if(a=au(x),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,vu(s,a),ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!Be)return lt(s),null}else 2*Je()-f.renderingStartTime>_u&&c!==536870912&&(s.flags|=128,v=!0,ul(f,!1),s.lanes=4194304);f.isBackwards?(x.sibling=s.child,s.child=x):(a=f.last,a!==null?a.sibling=x:s.child=x,f.last=x)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Je(),a.sibling=null,c=St.current,re(St,v?c&1|2:c&1),Be&&Kr(s,f.treeForkCount),a):(lt(s),null);case 22:case 23:return Mn(s),Jh(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(c&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),c=s.updateQueue,c!==null&&vu(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==c&&(s.flags|=2048),a!==null&&L(Ei),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Gr(Ot),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function AR(a,s){switch(Ih(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Gr(Ot),X(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return je(s),null;case 31:if(s.memoizedState!==null){if(Mn(s),s.alternate===null)throw Error(r(340));_i()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(Mn(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_i()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return L(St),null;case 4:return X(),null;case 10:return Gr(s.type),null;case 22:case 23:return Mn(s),Jh(),a!==null&&L(Ei),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Gr(Ot),null;case 25:return null;default:return null}}function e_(a,s){switch(Ih(s),s.tag){case 3:Gr(Ot),X();break;case 26:case 27:case 5:je(s);break;case 4:X();break;case 31:s.memoizedState!==null&&Mn(s);break;case 13:Mn(s);break;case 19:L(St);break;case 10:Gr(s.type);break;case 22:case 23:Mn(s),Jh(),a!==null&&L(Ei);break;case 24:Gr(Ot)}}function dl(a,s){try{var c=s.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var v=f.next;c=v;do{if((c.tag&a)===a){f=void 0;var x=c.create,E=c.inst;f=x(),E.destroy=f}c=c.next}while(c!==v)}}catch(D){Ye(s,s.return,D)}}function Ma(a,s,c){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var x=v.next;f=x;do{if((f.tag&a)===a){var E=f.inst,D=E.destroy;if(D!==void 0){E.destroy=void 0,v=s;var M=c,G=D;try{G()}catch(te){Ye(v,M,te)}}}f=f.next}while(f!==x)}}catch(te){Ye(s,s.return,te)}}function t_(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{Gx(s,c)}catch(f){Ye(a,a.return,f)}}}function n_(a,s,c){c.props=Ci(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){Ye(a,s,f)}}function fl(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(v){Ye(a,s,v)}}function Pr(a,s){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(v){Ye(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(v){Ye(a,s,v)}else c.current=null}function r_(a){var s=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(v){Ye(a,a.return,v)}}function Tm(a,s,c){try{var f=a.stateNode;WR(f,a.type,c,s),f[wn]=s}catch(v){Ye(a,a.return,v)}}function a_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&qa(a.type)||a.tag===4}function Cm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||a_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&qa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dm(a,s,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=$r));else if(f!==4&&(f===27&&qa(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(Dm(a,s,c),a=a.sibling;a!==null;)Dm(a,s,c),a=a.sibling}function yu(a,s,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(f!==4&&(f===27&&qa(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(yu(a,s,c),a=a.sibling;a!==null;)yu(a,s,c),a=a.sibling}function i_(a){var s=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);Qt(s,f,c),s[Wt]=a,s[wn]=c}catch(x){Ye(a,a.return,x)}}var Xr=!1,Tt=!1,Pm=!1,s_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function NR(a,s){if(a=a.containerInfo,Qm=Uu,a=yx(a),Eh(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var v=f.anchorOffset,x=f.focusNode;f=f.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var E=0,D=-1,M=-1,G=0,te=0,ae=a,Y=null;t:for(;;){for(var Z;ae!==c||v!==0&&ae.nodeType!==3||(D=E+v),ae!==x||f!==0&&ae.nodeType!==3||(M=E+f),ae.nodeType===3&&(E+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)Y=ae,ae=Z;for(;;){if(ae===a)break t;if(Y===c&&++G===v&&(D=E),Y===x&&++te===f&&(M=E),(Z=ae.nextSibling)!==null)break;ae=Y,Y=ae.parentNode}ae=Z}c=D===-1||M===-1?null:{start:D,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(eg={focusedElem:a,selectionRange:c},Uu=!1,Ht=s;Ht!==null;)if(s=Ht,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Ht=a;else for(;Ht!==null;){switch(s=Ht,x=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)v=a[c],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=s,v=x.memoizedProps,x=x.memoizedState,f=c.stateNode;try{var he=Ci(c.type,v);a=f.getSnapshotBeforeUpdate(he,x),f.__reactInternalSnapshotBeforeUpdate=a}catch(Oe){Ye(c,c.return,Oe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)rg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":rg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Ht=a;break}Ht=s.return}}function o_(a,s,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Zr(a,c),f&4&&dl(5,c);break;case 1:if(Zr(a,c),f&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(E){Ye(c,c.return,E)}else{var v=Ci(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(E){Ye(c,c.return,E)}}f&64&&t_(c),f&512&&fl(c,c.return);break;case 3:if(Zr(a,c),f&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Gx(a,s)}catch(E){Ye(c,c.return,E)}}break;case 27:s===null&&f&4&&i_(c);case 26:case 5:Zr(a,c),s===null&&f&4&&r_(c),f&512&&fl(c,c.return);break;case 12:Zr(a,c);break;case 31:Zr(a,c),f&4&&u_(a,c);break;case 13:Zr(a,c),f&4&&d_(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=LR.bind(null,c),rM(a,c))));break;case 22:if(f=c.memoizedState!==null||Xr,!f){s=s!==null&&s.memoizedState!==null||Tt,v=Xr;var x=Tt;Xr=f,(Tt=s)&&!x?Qr(a,c,(c.subtreeFlags&8772)!==0):Zr(a,c),Xr=v,Tt=x}break;case 30:break;default:Zr(a,c)}}function l_(a){var s=a.alternate;s!==null&&(a.alternate=null,l_(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&lh(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ut=null,Sn=!1;function Jr(a,s,c){for(c=c.child;c!==null;)c_(a,s,c),c=c.sibling}function c_(a,s,c){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Io,c)}catch{}switch(c.tag){case 26:Tt||Pr(c,s),Jr(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Tt||Pr(c,s);var f=ut,v=Sn;qa(c.type)&&(ut=c.stateNode,Sn=!1),Jr(a,s,c),wl(c.stateNode),ut=f,Sn=v;break;case 5:Tt||Pr(c,s);case 6:if(f=ut,v=Sn,ut=null,Jr(a,s,c),ut=f,Sn=v,ut!==null)if(Sn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(c.stateNode)}catch(x){Ye(c,s,x)}else try{ut.removeChild(c.stateNode)}catch(x){Ye(c,s,x)}break;case 18:ut!==null&&(Sn?(a=ut,t1(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Ys(a)):t1(ut,c.stateNode));break;case 4:f=ut,v=Sn,ut=c.stateNode.containerInfo,Sn=!0,Jr(a,s,c),ut=f,Sn=v;break;case 0:case 11:case 14:case 15:Ma(2,c,s),Tt||Ma(4,c,s),Jr(a,s,c);break;case 1:Tt||(Pr(c,s),f=c.stateNode,typeof f.componentWillUnmount=="function"&&n_(c,s,f)),Jr(a,s,c);break;case 21:Jr(a,s,c);break;case 22:Tt=(f=Tt)||c.memoizedState!==null,Jr(a,s,c),Tt=f;break;default:Jr(a,s,c)}}function u_(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ys(a)}catch(c){Ye(s,s.return,c)}}}function d_(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ys(a)}catch(c){Ye(s,s.return,c)}}function TR(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new s_),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new s_),s;default:throw Error(r(435,a.tag))}}function bu(a,s){var c=TR(a);s.forEach(function(f){if(!c.has(f)){c.add(f);var v=BR.bind(null,a,f);f.then(v,v)}})}function jn(a,s){var c=s.deletions;if(c!==null)for(var f=0;f<c.length;f++){var v=c[f],x=a,E=s,D=E;e:for(;D!==null;){switch(D.tag){case 27:if(qa(D.type)){ut=D.stateNode,Sn=!1;break e}break;case 5:ut=D.stateNode,Sn=!1;break e;case 3:case 4:ut=D.stateNode.containerInfo,Sn=!0;break e}D=D.return}if(ut===null)throw Error(r(160));c_(x,E,v),ut=null,Sn=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)f_(s,a),s=s.sibling}var xr=null;function f_(a,s){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:jn(s,a),En(a),f&4&&(Ma(3,a,a.return),dl(3,a),Ma(5,a,a.return));break;case 1:jn(s,a),En(a),f&512&&(Tt||c===null||Pr(c,c.return)),f&64&&Xr&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var v=xr;if(jn(s,a),En(a),f&512&&(Tt||c===null||Pr(c,c.return)),f&4){var x=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Uo]||x[Wt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(f),v.head.insertBefore(x,v.querySelector("head > title"))),Qt(x,f,c),x[Wt]=a,Kt(x),f=x;break e;case"link":var E=f1("link","href",v).get(f+(c.href||""));if(E){for(var D=0;D<E.length;D++)if(x=E[D],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(D,1);break t}}x=v.createElement(f),Qt(x,f,c),v.head.appendChild(x);break;case"meta":if(E=f1("meta","content",v).get(f+(c.content||""))){for(D=0;D<E.length;D++)if(x=E[D],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(D,1);break t}}x=v.createElement(f),Qt(x,f,c),v.head.appendChild(x);break;default:throw Error(r(468,f))}x[Wt]=a,Kt(x),f=x}a.stateNode=f}else h1(v,a.type,a.stateNode);else a.stateNode=d1(v,f,a.memoizedProps);else x!==f?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,f===null?h1(v,a.type,a.stateNode):d1(v,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Tm(a,a.memoizedProps,c.memoizedProps)}break;case 27:jn(s,a),En(a),f&512&&(Tt||c===null||Pr(c,c.return)),c!==null&&f&4&&Tm(a,a.memoizedProps,c.memoizedProps);break;case 5:if(jn(s,a),En(a),f&512&&(Tt||c===null||Pr(c,c.return)),a.flags&32){v=a.stateNode;try{vs(v,"")}catch(he){Ye(a,a.return,he)}}f&4&&a.stateNode!=null&&(v=a.memoizedProps,Tm(a,v,c!==null?c.memoizedProps:v)),f&1024&&(Pm=!0);break;case 6:if(jn(s,a),En(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(he){Ye(a,a.return,he)}}break;case 3:if(Mu=null,v=xr,xr=ku(s.containerInfo),jn(s,a),xr=v,En(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ys(s.containerInfo)}catch(he){Ye(a,a.return,he)}Pm&&(Pm=!1,h_(a));break;case 4:f=xr,xr=ku(a.stateNode.containerInfo),jn(s,a),En(a),xr=f;break;case 12:jn(s,a),En(a);break;case 31:jn(s,a),En(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,bu(a,f)));break;case 13:jn(s,a),En(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(wu=Je()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,bu(a,f)));break;case 22:v=a.memoizedState!==null;var M=c!==null&&c.memoizedState!==null,G=Xr,te=Tt;if(Xr=G||v,Tt=te||M,jn(s,a),Tt=te,Xr=G,En(a),f&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(c===null||M||Xr||Tt||Di(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){M=c=s;try{if(x=M.stateNode,v)E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{D=M.stateNode;var ae=M.memoizedProps.style,Y=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;D.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(he){Ye(M,M.return,he)}}}else if(s.tag===6){if(c===null){M=s;try{M.stateNode.nodeValue=v?"":M.memoizedProps}catch(he){Ye(M,M.return,he)}}}else if(s.tag===18){if(c===null){M=s;try{var Z=M.stateNode;v?n1(Z,!0):n1(M.stateNode,!1)}catch(he){Ye(M,M.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,bu(a,c))));break;case 19:jn(s,a),En(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,bu(a,f)));break;case 30:break;case 21:break;default:jn(s,a),En(a)}}function En(a){var s=a.flags;if(s&2){try{for(var c,f=a.return;f!==null;){if(a_(f)){c=f;break}f=f.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var v=c.stateNode,x=Cm(a);yu(a,x,v);break;case 5:var E=c.stateNode;c.flags&32&&(vs(E,""),c.flags&=-33);var D=Cm(a);yu(a,D,E);break;case 3:case 4:var M=c.stateNode.containerInfo,G=Cm(a);Dm(a,G,M);break;default:throw Error(r(161))}}catch(te){Ye(a,a.return,te)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function h_(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;h_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Zr(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o_(a,s.alternate,s),s=s.sibling}function Di(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Ma(4,s,s.return),Di(s);break;case 1:Pr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&n_(s,s.return,c),Di(s);break;case 27:wl(s.stateNode);case 26:case 5:Pr(s,s.return),Di(s);break;case 22:s.memoizedState===null&&Di(s);break;case 30:Di(s);break;default:Di(s)}a=a.sibling}}function Qr(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=a,x=s,E=x.flags;switch(x.tag){case 0:case 11:case 15:Qr(v,x,c),dl(4,x);break;case 1:if(Qr(v,x,c),f=x,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(G){Ye(f,f.return,G)}if(f=x,v=f.updateQueue,v!==null){var D=f.stateNode;try{var M=v.shared.hiddenCallbacks;if(M!==null)for(v.shared.hiddenCallbacks=null,v=0;v<M.length;v++)Hx(M[v],D)}catch(G){Ye(f,f.return,G)}}c&&E&64&&t_(x),fl(x,x.return);break;case 27:i_(x);case 26:case 5:Qr(v,x,c),c&&f===null&&E&4&&r_(x),fl(x,x.return);break;case 12:Qr(v,x,c);break;case 31:Qr(v,x,c),c&&E&4&&u_(v,x);break;case 13:Qr(v,x,c),c&&E&4&&d_(v,x);break;case 22:x.memoizedState===null&&Qr(v,x,c),fl(x,x.return);break;case 30:break;default:Qr(v,x,c)}s=s.sibling}}function km(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Zo(c))}function Rm(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Zo(a))}function wr(a,s,c,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)m_(a,s,c,f),s=s.sibling}function m_(a,s,c,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:wr(a,s,c,f),v&2048&&dl(9,s);break;case 1:wr(a,s,c,f);break;case 3:wr(a,s,c,f),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Zo(a)));break;case 12:if(v&2048){wr(a,s,c,f),a=s.stateNode;try{var x=s.memoizedProps,E=x.id,D=x.onPostCommit;typeof D=="function"&&D(E,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(M){Ye(s,s.return,M)}}else wr(a,s,c,f);break;case 31:wr(a,s,c,f);break;case 13:wr(a,s,c,f);break;case 23:break;case 22:x=s.stateNode,E=s.alternate,s.memoizedState!==null?x._visibility&2?wr(a,s,c,f):hl(a,s):x._visibility&2?wr(a,s,c,f):(x._visibility|=2,Ls(a,s,c,f,(s.subtreeFlags&10256)!==0||!1)),v&2048&&km(E,s);break;case 24:wr(a,s,c,f),v&2048&&Rm(s.alternate,s);break;default:wr(a,s,c,f)}}function Ls(a,s,c,f,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=a,E=s,D=c,M=f,G=E.flags;switch(E.tag){case 0:case 11:case 15:Ls(x,E,D,M,v),dl(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Ls(x,E,D,M,v):hl(x,E):(te._visibility|=2,Ls(x,E,D,M,v)),v&&G&2048&&km(E.alternate,E);break;case 24:Ls(x,E,D,M,v),v&&G&2048&&Rm(E.alternate,E);break;default:Ls(x,E,D,M,v)}s=s.sibling}}function hl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,f=s,v=f.flags;switch(f.tag){case 22:hl(c,f),v&2048&&km(f.alternate,f);break;case 24:hl(c,f),v&2048&&Rm(f.alternate,f);break;default:hl(c,f)}s=s.sibling}}var ml=8192;function Bs(a,s,c){if(a.subtreeFlags&ml)for(a=a.child;a!==null;)g_(a,s,c),a=a.sibling}function g_(a,s,c){switch(a.tag){case 26:Bs(a,s,c),a.flags&ml&&a.memoizedState!==null&&gM(c,xr,a.memoizedState,a.memoizedProps);break;case 5:Bs(a,s,c);break;case 3:case 4:var f=xr;xr=ku(a.stateNode.containerInfo),Bs(a,s,c),xr=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=ml,ml=16777216,Bs(a,s,c),ml=f):Bs(a,s,c));break;default:Bs(a,s,c)}}function p_(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function gl(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Ht=f,y_(f,a)}p_(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)v_(a),a=a.sibling}function v_(a){switch(a.tag){case 0:case 11:case 15:gl(a),a.flags&2048&&Ma(9,a,a.return);break;case 3:gl(a);break;case 12:gl(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,xu(a)):gl(a);break;default:gl(a)}}function xu(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var f=s[c];Ht=f,y_(f,a)}p_(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Ma(8,s,s.return),xu(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,xu(s));break;default:xu(s)}a=a.sibling}}function y_(a,s){for(;Ht!==null;){var c=Ht;switch(c.tag){case 0:case 11:case 15:Ma(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Zo(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Ht=f;else e:for(c=a;Ht!==null;){f=Ht;var v=f.sibling,x=f.return;if(l_(f),f===c){Ht=null;break e}if(v!==null){v.return=x,Ht=v;break e}Ht=x}}}var CR={getCacheForType:function(a){var s=Jt(Ot),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return Jt(Ot).controller.signal}},DR=typeof WeakMap=="function"?WeakMap:Map,He=0,nt=null,Pe=null,Ie=0,Ve=0,In=null,Ia=!1,Us=!1,Mm=!1,ea=0,wt=0,La=0,Pi=0,Im=0,Ln=0,$s=0,pl=null,On=null,Lm=!1,wu=0,b_=0,_u=1/0,Su=null,Ba=null,kt=0,Ua=null,zs=null,ta=0,Bm=0,Um=null,x_=null,vl=0,$m=null;function Bn(){return(He&2)!==0&&Ie!==0?Ie&-Ie:B.T!==null?Fm():Ib()}function w_(){if(Ln===0)if((Ie&536870912)===0||Be){var a=Dc;Dc<<=1,(Dc&3932160)===0&&(Dc=262144),Ln=a}else Ln=536870912;return a=Rn.current,a!==null&&(a.flags|=32),Ln}function An(a,s,c){(a===nt&&(Ve===2||Ve===9)||a.cancelPendingCommit!==null)&&(qs(a,0),$a(a,Ie,Ln,!1)),Bo(a,c),((He&2)===0||a!==nt)&&(a===nt&&((He&2)===0&&(Pi|=c),wt===4&&$a(a,Ie,Ln,!1)),kr(a))}function __(a,s,c){if((He&6)!==0)throw Error(r(327));var f=!c&&(s&127)===0&&(s&a.expiredLanes)===0||Lo(a,s),v=f?RR(a,s):qm(a,s,!0),x=f;do{if(v===0){Us&&!f&&$a(a,s,0,!1);break}else{if(c=a.current.alternate,x&&!PR(c)){v=qm(a,s,!1),x=!1;continue}if(v===2){if(x=s,a.errorRecoveryDisabledLanes&x)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var D=a;v=pl;var M=D.current.memoizedState.isDehydrated;if(M&&(qs(D,E).flags|=256),E=qm(D,E,!1),E!==2){if(Mm&&!M){D.errorRecoveryDisabledLanes|=x,Pi|=x,v=4;break e}x=On,On=v,x!==null&&(On===null?On=x:On.push.apply(On,x))}v=E}if(x=!1,v!==2)continue}}if(v===1){qs(a,0),$a(a,s,0,!0);break}e:{switch(f=a,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:$a(f,s,Ln,!Ia);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=wu+300-Je(),10<v)){if($a(f,s,Ln,!Ia),kc(f,0,!0)!==0)break e;ta=s,f.timeoutHandle=Q_(S_.bind(null,f,c,On,Su,Lm,s,Ln,Pi,$s,Ia,x,"Throttled",-0,0),v);break e}S_(f,c,On,Su,Lm,s,Ln,Pi,$s,Ia,x,null,-0,0)}}break}while(!0);kr(a)}function S_(a,s,c,f,v,x,E,D,M,G,te,ae,Y,Z){if(a.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$r},g_(s,x,ae);var he=(x&62914560)===x?wu-Je():(x&4194048)===x?b_-Je():0;if(he=pM(ae,he),he!==null){ta=x,a.cancelPendingCommit=he(D_.bind(null,a,s,x,c,f,v,E,D,M,te,ae,null,Y,Z)),$a(a,x,E,!G);return}}D_(a,s,x,c,f,v,E,D,M)}function PR(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var v=c[f],x=v.getSnapshot;v=v.value;try{if(!Pn(x(),v))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $a(a,s,c,f){s&=~Im,s&=~Pi,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var v=s;0<v;){var x=31-Dn(v),E=1<<x;f[x]=-1,v&=~E}c!==0&&kb(a,c,s)}function ju(){return(He&6)===0?(yl(0),!1):!0}function zm(){if(Pe!==null){if(Ve===0)var a=Pe.return;else a=Pe,Hr=Si=null,rm(a),Ps=null,el=0,a=Pe;for(;a!==null;)e_(a.alternate,a),a=a.return;Pe=null}}function qs(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,ZR(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ta=0,zm(),nt=a,Pe=c=qr(a.current,null),Ie=s,Ve=0,In=null,Ia=!1,Us=Lo(a,s),Mm=!1,$s=Ln=Im=Pi=La=wt=0,On=pl=null,Lm=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var v=31-Dn(f),x=1<<v;s|=a[v],f&=~x}return ea=s,Gc(),c}function j_(a,s){Te=null,B.H=ll,s===Ds||s===Qc?(s=$x(),Ve=3):s===Gh?(s=$x(),Ve=4):Ve=s===bm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,In=s,Pe===null&&(wt=1,hu(a,er(s,a.current)))}function E_(){var a=Rn.current;return a===null?!0:(Ie&4194048)===Ie?ar===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?a===ar:!1}function O_(){var a=B.H;return B.H=ll,a===null?ll:a}function A_(){var a=B.A;return B.A=CR,a}function Eu(){wt=4,Ia||(Ie&4194048)!==Ie&&Rn.current!==null||(Us=!0),(La&134217727)===0&&(Pi&134217727)===0||nt===null||$a(nt,Ie,Ln,!1)}function qm(a,s,c){var f=He;He|=2;var v=O_(),x=A_();(nt!==a||Ie!==s)&&(Su=null,qs(a,s)),s=!1;var E=wt;e:do try{if(Ve!==0&&Pe!==null){var D=Pe,M=In;switch(Ve){case 8:zm(),E=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var G=Ve;if(Ve=0,In=null,Ks(a,D,M,G),c&&Us){E=0;break e}break;default:G=Ve,Ve=0,In=null,Ks(a,D,M,G)}}kR(),E=wt;break}catch(te){j_(a,te)}while(!0);return s&&a.shellSuspendCounter++,Hr=Si=null,He=f,B.H=v,B.A=x,Pe===null&&(nt=null,Ie=0,Gc()),E}function kR(){for(;Pe!==null;)N_(Pe)}function RR(a,s){var c=He;He|=2;var f=O_(),v=A_();nt!==a||Ie!==s?(Su=null,_u=Je()+500,qs(a,s)):Us=Lo(a,s);e:do try{if(Ve!==0&&Pe!==null){s=Pe;var x=In;t:switch(Ve){case 1:Ve=0,In=null,Ks(a,s,x,1);break;case 2:case 9:if(Bx(x)){Ve=0,In=null,T_(s);break}s=function(){Ve!==2&&Ve!==9||nt!==a||(Ve=7),kr(a)},x.then(s,s);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:Bx(x)?(Ve=0,In=null,T_(s)):(Ve=0,In=null,Ks(a,s,x,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var D=Pe;if(E?m1(E):D.stateNode.complete){Ve=0,In=null;var M=D.sibling;if(M!==null)Pe=M;else{var G=D.return;G!==null?(Pe=G,Ou(G)):Pe=null}break t}}Ve=0,In=null,Ks(a,s,x,5);break;case 6:Ve=0,In=null,Ks(a,s,x,6);break;case 8:zm(),wt=6;break e;default:throw Error(r(462))}}MR();break}catch(te){j_(a,te)}while(!0);return Hr=Si=null,B.H=f,B.A=v,He=c,Pe!==null?0:(nt=null,Ie=0,Gc(),wt)}function MR(){for(;Pe!==null&&!an();)N_(Pe)}function N_(a){var s=Zw(a.alternate,a,ea);a.memoizedProps=a.pendingProps,s===null?Ou(a):Pe=s}function T_(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=Fw(c,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=Fw(c,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:rm(s);default:e_(c,s),s=Pe=Ax(s,ea),s=Zw(c,s,ea)}a.memoizedProps=a.pendingProps,s===null?Ou(a):Pe=s}function Ks(a,s,c,f){Hr=Si=null,rm(s),Ps=null,el=0;var v=s.return;try{if(SR(a,v,s,c,Ie)){wt=1,hu(a,er(c,a.current)),Pe=null;return}}catch(x){if(v!==null)throw Pe=v,x;wt=1,hu(a,er(c,a.current)),Pe=null;return}s.flags&32768?(Be||f===1?a=!0:Us||(Ie&536870912)!==0?a=!1:(Ia=a=!0,(f===2||f===9||f===3||f===6)&&(f=Rn.current,f!==null&&f.tag===13&&(f.flags|=16384))),C_(s,a)):Ou(s)}function Ou(a){var s=a;do{if((s.flags&32768)!==0){C_(s,Ia);return}a=s.return;var c=OR(s.alternate,s,ea);if(c!==null){Pe=c;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=a}while(s!==null);wt===0&&(wt=5)}function C_(a,s){do{var c=AR(a.alternate,a);if(c!==null){c.flags&=32767,Pe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Pe=a;return}Pe=a=c}while(a!==null);wt=6,Pe=null}function D_(a,s,c,f,v,x,E,D,M){a.cancelPendingCommit=null;do Au();while(kt!==0);if((He&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Ch,mk(a,c,x,E,D,M),a===nt&&(Pe=nt=null,Ie=0),zs=s,Ua=a,ta=c,Bm=x,Um=v,x_=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,UR(mi,function(){return I_(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,v=K.p,K.p=2,E=He,He|=4;try{NR(a,s,c)}finally{He=E,K.p=v,B.T=f}}kt=1,P_(),k_(),R_()}}function P_(){if(kt===1){kt=0;var a=Ua,s=zs,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var f=K.p;K.p=2;var v=He;He|=4;try{f_(s,a);var x=eg,E=yx(a.containerInfo),D=x.focusedElem,M=x.selectionRange;if(E!==D&&D&&D.ownerDocument&&vx(D.ownerDocument.documentElement,D)){if(M!==null&&Eh(D)){var G=M.start,te=M.end;if(te===void 0&&(te=G),"selectionStart"in D)D.selectionStart=G,D.selectionEnd=Math.min(te,D.value.length);else{var ae=D.ownerDocument||document,Y=ae&&ae.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),he=D.textContent.length,Oe=Math.min(M.start,he),et=M.end===void 0?Oe:Math.min(M.end,he);!Z.extend&&Oe>et&&(E=et,et=Oe,Oe=E);var $=px(D,Oe),U=px(D,et);if($&&U&&(Z.rangeCount!==1||Z.anchorNode!==$.node||Z.anchorOffset!==$.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var H=ae.createRange();H.setStart($.node,$.offset),Z.removeAllRanges(),Oe>et?(Z.addRange(H),Z.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),Z.addRange(H))}}}}for(ae=[],Z=D;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ae.length;D++){var ne=ae[D];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Uu=!!Qm,eg=Qm=null}finally{He=v,K.p=f,B.T=c}}a.current=s,kt=2}}function k_(){if(kt===2){kt=0;var a=Ua,s=zs,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var f=K.p;K.p=2;var v=He;He|=4;try{o_(a,s.alternate,s)}finally{He=v,K.p=f,B.T=c}}kt=3}}function R_(){if(kt===4||kt===3){kt=0,Xe();var a=Ua,s=zs,c=ta,f=x_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?kt=5:(kt=0,zs=Ua=null,M_(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ba=null),sh(c),s=s.stateNode,Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Io,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=B.T,v=K.p,K.p=2,B.T=null;try{for(var x=a.onRecoverableError,E=0;E<f.length;E++){var D=f[E];x(D.value,{componentStack:D.stack})}}finally{B.T=s,K.p=v}}(ta&3)!==0&&Au(),kr(a),v=a.pendingLanes,(c&261930)!==0&&(v&42)!==0?a===$m?vl++:(vl=0,$m=a):vl=0,yl(0)}}function M_(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Zo(s)))}function Au(){return P_(),k_(),R_(),I_()}function I_(){if(kt!==5)return!1;var a=Ua,s=Bm;Bm=0;var c=sh(ta),f=B.T,v=K.p;try{K.p=32>c?32:c,B.T=null,c=Um,Um=null;var x=Ua,E=ta;if(kt=0,zs=Ua=null,ta=0,(He&6)!==0)throw Error(r(331));var D=He;if(He|=4,v_(x.current),m_(x,x.current,E,c),He=D,yl(0,!1),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Io,x)}catch{}return!0}finally{K.p=v,B.T=f,M_(a,s)}}function L_(a,s,c){s=er(c,s),s=ym(a.stateNode,s,2),a=Pa(a,s,2),a!==null&&(Bo(a,2),kr(a))}function Ye(a,s,c){if(a.tag===3)L_(a,a,c);else for(;s!==null;){if(s.tag===3){L_(s,a,c);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ba===null||!Ba.has(f))){a=er(c,a),c=Bw(2),f=Pa(s,c,2),f!==null&&(Uw(c,f,s,a),Bo(f,2),kr(f));break}}s=s.return}}function Km(a,s,c){var f=a.pingCache;if(f===null){f=a.pingCache=new DR;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(c)||(Mm=!0,v.add(c),a=IR.bind(null,a,s,c),s.then(a,a))}function IR(a,s,c){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,nt===a&&(Ie&c)===c&&(wt===4||wt===3&&(Ie&62914560)===Ie&&300>Je()-wu?(He&2)===0&&qs(a,0):Im|=c,$s===Ie&&($s=0)),kr(a)}function B_(a,s){s===0&&(s=Pb()),a=xi(a,s),a!==null&&(Bo(a,s),kr(a))}function LR(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),B_(a,c)}function BR(a,s){var c=0;switch(a.tag){case 31:case 13:var f=a.stateNode,v=a.memoizedState;v!==null&&(c=v.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),B_(a,c)}function UR(a,s){return Me(a,s)}var Nu=null,Hs=null,Hm=!1,Tu=!1,Gm=!1,za=0;function kr(a){a!==Hs&&a.next===null&&(Hs===null?Nu=Hs=a:Hs=Hs.next=a),Tu=!0,Hm||(Hm=!0,zR())}function yl(a,s){if(!Gm&&Tu){Gm=!0;do for(var c=!1,f=Nu;f!==null;){if(a!==0){var v=f.pendingLanes;if(v===0)var x=0;else{var E=f.suspendedLanes,D=f.pingedLanes;x=(1<<31-Dn(42|a)+1)-1,x&=v&~(E&~D),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,q_(f,x))}else x=Ie,x=kc(f,f===nt?x:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(x&3)===0||Lo(f,x)||(c=!0,q_(f,x));f=f.next}while(c);Gm=!1}}function $R(){U_()}function U_(){Tu=Hm=!1;var a=0;za!==0&&JR()&&(a=za);for(var s=Je(),c=null,f=Nu;f!==null;){var v=f.next,x=$_(f,s);x===0?(f.next=null,c===null?Nu=v:c.next=v,v===null&&(Hs=c)):(c=f,(a!==0||(x&3)!==0)&&(Tu=!0)),f=v}kt!==0&&kt!==5||yl(a),za!==0&&(za=0)}function $_(a,s){for(var c=a.suspendedLanes,f=a.pingedLanes,v=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var E=31-Dn(x),D=1<<E,M=v[E];M===-1?((D&c)===0||(D&f)!==0)&&(v[E]=hk(D,s)):M<=s&&(a.expiredLanes|=D),x&=~D}if(s=nt,c=Ie,c=kc(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===s&&(Ve===2||Ve===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Yt(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Lo(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(f!==null&&Yt(f),sh(c)){case 2:case 8:c=Mo;break;case 32:c=mi;break;case 268435456:c=Tc;break;default:c=mi}return f=z_.bind(null,a),c=Me(c,f),a.callbackPriority=s,a.callbackNode=c,s}return f!==null&&f!==null&&Yt(f),a.callbackPriority=2,a.callbackNode=null,2}function z_(a,s){if(kt!==0&&kt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Au()&&a.callbackNode!==c)return null;var f=Ie;return f=kc(a,a===nt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(__(a,f,s),$_(a,Je()),a.callbackNode!=null&&a.callbackNode===c?z_.bind(null,a):null)}function q_(a,s){if(Au())return null;__(a,s,!0)}function zR(){QR(function(){(He&6)!==0?Me(Ro,$R):U_()})}function Fm(){if(za===0){var a=Ts;a===0&&(a=Cc,Cc<<=1,(Cc&261888)===0&&(Cc=256)),za=a}return za}function K_(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Lc(""+a)}function H_(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function qR(a,s,c,f,v){if(s==="submit"&&c&&c.stateNode===v){var x=K_((v[wn]||null).action),E=f.submitter;E&&(s=(s=E[wn]||null)?K_(s.formAction):E.getAttribute("formAction"),s!==null&&(x=s,E=null));var D=new zc("action","action",null,f,v);a.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(za!==0){var M=E?H_(v,E):new FormData(v);fm(c,{pending:!0,data:M,method:v.method,action:x},null,M)}}else typeof x=="function"&&(D.preventDefault(),M=E?H_(v,E):new FormData(v),fm(c,{pending:!0,data:M,method:v.method,action:x},x,M))},currentTarget:v}]})}}for(var Vm=0;Vm<Th.length;Vm++){var Ym=Th[Vm],KR=Ym.toLowerCase(),HR=Ym[0].toUpperCase()+Ym.slice(1);br(KR,"on"+HR)}br(wx,"onAnimationEnd"),br(_x,"onAnimationIteration"),br(Sx,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(sR,"onTransitionRun"),br(oR,"onTransitionStart"),br(lR,"onTransitionCancel"),br(jx,"onTransitionEnd"),gs("onMouseEnter",["mouseout","mouseover"]),gs("onMouseLeave",["mouseout","mouseover"]),gs("onPointerEnter",["pointerout","pointerover"]),gs("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function G_(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],v=f.event;f=f.listeners;e:{var x=void 0;if(s)for(var E=f.length-1;0<=E;E--){var D=f[E],M=D.instance,G=D.currentTarget;if(D=D.listener,M!==x&&v.isPropagationStopped())break e;x=D,v.currentTarget=G;try{x(v)}catch(te){Hc(te)}v.currentTarget=null,x=M}else for(E=0;E<f.length;E++){if(D=f[E],M=D.instance,G=D.currentTarget,D=D.listener,M!==x&&v.isPropagationStopped())break e;x=D,v.currentTarget=G;try{x(v)}catch(te){Hc(te)}v.currentTarget=null,x=M}}}}function ke(a,s){var c=s[oh];c===void 0&&(c=s[oh]=new Set);var f=a+"__bubble";c.has(f)||(F_(s,a,2,!1),c.add(f))}function Wm(a,s,c){var f=0;s&&(f|=4),F_(c,a,f,s)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Xm(a){if(!a[Cu]){a[Cu]=!0,Ub.forEach(function(c){c!=="selectionchange"&&(GR.has(c)||Wm(c,!1,a),Wm(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Cu]||(s[Cu]=!0,Wm("selectionchange",!1,s))}}function F_(a,s,c,f){switch(w1(s)){case 2:var v=bM;break;case 8:v=xM;break;default:v=dg}c=v.bind(null,s,c,a),v=void 0,!ph||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?a.addEventListener(s,c,{capture:!0,passive:v}):a.addEventListener(s,c,!0):v!==void 0?a.addEventListener(s,c,{passive:v}):a.addEventListener(s,c,!1)}function Jm(a,s,c,f,v){var x=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var D=f.stateNode.containerInfo;if(D===v)break;if(E===4)for(E=f.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===v)return;E=E.return}for(;D!==null;){if(E=fs(D),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){f=x=E;continue e}D=D.parentNode}}f=f.return}Jb(function(){var G=x,te=mh(c),ae=[];e:{var Y=Ex.get(a);if(Y!==void 0){var Z=zc,he=a;switch(a){case"keypress":if(Uc(c)===0)break e;case"keydown":case"keyup":Z=Bk;break;case"focusin":he="focus",Z=xh;break;case"focusout":he="blur",Z=xh;break;case"beforeblur":case"afterblur":Z=xh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ok;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=zk;break;case wx:case _x:case Sx:Z=Tk;break;case jx:Z=Kk;break;case"scroll":case"scrollend":Z=jk;break;case"wheel":Z=Gk;break;case"copy":case"cut":case"paste":Z=Dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=nx;break;case"toggle":case"beforetoggle":Z=Vk}var Oe=(s&4)!==0,et=!Oe&&(a==="scroll"||a==="scrollend"),$=Oe?Y!==null?Y+"Capture":null:Y;Oe=[];for(var U=G,H;U!==null;){var ne=U;if(H=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||H===null||$===null||(ne=zo(U,$),ne!=null&&Oe.push(xl(U,ne,H))),et)break;U=U.return}0<Oe.length&&(Y=new Z(Y,he,null,c,te),ae.push({event:Y,listeners:Oe}))}}if((s&7)===0){e:{if(Y=a==="mouseover"||a==="pointerover",Z=a==="mouseout"||a==="pointerout",Y&&c!==hh&&(he=c.relatedTarget||c.fromElement)&&(fs(he)||he[ds]))break e;if((Z||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(he=c.relatedTarget||c.toElement,Z=G,he=he?fs(he):null,he!==null&&(et=o(he),Oe=he.tag,he!==et||Oe!==5&&Oe!==27&&Oe!==6)&&(he=null)):(Z=null,he=G),Z!==he)){if(Oe=ex,ne="onMouseLeave",$="onMouseEnter",U="mouse",(a==="pointerout"||a==="pointerover")&&(Oe=nx,ne="onPointerLeave",$="onPointerEnter",U="pointer"),et=Z==null?Y:$o(Z),H=he==null?Y:$o(he),Y=new Oe(ne,U+"leave",Z,c,te),Y.target=et,Y.relatedTarget=H,ne=null,fs(te)===G&&(Oe=new Oe($,U+"enter",he,c,te),Oe.target=H,Oe.relatedTarget=et,ne=Oe),et=ne,Z&&he)t:{for(Oe=FR,$=Z,U=he,H=0,ne=$;ne;ne=Oe(ne))H++;ne=0;for(var Se=U;Se;Se=Oe(Se))ne++;for(;0<H-ne;)$=Oe($),H--;for(;0<ne-H;)U=Oe(U),ne--;for(;H--;){if($===U||U!==null&&$===U.alternate){Oe=$;break t}$=Oe($),U=Oe(U)}Oe=null}else Oe=null;Z!==null&&V_(ae,Y,Z,Oe,!1),he!==null&&et!==null&&V_(ae,et,he,Oe,!0)}}e:{if(Y=G?$o(G):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var $e=ux;else if(lx(Y))if(dx)$e=rR;else{$e=tR;var pe=eR}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&fh(G.elementType)&&($e=ux):$e=nR;if($e&&($e=$e(a,G))){cx(ae,$e,c,te);break e}pe&&pe(a,Y,G),a==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&dh(Y,"number",Y.value)}switch(pe=G?$o(G):window,a){case"focusin":(lx(pe)||pe.contentEditable==="true")&&(ws=pe,Oh=G,Wo=null);break;case"focusout":Wo=Oh=ws=null;break;case"mousedown":Ah=!0;break;case"contextmenu":case"mouseup":case"dragend":Ah=!1,bx(ae,c,te);break;case"selectionchange":if(iR)break;case"keydown":case"keyup":bx(ae,c,te)}var De;if(_h)e:{switch(a){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else xs?sx(a,c)&&(Le="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Le="onCompositionStart");Le&&(rx&&c.locale!=="ko"&&(xs||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&xs&&(De=Zb()):(Ea=te,vh="value"in Ea?Ea.value:Ea.textContent,xs=!0)),pe=Du(G,Le),0<pe.length&&(Le=new tx(Le,a,null,c,te),ae.push({event:Le,listeners:pe}),De?Le.data=De:(De=ox(c),De!==null&&(Le.data=De)))),(De=Wk?Xk(a,c):Jk(a,c))&&(Le=Du(G,"onBeforeInput"),0<Le.length&&(pe=new tx("onBeforeInput","beforeinput",null,c,te),ae.push({event:pe,listeners:Le}),pe.data=De)),qR(ae,a,G,c,te)}G_(ae,s)})}function xl(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Du(a,s){for(var c=s+"Capture",f=[];a!==null;){var v=a,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=zo(a,c),v!=null&&f.unshift(xl(a,v,x)),v=zo(a,s),v!=null&&f.push(xl(a,v,x))),a.tag===3)return f;a=a.return}return[]}function FR(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function V_(a,s,c,f,v){for(var x=s._reactName,E=[];c!==null&&c!==f;){var D=c,M=D.alternate,G=D.stateNode;if(D=D.tag,M!==null&&M===f)break;D!==5&&D!==26&&D!==27||G===null||(M=G,v?(G=zo(c,x),G!=null&&E.unshift(xl(c,G,M))):v||(G=zo(c,x),G!=null&&E.push(xl(c,G,M)))),c=c.return}E.length!==0&&a.push({event:s,listeners:E})}var VR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function Y_(a){return(typeof a=="string"?a:""+a).replace(VR,`
`).replace(YR,"")}function W_(a,s){return s=Y_(s),Y_(a)===s}function Qe(a,s,c,f,v,x){switch(c){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||vs(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&vs(a,""+f);break;case"className":Mc(a,"class",f);break;case"tabIndex":Mc(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Mc(a,c,f);break;case"style":Wb(a,f,x);break;case"data":if(s!=="object"){Mc(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Lc(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(s!=="input"&&Qe(a,s,"name",v.name,v,null),Qe(a,s,"formEncType",v.formEncType,v,null),Qe(a,s,"formMethod",v.formMethod,v,null),Qe(a,s,"formTarget",v.formTarget,v,null)):(Qe(a,s,"encType",v.encType,v,null),Qe(a,s,"method",v.method,v,null),Qe(a,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Lc(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=$r);break;case"onScroll":f!=null&&ke("scroll",a);break;case"onScrollEnd":f!=null&&ke("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=Lc(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":ke("beforetoggle",a),ke("toggle",a),Rc(a,"popover",f);break;case"xlinkActuate":Ur(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Ur(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Ur(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Ur(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Ur(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Ur(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Ur(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Ur(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Ur(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Rc(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=_k.get(c)||c,Rc(a,c,f))}}function Zm(a,s,c,f,v,x){switch(c){case"style":Wb(a,f,x);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(c=f.__html,c!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof f=="string"?vs(a,f):(typeof f=="number"||typeof f=="bigint")&&vs(a,""+f);break;case"onScroll":f!=null&&ke("scroll",a);break;case"onScrollEnd":f!=null&&ke("scrollend",a);break;case"onClick":f!=null&&(a.onclick=$r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$b.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(v=c.endsWith("Capture"),s=c.slice(2,v?c.length-7:void 0),x=a[wn]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(s,x,v),typeof f=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,f,v);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):Rc(a,c,f)}}}function Qt(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",a),ke("load",a);var f=!1,v=!1,x;for(x in c)if(c.hasOwnProperty(x)){var E=c[x];if(E!=null)switch(x){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qe(a,s,x,E,c,null)}}v&&Qe(a,s,"srcSet",c.srcSet,c,null),f&&Qe(a,s,"src",c.src,c,null);return;case"input":ke("invalid",a);var D=x=E=v=null,M=null,G=null;for(f in c)if(c.hasOwnProperty(f)){var te=c[f];if(te!=null)switch(f){case"name":v=te;break;case"type":E=te;break;case"checked":M=te;break;case"defaultChecked":G=te;break;case"value":x=te;break;case"defaultValue":D=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:Qe(a,s,f,te,c,null)}}Gb(a,x,D,M,G,E,v,!1);return;case"select":ke("invalid",a),f=E=x=null;for(v in c)if(c.hasOwnProperty(v)&&(D=c[v],D!=null))switch(v){case"value":x=D;break;case"defaultValue":E=D;break;case"multiple":f=D;default:Qe(a,s,v,D,c,null)}s=x,c=E,a.multiple=!!f,s!=null?ps(a,!!f,s,!1):c!=null&&ps(a,!!f,c,!0);return;case"textarea":ke("invalid",a),x=v=f=null;for(E in c)if(c.hasOwnProperty(E)&&(D=c[E],D!=null))switch(E){case"value":f=D;break;case"defaultValue":v=D;break;case"children":x=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:Qe(a,s,E,D,c,null)}Vb(a,f,v,x);return;case"option":for(M in c)if(c.hasOwnProperty(M)&&(f=c[M],f!=null))switch(M){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Qe(a,s,M,f,c,null)}return;case"dialog":ke("beforetoggle",a),ke("toggle",a),ke("cancel",a),ke("close",a);break;case"iframe":case"object":ke("load",a);break;case"video":case"audio":for(f=0;f<bl.length;f++)ke(bl[f],a);break;case"image":ke("error",a),ke("load",a);break;case"details":ke("toggle",a);break;case"embed":case"source":case"link":ke("error",a),ke("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in c)if(c.hasOwnProperty(G)&&(f=c[G],f!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Qe(a,s,G,f,c,null)}return;default:if(fh(s)){for(te in c)c.hasOwnProperty(te)&&(f=c[te],f!==void 0&&Zm(a,s,te,f,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(f=c[D],f!=null&&Qe(a,s,D,f,c,null))}function WR(a,s,c,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,E=null,D=null,M=null,G=null,te=null;for(Z in c){var ae=c[Z];if(c.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":M=ae;default:f.hasOwnProperty(Z)||Qe(a,s,Z,null,f,ae)}}for(var Y in f){var Z=f[Y];if(ae=c[Y],f.hasOwnProperty(Y)&&(Z!=null||ae!=null))switch(Y){case"type":x=Z;break;case"name":v=Z;break;case"checked":G=Z;break;case"defaultChecked":te=Z;break;case"value":E=Z;break;case"defaultValue":D=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Z!==ae&&Qe(a,s,Y,Z,f,ae)}}uh(a,E,D,M,G,te,x,v);return;case"select":Z=E=D=Y=null;for(x in c)if(M=c[x],c.hasOwnProperty(x)&&M!=null)switch(x){case"value":break;case"multiple":Z=M;default:f.hasOwnProperty(x)||Qe(a,s,x,null,f,M)}for(v in f)if(x=f[v],M=c[v],f.hasOwnProperty(v)&&(x!=null||M!=null))switch(v){case"value":Y=x;break;case"defaultValue":D=x;break;case"multiple":E=x;default:x!==M&&Qe(a,s,v,x,f,M)}s=D,c=E,f=Z,Y!=null?ps(a,!!c,Y,!1):!!f!=!!c&&(s!=null?ps(a,!!c,s,!0):ps(a,!!c,c?[]:"",!1));return;case"textarea":Z=Y=null;for(D in c)if(v=c[D],c.hasOwnProperty(D)&&v!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Qe(a,s,D,null,f,v)}for(E in f)if(v=f[E],x=c[E],f.hasOwnProperty(E)&&(v!=null||x!=null))switch(E){case"value":Y=v;break;case"defaultValue":Z=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&Qe(a,s,E,v,f,x)}Fb(a,Y,Z);return;case"option":for(var he in c)if(Y=c[he],c.hasOwnProperty(he)&&Y!=null&&!f.hasOwnProperty(he))switch(he){case"selected":a.selected=!1;break;default:Qe(a,s,he,null,f,Y)}for(M in f)if(Y=f[M],Z=c[M],f.hasOwnProperty(M)&&Y!==Z&&(Y!=null||Z!=null))switch(M){case"selected":a.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Qe(a,s,M,Y,f,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)Y=c[Oe],c.hasOwnProperty(Oe)&&Y!=null&&!f.hasOwnProperty(Oe)&&Qe(a,s,Oe,null,f,Y);for(G in f)if(Y=f[G],Z=c[G],f.hasOwnProperty(G)&&Y!==Z&&(Y!=null||Z!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:Qe(a,s,G,Y,f,Z)}return;default:if(fh(s)){for(var et in c)Y=c[et],c.hasOwnProperty(et)&&Y!==void 0&&!f.hasOwnProperty(et)&&Zm(a,s,et,void 0,f,Y);for(te in f)Y=f[te],Z=c[te],!f.hasOwnProperty(te)||Y===Z||Y===void 0&&Z===void 0||Zm(a,s,te,Y,f,Z);return}}for(var $ in c)Y=c[$],c.hasOwnProperty($)&&Y!=null&&!f.hasOwnProperty($)&&Qe(a,s,$,null,f,Y);for(ae in f)Y=f[ae],Z=c[ae],!f.hasOwnProperty(ae)||Y===Z||Y==null&&Z==null||Qe(a,s,ae,Y,f,Z)}function X_(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XR(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),f=0;f<c.length;f++){var v=c[f],x=v.transferSize,E=v.initiatorType,D=v.duration;if(x&&D&&X_(E)){for(E=0,D=v.responseEnd,f+=1;f<c.length;f++){var M=c[f],G=M.startTime;if(G>D)break;var te=M.transferSize,ae=M.initiatorType;te&&X_(ae)&&(M=M.responseEnd,E+=te*(M<D?1:(D-G)/(M-G)))}if(--f,s+=8*(x+E)/(v.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Qm=null,eg=null;function Pu(a){return a.nodeType===9?a:a.ownerDocument}function J_(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z_(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function tg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ng=null;function JR(){var a=window.event;return a&&a.type==="popstate"?a===ng?!1:(ng=a,!0):(ng=null,!1)}var Q_=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,e1=typeof Promise=="function"?Promise:void 0,QR=typeof queueMicrotask=="function"?queueMicrotask:typeof e1<"u"?function(a){return e1.resolve(null).then(a).catch(eM)}:Q_;function eM(a){setTimeout(function(){throw a})}function qa(a){return a==="head"}function t1(a,s){var c=s,f=0;do{var v=c.nextSibling;if(a.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"||c==="/&"){if(f===0){a.removeChild(v),Ys(s);return}f--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")f++;else if(c==="html")wl(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,wl(c);for(var x=c.firstChild;x;){var E=x.nextSibling,D=x.nodeName;x[Uo]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=E}}else c==="body"&&wl(a.ownerDocument.body);c=v}while(c);Ys(s)}function n1(a,s){var c=a;a=0;do{var f=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=f}while(c)}function rg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":rg(c),lh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function tM(a,s,c,f){for(;a.nodeType===1;){var v=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Uo])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=ir(a.nextSibling),a===null)break}return null}function nM(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=ir(a.nextSibling),a===null))return null;return a}function r1(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=ir(a.nextSibling),a===null))return null;return a}function ag(a){return a.data==="$?"||a.data==="$~"}function ig(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function rM(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var f=function(){s(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function ir(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var sg=null;function a1(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return ir(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function i1(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function s1(a,s,c){switch(s=Pu(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function wl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);lh(a)}var sr=new Map,o1=new Set;function ku(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var na=K.d;K.d={f:aM,r:iM,D:sM,C:oM,L:lM,m:cM,X:dM,S:uM,M:fM};function aM(){var a=na.f(),s=ju();return a||s}function iM(a){var s=hs(a);s!==null&&s.tag===5&&s.type==="form"?jw(s):na.r(a)}var Gs=typeof document>"u"?null:document;function l1(a,s,c){var f=Gs;if(f&&typeof s=="string"&&s){var v=Zn(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof c=="string"&&(v+='[crossorigin="'+c+'"]'),o1.has(v)||(o1.add(v),a={rel:a,crossOrigin:c,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),Qt(s,"link",a),Kt(s),f.head.appendChild(s)))}}function sM(a){na.D(a),l1("dns-prefetch",a,null)}function oM(a,s){na.C(a,s),l1("preconnect",a,s)}function lM(a,s,c){na.L(a,s,c);var f=Gs;if(f&&a&&s){var v='link[rel="preload"][as="'+Zn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(v+='[imagesrcset="'+Zn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(v+='[imagesizes="'+Zn(c.imageSizes)+'"]')):v+='[href="'+Zn(a)+'"]';var x=v;switch(s){case"style":x=Fs(a);break;case"script":x=Vs(a)}sr.has(x)||(a=p({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),sr.set(x,a),f.querySelector(v)!==null||s==="style"&&f.querySelector(_l(x))||s==="script"&&f.querySelector(Sl(x))||(s=f.createElement("link"),Qt(s,"link",a),Kt(s),f.head.appendChild(s)))}}function cM(a,s){na.m(a,s);var c=Gs;if(c&&a){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Zn(f)+'"][href="'+Zn(a)+'"]',x=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Vs(a)}if(!sr.has(x)&&(a=p({rel:"modulepreload",href:a},s),sr.set(x,a),c.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Sl(x)))return}f=c.createElement("link"),Qt(f,"link",a),Kt(f),c.head.appendChild(f)}}}function uM(a,s,c){na.S(a,s,c);var f=Gs;if(f&&a){var v=ms(f).hoistableStyles,x=Fs(a);s=s||"default";var E=v.get(x);if(!E){var D={loading:0,preload:null};if(E=f.querySelector(_l(x)))D.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},c),(c=sr.get(x))&&og(a,c);var M=E=f.createElement("link");Kt(M),Qt(M,"link",a),M._p=new Promise(function(G,te){M.onload=G,M.onerror=te}),M.addEventListener("load",function(){D.loading|=1}),M.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Ru(E,s,f)}E={type:"stylesheet",instance:E,count:1,state:D},v.set(x,E)}}}function dM(a,s){na.X(a,s);var c=Gs;if(c&&a){var f=ms(c).hoistableScripts,v=Vs(a),x=f.get(v);x||(x=c.querySelector(Sl(v)),x||(a=p({src:a,async:!0},s),(s=sr.get(v))&&lg(a,s),x=c.createElement("script"),Kt(x),Qt(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(v,x))}}function fM(a,s){na.M(a,s);var c=Gs;if(c&&a){var f=ms(c).hoistableScripts,v=Vs(a),x=f.get(v);x||(x=c.querySelector(Sl(v)),x||(a=p({src:a,async:!0,type:"module"},s),(s=sr.get(v))&&lg(a,s),x=c.createElement("script"),Kt(x),Qt(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},f.set(v,x))}}function c1(a,s,c,f){var v=(v=xe.current)?ku(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Fs(c.href),c=ms(v).hoistableStyles,f=c.get(s),f||(f={type:"style",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Fs(c.href);var x=ms(v).hoistableStyles,E=x.get(a);if(E||(v=v.ownerDocument||v,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,E),(x=v.querySelector(_l(a)))&&!x._p&&(E.instance=x,E.state.loading=5),sr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},sr.set(a,c),x||hM(v,a,c,E.state))),s&&f===null)throw Error(r(528,""));return E}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vs(c),c=ms(v).hoistableScripts,f=c.get(s),f||(f={type:"script",instance:null,count:0,state:null},c.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Fs(a){return'href="'+Zn(a)+'"'}function _l(a){return'link[rel="stylesheet"]['+a+"]"}function u1(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function hM(a,s,c,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),Qt(s,"link",c),Kt(s),a.head.appendChild(s))}function Vs(a){return'[src="'+Zn(a)+'"]'}function Sl(a){return"script[async]"+a}function d1(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+Zn(c.href)+'"]');if(f)return s.instance=f,Kt(f),f;var v=p({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Kt(f),Qt(f,"style",v),Ru(f,c.precedence,a),s.instance=f;case"stylesheet":v=Fs(c.href);var x=a.querySelector(_l(v));if(x)return s.state.loading|=4,s.instance=x,Kt(x),x;f=u1(c),(v=sr.get(v))&&og(f,v),x=(a.ownerDocument||a).createElement("link"),Kt(x);var E=x;return E._p=new Promise(function(D,M){E.onload=D,E.onerror=M}),Qt(x,"link",f),s.state.loading|=4,Ru(x,c.precedence,a),s.instance=x;case"script":return x=Vs(c.src),(v=a.querySelector(Sl(x)))?(s.instance=v,Kt(v),v):(f=c,(v=sr.get(x))&&(f=p({},c),lg(f,v)),a=a.ownerDocument||a,v=a.createElement("script"),Kt(v),Qt(v,"link",f),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Ru(f,c.precedence,a));return s.instance}function Ru(a,s,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,x=v,E=0;E<f.length;E++){var D=f[E];if(D.dataset.precedence===s)x=D;else if(x!==v)break}x?x.parentNode.insertBefore(a,x.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function og(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function lg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Mu=null;function f1(a,s,c){if(Mu===null){var f=new Map,v=Mu=new Map;v.set(c,f)}else v=Mu,f=v.get(c),f||(f=new Map,v.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),v=0;v<c.length;v++){var x=c[v];if(!(x[Uo]||x[Wt]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var E=x.getAttribute(s)||"";E=a+E;var D=f.get(E);D?D.push(x):f.set(E,[x])}}return f}function h1(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function mM(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function m1(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function gM(a,s,c,f){if(c.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var v=Fs(f.href),x=s.querySelector(_l(v));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Iu.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=x,Kt(x);return}x=s.ownerDocument||s,f=u1(f),(v=sr.get(v))&&og(f,v),x=x.createElement("link"),Kt(x);var E=x;E._p=new Promise(function(D,M){E.onload=D,E.onerror=M}),Qt(x,"link",f),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Iu.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var cg=0;function pM(a,s){return a.stylesheets&&a.count===0&&Bu(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var f=setTimeout(function(){if(a.stylesheets&&Bu(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+s);0<a.imgBytes&&cg===0&&(cg=62500*XR());var v=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Bu(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>cg?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function Iu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bu(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Lu=null;function Bu(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Lu=new Map,s.forEach(vM,a),Lu=null,Iu.call(a))}function vM(a,s){if(!(s.state.loading&4)){var c=Lu.get(a);if(c)var f=c.get(null);else{c=new Map,Lu.set(a,c);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var E=v[x];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),f=E)}f&&c.set(null,f)}v=s.instance,E=v.getAttribute("data-precedence"),x=c.get(E)||f,x===f&&c.set(null,v),c.set(E,v),this.count++,f=Iu.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),x?x.parentNode.insertBefore(v,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var jl={$$typeof:T,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function yM(a,s,c,f,v,x,E,D,M){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ah(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ah(0),this.hiddenUpdates=ah(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function g1(a,s,c,f,v,x,E,D,M,G,te,ae){return a=new yM(a,s,c,E,M,G,te,ae,D),s=1,x===!0&&(s|=24),x=kn(3,null,null,s),a.current=x,x.stateNode=a,s=qh(),s.refCount++,a.pooledCache=s,s.refCount++,x.memoizedState={element:f,isDehydrated:c,cache:s},Fh(x),a}function p1(a){return a?(a=js,a):js}function v1(a,s,c,f,v,x){v=p1(v),f.context===null?f.context=v:f.pendingContext=v,f=Da(s),f.payload={element:c},x=x===void 0?null:x,x!==null&&(f.callback=x),c=Pa(a,f,s),c!==null&&(An(c,a,s),nl(c,a,s))}function y1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function ug(a,s){y1(a,s),(a=a.alternate)&&y1(a,s)}function b1(a){if(a.tag===13||a.tag===31){var s=xi(a,67108864);s!==null&&An(s,a,67108864),ug(a,67108864)}}function x1(a){if(a.tag===13||a.tag===31){var s=Bn();s=ih(s);var c=xi(a,s);c!==null&&An(c,a,s),ug(a,s)}}var Uu=!0;function bM(a,s,c,f){var v=B.T;B.T=null;var x=K.p;try{K.p=2,dg(a,s,c,f)}finally{K.p=x,B.T=v}}function xM(a,s,c,f){var v=B.T;B.T=null;var x=K.p;try{K.p=8,dg(a,s,c,f)}finally{K.p=x,B.T=v}}function dg(a,s,c,f){if(Uu){var v=fg(f);if(v===null)Jm(a,s,f,$u,c),_1(a,f);else if(_M(v,a,s,c,f))f.stopPropagation();else if(_1(a,f),s&4&&-1<wM.indexOf(a)){for(;v!==null;){var x=hs(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var E=gi(x.pendingLanes);if(E!==0){var D=x;for(D.pendingLanes|=2,D.entangledLanes|=2;E;){var M=1<<31-Dn(E);D.entanglements[1]|=M,E&=~M}kr(x),(He&6)===0&&(_u=Je()+500,yl(0))}}break;case 31:case 13:D=xi(x,2),D!==null&&An(D,x,2),ju(),ug(x,2)}if(x=fg(f),x===null&&Jm(a,s,f,$u,c),x===v)break;v=x}v!==null&&f.stopPropagation()}else Jm(a,s,f,null,c)}}function fg(a){return a=mh(a),hg(a)}var $u=null;function hg(a){if($u=null,a=fs(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return $u=a,null}function w1(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Ro:return 2;case Mo:return 8;case mi:case rh:return 32;case Tc:return 268435456;default:return 32}default:return 32}}var mg=!1,Ka=null,Ha=null,Ga=null,El=new Map,Ol=new Map,Fa=[],wM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _1(a,s){switch(a){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":El.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(s.pointerId)}}function Al(a,s,c,f,v,x){return a===null||a.nativeEvent!==x?(a={blockedOn:s,domEventName:c,eventSystemFlags:f,nativeEvent:x,targetContainers:[v]},s!==null&&(s=hs(s),s!==null&&b1(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function _M(a,s,c,f,v){switch(s){case"focusin":return Ka=Al(Ka,a,s,c,f,v),!0;case"dragenter":return Ha=Al(Ha,a,s,c,f,v),!0;case"mouseover":return Ga=Al(Ga,a,s,c,f,v),!0;case"pointerover":var x=v.pointerId;return El.set(x,Al(El.get(x)||null,a,s,c,f,v)),!0;case"gotpointercapture":return x=v.pointerId,Ol.set(x,Al(Ol.get(x)||null,a,s,c,f,v)),!0}return!1}function S1(a){var s=fs(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,Lb(a.priority,function(){x1(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,Lb(a.priority,function(){x1(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function zu(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=fg(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);hh=f,c.target.dispatchEvent(f),hh=null}else return s=hs(c),s!==null&&b1(s),a.blockedOn=c,!1;s.shift()}return!0}function j1(a,s,c){zu(a)&&c.delete(s)}function SM(){mg=!1,Ka!==null&&zu(Ka)&&(Ka=null),Ha!==null&&zu(Ha)&&(Ha=null),Ga!==null&&zu(Ga)&&(Ga=null),El.forEach(j1),Ol.forEach(j1)}function qu(a,s){a.blockedOn===s&&(a.blockedOn=null,mg||(mg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SM)))}var Ku=null;function E1(a){Ku!==a&&(Ku=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ku===a&&(Ku=null);for(var s=0;s<a.length;s+=3){var c=a[s],f=a[s+1],v=a[s+2];if(typeof f!="function"){if(hg(f||c)===null)continue;break}var x=hs(c);x!==null&&(a.splice(s,3),s-=3,fm(x,{pending:!0,data:v,method:c.method,action:f},f,v))}}))}function Ys(a){function s(M){return qu(M,a)}Ka!==null&&qu(Ka,a),Ha!==null&&qu(Ha,a),Ga!==null&&qu(Ga,a),El.forEach(s),Ol.forEach(s);for(var c=0;c<Fa.length;c++){var f=Fa[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Fa.length&&(c=Fa[0],c.blockedOn===null);)S1(c),c.blockedOn===null&&Fa.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var v=c[f],x=c[f+1],E=v[wn]||null;if(typeof x=="function")E||E1(c);else if(E){var D=null;if(x&&x.hasAttribute("formAction")){if(v=x,E=x[wn]||null)D=E.formAction;else if(hg(v)!==null)continue}else D=E.action;typeof D=="function"?c[f+1]=D:(c.splice(f,3),f-=3),E1(c)}}}function O1(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(E){return v=E})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),f||setTimeout(c,20)}function c(){if(!f&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function gg(a){this._internalRoot=a}Hu.prototype.render=gg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,f=Bn();v1(c,f,a,s,null,null)},Hu.prototype.unmount=gg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;v1(a.current,2,null,a,null,null),ju(),s[ds]=null}};function Hu(a){this._internalRoot=a}Hu.prototype.unstable_scheduleHydration=function(a){if(a){var s=Ib();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Fa.length&&s!==0&&s<Fa[c].priority;c++);Fa.splice(c,0,a),c===0&&S1(a)}};var A1=t.version;if(A1!=="19.2.0")throw Error(r(527,A1,"19.2.0"));K.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var jM={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Io=Gu.inject(jM),Cn=Gu}catch{}}return Tl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,f="",v=Rw,x=Mw,E=Iw;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=g1(a,1,!1,null,null,c,f,null,v,x,E,O1),a[ds]=s.current,Xm(a),new gg(s)},Tl.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var f=!1,v="",x=Rw,E=Mw,D=Iw,M=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(M=c.formState)),s=g1(a,1,!0,s,c??null,f,v,M,x,E,D,O1),s.context=p1(null),c=s.current,f=Bn(),f=ih(f),v=Da(f),v.callback=null,Pa(c,v,f),c=f,s.current.lanes=c,Bo(s,c),kr(s),a[ds]=s.current,Xm(a),new Hu(s)},Tl.version="19.2.0",Tl}var L1;function LM(){if(L1)return bg.exports;L1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bg.exports=IM(),bg.exports}var BM=LM();const UM=Nr(BM);var uv=function(e,t){return uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},uv(e,t)};function bN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");uv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var _d=function(){return _d=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_d.apply(this,arguments)};function xo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function xN(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(o=(i<3?l(o):i>3?l(t,n,o):l(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function wN(e,t){return function(n,r){t(n,r,e)}}function _N(e,t,n,r,i,o){function l(O){if(O!==void 0&&typeof O!="function")throw new TypeError("Function expected");return O}for(var u=r.kind,m=u==="getter"?"get":u==="setter"?"set":"value",h=!t&&e?r.static?e:e.prototype:null,g=t||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),p,y=!1,b=n.length-1;b>=0;b--){var S={};for(var _ in r)S[_]=_==="access"?{}:r[_];for(var _ in r.access)S.access[_]=r.access[_];S.addInitializer=function(O){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(O||null))};var j=(0,n[b])(u==="accessor"?{get:g.get,set:g.set}:g[m],S);if(u==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(p=l(j.get))&&(g.get=p),(p=l(j.set))&&(g.set=p),(p=l(j.init))&&i.unshift(p)}else(p=l(j))&&(u==="field"?i.unshift(p):g[m]=p)}h&&Object.defineProperty(h,r.name,g),y=!0}function SN(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function jN(e){return typeof e=="symbol"?e:"".concat(e)}function EN(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function ON(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ve(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(g){try{h(r.next(g))}catch(p){l(p)}}function m(g){try{h(r.throw(g))}catch(p){l(p)}}function h(g){g.done?o(g.value):i(g.value).then(u,m)}h((r=r.apply(e,t||[])).next())})}function AN(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(g){return m([h,g])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(o=h[0]&2?i.return:h[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,h[1])).done)return o;switch(i=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){n.label=h[1];break}if(h[0]===6&&n.label<o[1]){n.label=o[1],o=h;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(h);break}o[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(g){h=[6,g],i=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var vf=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function NN(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&vf(t,e,n)}function Sd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function b0(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],l;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function TN(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(b0(arguments[t]));return e}function CN(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],l=0,u=o.length;l<u;l++,i++)r[i]=o[l];return r}function DN(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function lo(e){return this instanceof lo?(this.v=e,this):new lo(e)}function PN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(b){return function(S){return Promise.resolve(S).then(b,p)}}function u(b,S){r[b]&&(i[b]=function(_){return new Promise(function(j,O){o.push([b,_,j,O])>1||m(b,_)})},S&&(i[b]=S(i[b])))}function m(b,S){try{h(r[b](S))}catch(_){y(o[0][3],_)}}function h(b){b.value instanceof lo?Promise.resolve(b.value.v).then(g,p):y(o[0][2],b)}function g(b){m("next",b)}function p(b){m("throw",b)}function y(b,S){b(S),o.shift(),o.length&&m(o[0][0],o[0][1])}}function kN(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(l){return(n=!n)?{value:lo(e[i](l)),done:!1}:o?o(l):l}:o}}function RN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Sd=="function"?Sd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,m){l=e[o](l),i(u,m,l.done,l.value)})}}function i(o,l,u,m){Promise.resolve(m).then(function(h){o({value:h,done:u})},l)}}function MN(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var $M=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},dv=function(e){return dv=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},dv(e)};function IN(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=dv(e),r=0;r<n.length;r++)n[r]!=="default"&&vf(t,e,n[r]);return $M(t,e),t}function LN(e){return e&&e.__esModule?e:{default:e}}function BN(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function UN(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function $N(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function zN(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var zM=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function qN(e){function t(o){e.error=e.hasError?new zM(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(l){return t(l),i()})}else r|=1}catch(l){t(l)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function KN(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,l){return r?t?".jsx":".js":i&&(!o||!l)?n:i+o+"."+l.toLowerCase()+"js"}):e}const qM={__extends:bN,__assign:_d,__rest:xo,__decorate:xN,__param:wN,__esDecorate:_N,__runInitializers:SN,__propKey:jN,__setFunctionName:EN,__metadata:ON,__awaiter:ve,__generator:AN,__createBinding:vf,__exportStar:NN,__values:Sd,__read:b0,__spread:TN,__spreadArrays:CN,__spreadArray:DN,__await:lo,__asyncGenerator:PN,__asyncDelegator:kN,__asyncValues:RN,__makeTemplateObject:MN,__importStar:IN,__importDefault:LN,__classPrivateFieldGet:BN,__classPrivateFieldSet:UN,__classPrivateFieldIn:$N,__addDisposableResource:zN,__disposeResources:qN,__rewriteRelativeImportExtension:KN},KM=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:zN,get __assign(){return _d},__asyncDelegator:kN,__asyncGenerator:PN,__asyncValues:RN,__await:lo,__awaiter:ve,__classPrivateFieldGet:BN,__classPrivateFieldIn:$N,__classPrivateFieldSet:UN,__createBinding:vf,__decorate:xN,__disposeResources:qN,__esDecorate:_N,__exportStar:NN,__extends:bN,__generator:AN,__importDefault:LN,__importStar:IN,__makeTemplateObject:MN,__metadata:ON,__param:wN,__propKey:jN,__read:b0,__rest:xo,__rewriteRelativeImportExtension:KN,__runInitializers:SN,__setFunctionName:EN,__spread:TN,__spreadArray:DN,__spreadArrays:CN,__values:Sd,default:qM},Symbol.toStringTag,{value:"Module"})),HM="modulepreload",GM=function(e){return"/"+e},B1={},wo=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(h=>{if(h=GM(h),h in B1)return;B1[h]=!0;const g=h.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const y=document.createElement("link");if(y.rel=g?"stylesheet":HM,g||(y.as="script"),y.crossOrigin="",y.href=h,m&&y.setAttribute("nonce",m),document.head.appendChild(y),g)return new Promise((b,S)=>{y.addEventListener("load",b),y.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},FM=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wo(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class x0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class U1 extends x0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $1 extends x0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class z1 extends x0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fv||(fv={}));class VM{constructor(t,{headers:n={},customFetch:r,region:i=fv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=FM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ve(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:m}=r;let h={},{region:g}=r;g||(g=this.region);const p=new URL(`${this.url}/${n}`);g&&g!=="any"&&(h["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let y;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(h["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(h["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;const b=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:y,signal:m}).catch(O=>{throw O.name==="AbortError"?O:new U1(O)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new $1(b);if(!b.ok)throw new z1(b);let _=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return _==="application/json"?j=yield b.json():_==="application/octet-stream"||_==="application/pdf"?j=yield b.blob():_==="text/event-stream"?j=b:_==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new U1(o)}:{data:null,error:o,response:o instanceof z1||o instanceof $1?o.context:void 0}}})}}var on={};const _o=pN(KM);var Fu={},Vu={},Yu={},Wu={},Xu={},YM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},co=YM();const WM=co.fetch,HN=co.fetch.bind(co),GN=co.Headers,XM=co.Request,JM=co.Response,ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:GN,Request:XM,Response:JM,default:HN,fetch:WM},Symbol.toStringTag,{value:"Module"})),ZM=pN(ls);var Ju={},q1;function FN(){if(q1)return Ju;q1=1,Object.defineProperty(Ju,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ju.default=e,Ju}var K1;function VN(){if(K1)return Xu;K1=1,Object.defineProperty(Xu,"__esModule",{value:!0});const e=_o,t=e.__importDefault(ZM),n=e.__importDefault(FN());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let m=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,p,y,b;let S=null,_=null,j=null,O=h.status,A=h.statusText;if(h.ok){if(this.method!=="HEAD"){const C=await h.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?_=C:_=JSON.parse(C))}const P=(p=this.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),N=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");P&&N&&N.length>1&&(j=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(S={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,j=null,O=406,A="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const P=await h.text();try{S=JSON.parse(P),Array.isArray(S)&&h.status===404&&(_=[],S=null,O=200,A="OK")}catch{h.status===404&&P===""?(O=204,A="No Content"):S={message:P}}if(S&&this.isMaybeSingle&&(!((b=S==null?void 0:S.details)===null||b===void 0)&&b.includes("0 rows"))&&(S=null,O=200,A="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:_,count:j,status:O,statusText:A}});return this.shouldThrowOnError||(m=m.catch(h=>{var g,p,y;return{error:{message:`${(g=h==null?void 0:h.name)!==null&&g!==void 0?g:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(y=h==null?void 0:h.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),m.then(o,l)}returns(){return this}overrideTypes(){return this}}return Xu.default=r,Xu}var H1;function YN(){if(H1)return Wu;H1=1,Object.defineProperty(Wu,"__esModule",{value:!0});const t=_o.__importDefault(VN());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:m=u}={}){const h=m?`${m}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const m=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(m,`${i}`),this.url.searchParams.set(h,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:m=!1,format:h="text"}={}){var g;const p=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,m?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Wu.default=n,Wu}var G1;function w0(){if(G1)return Yu;G1=1,Object.defineProperty(Yu,"__esModule",{value:!0});const t=_o.__importDefault(YN());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let m="";u==="plain"?m="pl":u==="phrase"?m="ph":u==="websearch"&&(m="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${m}fts${h}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Yu.default=n,Yu}var F1;function WN(){if(F1)return Vu;F1=1,Object.defineProperty(Vu,"__esModule",{value:!0});const t=_o.__importDefault(w0());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},m=l?"HEAD":"GET";let h=!1;const g=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",g),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const m="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(h.length>0){const g=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:m=!0}={}){var h;const g="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Vu.default=n,Vu}var V1;function QM(){if(V1)return Fu;V1=1,Object.defineProperty(Fu,"__esModule",{value:!0});const e=_o,t=e.__importDefault(WN()),n=e.__importDefault(w0());class r{constructor(o,{headers:l={},schema:u,fetch:m}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=m}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:m=!1,count:h}={}){var g;let p;const y=new URL(`${this.url}/rpc/${o}`);let b;u||m?(p=u?"HEAD":"GET",Object.entries(l).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{y.searchParams.append(_,j)})):(p="POST",b=l);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new n.default({method:p,url:y,headers:S,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Fu.default=r,Fu}var Y1;function eI(){if(Y1)return on;Y1=1,Object.defineProperty(on,"__esModule",{value:!0}),on.PostgrestError=on.PostgrestBuilder=on.PostgrestTransformBuilder=on.PostgrestFilterBuilder=on.PostgrestQueryBuilder=on.PostgrestClient=void 0;const e=_o,t=e.__importDefault(QM());on.PostgrestClient=t.default;const n=e.__importDefault(WN());on.PostgrestQueryBuilder=n.default;const r=e.__importDefault(w0());on.PostgrestFilterBuilder=r.default;const i=e.__importDefault(YN());on.PostgrestTransformBuilder=i.default;const o=e.__importDefault(VN());on.PostgrestBuilder=o.default;const l=e.__importDefault(FN());return on.PostgrestError=l.default,on.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},on}var tI=eI();const nI=Nr(tI),{PostgrestClient:rI,PostgrestQueryBuilder:iJ,PostgrestFilterBuilder:sJ,PostgrestTransformBuilder:oJ,PostgrestBuilder:lJ,PostgrestError:cJ}=nI;class aI{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const iI="2.76.1",sI=`realtime-js/${iI}`,oI="1.0.0",hv=1e4,lI=1e3,cI=100;var ql;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ql||(ql={}));var Rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rt||(Rt={}));var jr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jr||(jr={}));var mv;(function(e){e.websocket="websocket"})(mv||(mv={}));var Ui;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ui||(Ui={}));class uI{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const m=r.decode(t.slice(l,l+o));l=l+o;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:m,payload:h}}}class XN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var at;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(at||(at={}));const W1=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=dI(l,e,t,i),o),{}):{}},dI=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?JN(o,l):gv(l)},JN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return gI(t,n)}switch(e){case at.bool:return fI(t);case at.float4:case at.float8:case at.int2:case at.int4:case at.int8:case at.numeric:case at.oid:return hI(t);case at.json:case at.jsonb:return mI(t);case at.timestamp:return pI(t);case at.abstime:case at.date:case at.daterange:case at.int4range:case at.int8range:case at.money:case at.reltime:case at.text:case at.time:case at.timestamptz:case at.timetz:case at.tsrange:case at.tstzrange:return gv(t);default:return gv(t)}},gv=e=>e,fI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gI=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>JN(t,u))}return e},pI=e=>typeof e=="string"?e.replace(" ","T"):e,ZN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Sg{constructor(t,n,r={},i=hv){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var X1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(X1||(X1={}));class Kl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kl.syncState(this.state,i,o,l),this.pendingDiffs.forEach(m=>{this.state=Kl.syncDiff(this.state,m,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Kl.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},m={};return this.map(o,(h,g)=>{l[h]||(m[h]=g)}),this.map(l,(h,g)=>{const p=o[h];if(p){const y=g.map(j=>j.presence_ref),b=p.map(j=>j.presence_ref),S=g.filter(j=>b.indexOf(j.presence_ref)<0),_=p.filter(j=>y.indexOf(j.presence_ref)<0);S.length>0&&(u[h]=S),_.length>0&&(m[h]=_)}else u[h]=g}),this.syncDiff(o,{joins:u,leaves:m},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,m)=>{var h;const g=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(m),g.length>0){const p=t[u].map(b=>b.presence_ref),y=g.filter(b=>p.indexOf(b.presence_ref)<0);t[u].unshift(...y)}r(u,g,m)}),this.map(l,(u,m)=>{let h=t[u];if(!h)return;const g=m.map(p=>p.presence_ref);h=h.filter(p=>g.indexOf(p.presence_ref)<0),t[u]=h,i(u,h,m),h.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var J1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(J1||(J1={}));var Hl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hl||(Hl={}));var ra;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ra||(ra={}));class _0{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Sg(this,jr.join,this.params,this.timeout),this.rejoinTimer=new XN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Kl(this),this.broadcastEndpointURL=ZN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:l,presence:u,private:m}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[Hl.PRESENCE]&&this.bindings[Hl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,p={},y={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:h,private:m};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>t==null?void 0:t(ra.CHANNEL_ERROR,b)),this._onClose(()=>t==null?void 0:t(ra.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var S;if(this.socket.setAuth(),b===void 0){t==null||t(ra.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(S=_==null?void 0:_.length)!==null&&S!==void 0?S:0,O=[];for(let A=0;A<j;A++){const T=_[A],{filter:{event:P,schema:N,table:C,filter:k}}=T,z=b&&b[A];if(z&&z.event===P&&z.schema===N&&z.table===C&&z.filter===k)O.push(Object.assign(Object.assign({},T),{id:z.id}));else{this.unsubscribe(),this.state=Rt.errored,t==null||t(ra.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(ra.SUBSCRIBED);return}}).receive("error",b=>{this.state=Rt.errored,t==null||t(ra.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ra.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Rt.joined&&t===Hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let m=u.statusText;try{const h=await u.json();m=h.error||h.message||m}catch{}return Promise.reject(new Error(m))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,m;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||m===void 0)&&m.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Sg(this,jr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Sg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>cI){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:m,leave:h,join:g}=jr;if(r&&[u,m,h,g].indexOf(l)>=0&&r!==this._joinRef())return;let y=this._onMessage(l,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var S,_,j;return((S=b.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(_=b.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===l}).map(b=>b.callback(y,r)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var S,_,j,O,A,T;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const P=b.id,N=(S=b.filter)===null||S===void 0?void 0:S.event;return P&&((_=n.ids)===null||_===void 0?void 0:_.includes(P))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const P=(A=(O=b==null?void 0:b.filter)===null||O===void 0?void 0:O.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return P==="*"||P===((T=n==null?void 0:n.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:_,table:j,commit_timestamp:O,type:A,errors:T}=S;y=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:O,eventType:A,new:{},old:{},errors:T}),this._getPayloadRecords(S))}b.callback(y,r)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&_0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jr.close,{},t)}_onError(t){this._on(jr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=W1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=W1(t.columns,t.old_record)),n}}const jg=()=>{},Zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vI=[1e3,2e3,5e3,1e4],yI=1e4,bI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xI{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=hv,this.transport=null,this.heartbeatIntervalMs=Zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jg,this.ref=0,this.reconnectTimer=null,this.logger=jg,this.conn=null,this.sendBuffer=[],this.serializer=new uI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>wo(async()=>{const{default:u}=await Promise.resolve().then(()=>ls);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${mv.websocket}`,this.httpEndpoint=ZN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aI.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oI}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ql.connecting:return Ui.Connecting;case ql.open:return Ui.Open;case ql.closing:return Ui.Closing;default:return Ui.Closed}}isConnected(){return this.connectionState()===Ui.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new _0(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var m;(m=this.conn)===null||m===void 0||m.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(lI,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",m=o.status||"";this.log("receive",`${m} ${r} ${i} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(jr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([bI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:sI};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(jr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new XN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,m,h,g;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:hv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Zu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:jg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(p=>vI[p-1]||yI),this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((p,y)=>y(JSON.stringify(p))),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class S0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wI extends S0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pv extends S0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const j0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wo(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},_I=()=>ve(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wo(()=>Promise.resolve().then(()=>ls),void 0)).Response:Response}),vv=e=>{if(Array.isArray(e))return e.map(n=>vv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=vv(r)}),t},SI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Eg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jI=(e,t,n)=>ve(void 0,void 0,void 0,function*(){const r=yield _I();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new wI(Eg(i),o,l))}).catch(i=>{t(new pv(Eg(i),i))}):t(new pv(Eg(e),e))}),EI=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(SI(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function cc(e,t,n,r,i,o){return ve(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,EI(t,r,i,o)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>l(m)).catch(m=>jI(m,u,r))})})}function Vl(e,t,n,r){return ve(this,void 0,void 0,function*(){return cc(e,"GET",t,n,r)})}function Sr(e,t,n,r,i){return ve(this,void 0,void 0,function*(){return cc(e,"POST",t,r,i,n)})}function yv(e,t,n,r,i){return ve(this,void 0,void 0,function*(){return cc(e,"PUT",t,r,i,n)})}function OI(e,t,n,r){return ve(this,void 0,void 0,function*(){return cc(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function E0(e,t,n,r,i){return ve(this,void 0,void 0,function*(){return cc(e,"DELETE",t,r,i,n)})}class AI{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return ve(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}var QN;class NI{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[QN]="BlobDownloadBuilder",this.promise=null}asStream(){return new AI(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ve(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}}QN=Symbol.toStringTag;const TI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Z1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CI{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=j0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return ve(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Z1),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const m=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),m&&o.append("metadata",this.encodeMetadata(m)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),m&&o.append("metadata",this.encodeMetadata(m))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,m&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const h=this._removeEmptyFolders(n),g=this._getFinalPath(h),p=yield(t=="PUT"?yv:Sr)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:p.Id,fullPath:p.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(pt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ve(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let m;const h=Object.assign({upsert:Z1.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",h.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",h.cacheControl)):(m=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType);const p=yield yv(this.fetch,u.toString(),m,{headers:g});return{data:{path:o,fullPath:p.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(pt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Sr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new S0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}update(t,n,r){return ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ve(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Sr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ve(this,void 0,void 0,function*(){try{const i=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),m=()=>Vl(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new NI(m,this.shouldThrowOnError)}info(t){return ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Vl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:vv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}exists(t){return ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield OI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r)&&r instanceof pv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&i.push(m);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(t){return ve(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}list(t,n,r){return ve(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},TI),n),{prefix:t||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}listV2(t,n){return ve(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const e2="2.76.1",t2={"X-Client-Info":`storage-js/${e2}`};class DI{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t2),n),this.fetch=j0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ve(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(pt(t))return{data:null,error:t};throw t}})}getBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Vl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}createBucket(t){return ve(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(pt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return ve(this,void 0,void 0,function*(){try{return{data:yield yv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}}class PI{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},t2),n),this.fetch=j0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}listBuckets(t){return ve(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,o=yield Vl(this.fetch,i,{headers:this.headers});return{data:Array.isArray(o)?o.filter(u=>u.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield E0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pt(n))return{data:null,error:n};throw n}})}}const O0={"X-Client-Info":`storage-js/${e2}`,"Content-Type":"application/json"};class n2 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Hn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Og extends n2{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class kI extends n2{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var Q1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Q1||(Q1={}));const A0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wo(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},RI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},eS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MI=(e,t,n)=>ve(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new Og(eS(l),i,u))}).catch(()=>{const l=i+"",u=o.statusText||`HTTP ${i} error`;t(new Og(u,i,l))});else{const l=i+"",u=o.statusText||`HTTP ${i} error`;t(new Og(u,i,l))}}else t(new kI(eS(e),e))}),II=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(RI(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function LI(e,t,n,r,i,o){return ve(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,II(t,r,i,o)).then(m=>{if(!m.ok)throw m;if(r!=null&&r.noResolveJson)return m;const h=m.headers.get("content-type");return!h||!h.includes("application/json")?{}:m.json()}).then(m=>l(m)).catch(m=>MI(m,u,r))})})}function Gn(e,t,n,r,i){return ve(this,void 0,void 0,function*(){return LI(e,"POST",t,r,i,n)})}class BI{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},O0),n),this.fetch=A0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return ve(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}listIndexes(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return ve(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Hn(r))return{data:null,error:r};throw r}})}}class UI{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},O0),n),this.fetch=A0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}getVectors(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}listVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Gn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}queryVectors(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return ve(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}}class $I{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},O0),n),this.fetch=A0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}getBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}listBuckets(){return ve(this,arguments,void 0,function*(t={}){try{return{data:yield Gn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ve(this,void 0,void 0,function*(){try{return{data:(yield Gn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Hn(n))return{data:null,error:n};throw n}})}}class zI extends $I{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new qI(this.url,this.headers,t,this.fetch)}}class qI extends BI{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ve(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ve(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ve(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ve(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new KI(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class KI extends UI{constructor(t,n,r,i,o){super(t,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ve(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ve(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ve(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ve(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ve(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class HI extends DI{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new CI(this.url,this.headers,t,this.fetch)}get vectors(){return new zI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PI(this.url+"/iceberg",this.headers,this.fetch)}}const GI="2.76.1";let Ul="";typeof Deno<"u"?Ul="deno":typeof document<"u"?Ul="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ul="react-native":Ul="node";const FI={"X-Client-Info":`supabase-js-${Ul}/${GI}`},VI={headers:FI},YI={schema:"public"},WI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XI={},JI=e=>{let t;return e?t=e:typeof fetch>"u"?t=HN:t=fetch,(...n)=>t(...n)},ZI=()=>typeof Headers>"u"?GN:Headers,QI=(e,t,n)=>{const r=JI(n),i=ZI();return async(o,l)=>{var u;const m=(u=await t())!==null&&u!==void 0?u:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${m}`),r(o,Object.assign(Object.assign({},l),{headers:h}))}};function eL(e){return e.endsWith("/")?e:e+"/"}function tL(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:m,auth:h,realtime:g,global:p}=t,y={db:Object.assign(Object.assign({},m),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},g),l),storage:{},global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function nL(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eL(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const r2="2.76.1",no=30*1e3,bv=3,Ag=bv*no,rL="http://localhost:9999",aL="supabase.auth.token",iL={"X-Client-Info":`gotrue-js/${r2}`},xv="X-Supabase-Api-Version",a2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sL=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oL=600*1e3;class Yl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lL extends Yl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function cL(e){return Ee(e)&&e.name==="AuthApiError"}class $i extends Yl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class li extends Yl{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Wa extends li{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uL(e){return Ee(e)&&e.name==="AuthSessionMissingError"}class Ws extends li{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qu extends li{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ed extends li{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dL(e){return Ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class tS extends li{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wv extends li{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ng(e){return Ee(e)&&e.name==="AuthRetryableFetchError"}class nS extends li{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class _v extends li{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rS=` 	
\r=`.split(""),fL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rS.length;t+=1)e[rS[t].charCodeAt(0)]=-2;for(let t=0;t<jd.length;t+=1)e[jd[t].charCodeAt(0)]=t;return e})();function aS(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(jd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(jd[r]),t.queuedBits-=6}}function i2(e,t,n){const r=fL[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function iS(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{gL(l,r,n)};for(let l=0;l<e.length;l+=1)i2(e.charCodeAt(l),i,o);return t.join("")}function hL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mL(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}hL(r,t)}}function gL(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function io(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)i2(e.charCodeAt(i),n,r);return new Uint8Array(t)}function pL(e){const t=[];return mL(e,n=>t.push(n)),new Uint8Array(t)}function zi(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>aS(i,n,r)),aS(null,n,r),t.join("")}function vL(e){return Math.round(Date.now()/1e3)+e}function yL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Un=()=>typeof window<"u"&&typeof document<"u",ki={tested:!1,writable:!1},s2=()=>{if(!Un())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ki.tested)return ki.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ki.tested=!0,ki.writable=!0}catch{ki.tested=!0,ki.writable=!1}return ki.writable};function bL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const o2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>wo(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ro=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ri=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ya=async(e,t)=>{await e.removeItem(t)};class yf{constructor(){this.promise=new yf.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}yf.promiseConstructor=Promise;function Tg(e){const t=e.split(".");if(t.length!==3)throw new _v("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!sL.test(t[r]))throw new _v("JWT not in base64url format");return{header:JSON.parse(iS(t[0])),payload:JSON.parse(iS(t[1])),signature:io(t[2]),raw:{header:t[0],payload:t[1]}}}async function wL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _L(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function SL(e){return("0"+e.toString(16)).substr(-2)}function jL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,SL).join("")}async function EL(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function OL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await EL(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xs(e,t,n=!1){const r=jL();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await ro(e,`${t}-code-verifier`,i);const o=await OL(r);return[o,r===o?"plain":"s256"]}const AL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NL(e){const t=e.headers.get(xv);if(!t||!t.match(AL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function TL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function CL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Js(e){if(!DL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sS(e){return JSON.parse(JSON.stringify(e))}const Mi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),PL=[502,503,504];async function oS(e){var t;if(!xL(e))throw new wv(Mi(e),0);if(PL.includes(e.status))throw new wv(Mi(e),e.status);let n;try{n=await e.json()}catch(o){throw new $i(Mi(o),o)}let r;const i=NL(e);if(i&&i.getTime()>=a2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new nS(Mi(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Wa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new nS(Mi(n),e.status,n.weak_password.reasons);throw new lL(Mi(n),e.status||500,r)}const kL=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ne(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[xv]||(o[xv]=a2["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",m=await RL(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function RL(e,t,n,r,i,o){const l=kL(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(m){throw console.error(m),new wv(Mi(m),0)}if(u.ok||await oS(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(m){await oS(m)}}function _r(e){var t;let n=null;LL(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=vL(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function lS(e){const t=_r(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Za(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ML(e){return{data:e,error:null}}function IL(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=xo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},m=Object.assign({},l);return{data:{properties:u,user:m},error:null}}function cS(e){return e}function LL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dg=["global","local","others"];class BL{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=o2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Dg[0]){if(Dg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dg.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Za})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xo(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:IL,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Za})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,m;try{const h={nextPage:null,lastPage:0,total:0},g=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:cS});if(g.error)throw g.error;const p=await g.json(),y=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(m=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);h[`${j}Page`]=_}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Ee(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Js(t);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Za})}catch(n){if(Ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Js(t);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Za})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Js(t);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Za})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Js(t.userId);try{const{data:n,error:r}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Js(t.userId),Js(t.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,m;try{const h={nextPage:null,lastPage:0,total:0},g=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:cS});if(g.error)throw g.error;const p=await g.json(),y=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(m=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);h[`${j}Page`]=_}),h.total=parseInt(y)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Ee(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}}function uS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Zs={debug:!!(globalThis&&s2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class l2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UL extends l2{}async function $L(e,t,n){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Zs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function zL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function c2(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function qL(e){return parseInt(e,16)}function KL(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function HL(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:m,resources:h,scheme:g,uri:p,version:y}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const b=c2(e.address),S=g?`${g}://${r}`:r,_=e.statement?`${e.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${b}

${_}`;let O=`URI: ${p}
Version: ${y}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(O+=`
Expiration Time: ${i.toISOString()}`),u&&(O+=`
Not Before: ${u.toISOString()}`),m&&(O+=`
Request ID: ${m}`),h){let A=`
Resources:`;for(const T of h){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);A+=`
- ${T}`}O+=A}return`${j}
${O}`}class Ct extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ed extends Ct{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function GL({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ct({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ct({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ct({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ct({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ct({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ct({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(u2(l)){if(o.rp.id!==l)return new Ct({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ct({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function FL({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ct({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ct({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(u2(r)){if(n.rpId!==r)return new Ct({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ct({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ct({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ct({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class VL{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YL=new VL;function WL(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=xo(e,["challenge","user","excludeCredentials"]),o=io(t).buffer,l=Object.assign(Object.assign({},n),{id:io(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const h=r[m];u.excludeCredentials[m]=Object.assign(Object.assign({},h),{id:io(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function XL(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=xo(e,["challenge","allowCredentials"]),i=io(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:io(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function JL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:zi(new Uint8Array(e.response.attestationObject)),clientDataJSON:zi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZL(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:zi(new Uint8Array(i.authenticatorData)),clientDataJSON:zi(new Uint8Array(i.clientDataJSON)),signature:zi(new Uint8Array(i.signature)),userHandle:i.userHandle?zi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function u2(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function dS(){var e,t;return!!(Un()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function QL(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ed("Browser returned unexpected credential type",t)}:{data:null,error:new Ed("Empty credential response",t)}}catch(t){return{data:null,error:GL({error:t,options:e})}}}async function e3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ed("Browser returned unexpected credential type",t)}:{data:null,error:new Ed("Empty credential response",t)}}catch(t){return{data:null,error:FL({error:t,options:e})}}}const t3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},n3={userVerification:"preferred",hints:["security-key"]};function Od(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=Od(u,l):r[o]=Od(l)}else r[o]=l}return r}function r3(e,t){return Od(t3,e,t||{})}function a3(e,t){return Od(n3,e,t||{})}class i3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const m=i??YL.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=r3(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:g,error:p}=await QL({publicKey:h,signal:m});return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:p}}case"request":{const h=a3(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:g,error:p}=await e3(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:m}));return g?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:g}},error:null}:{data:null,error:p}}}}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new $i("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new Yl("rpId is required for WebAuthn authentication")};try{if(!dS())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:m}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:m.type,rpId:n,rpOrigins:r,credential_response:m.credential_response}})}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new $i("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new Yl("rpId is required for WebAuthn registration")};try{if(!dS())return{data:null,error:new $i("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(g=>{var p;return(p=g.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:u};const{data:m,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return m?this._verify({factorId:l.id,challengeId:m.challengeId,webauthn:{rpId:n,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Ee(l)?{data:null,error:l}:{data:null,error:new $i("Unexpected error in register",l)}}}}zL();const s3={url:rL,storageKey:aL,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iL,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fS(e,t,n){return await n()}const Qs={};class Wl{get jwks(){var t,n;return(n=(t=Qs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Qs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qs[this.storageKey]=Object.assign(Object.assign({},Qs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wl.nextInstanceID,Wl.nextInstanceID+=1,this.instanceID>0&&Un()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},s3),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new BL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=o2(i.fetch),this.lock=i.lock||fS,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Un()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$L:this.lock=fS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new i3(this)},this.persistSession?(i.storage?this.storage=i.storage:s2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=uS(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=uS(this.memoryStorage)),Un()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${r2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=bL(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Un()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),dL(o)){const m=(t=o.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ee(n)?{error:n}:{error:new $i("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:_r}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const m=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:g,password:p,options:y}=t;let b=null,S=null;this.flowType==="pkce"&&([b,S]=await Xs(this.storage,this.storageKey)),o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:g,password:p,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:S},xform:_r})}else if("phone"in t){const{phone:g,password:p,options:y}=t;o=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:p,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:_r})}else throw new Qu("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const m=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(o){if(Ee(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:lS})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:lS})}else throw new Qu("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ws}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,m,h,g,p,y;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:_,wallet:j,statement:O,options:A}=t;let T;if(Un())if(typeof j=="object")T=j;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")T=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=j}const P=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href),N=await T.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=c2(N[0]);let k=(r=A==null?void 0:A.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const V=await T.request({method:"eth_chainId"});k=qL(V)}const z={domain:P.host,address:C,statement:O,uri:P.href,version:"1",chainId:k,nonce:(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(m=A==null?void 0:A.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(h=A==null?void 0:A.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(g=A==null?void 0:A.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=HL(z),S=await T.request({method:"personal_sign",params:[KL(b),C]})}try{const{data:_,error:j}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:S},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:_r});if(j)throw j;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Ws}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:j})}catch(_){if(Ee(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(t){var n,r,i,o,l,u,m,h,g,p,y,b;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:j,wallet:O,statement:A,options:T}=t;let P;if(Un())if(typeof O=="object")P=O;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))P=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=O}const N=new URL((n=T==null?void 0:T.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in P&&P.signIn){const C=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),A?{statement:A}:null));let k;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")k=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)k=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)S=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),_=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${N.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((p=(g=T==null?void 0:T.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||p===void 0)&&p.length?["Resources",...T.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const C=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=C}}try{const{data:j,error:O}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:zi(_)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:_r});if(O)throw O;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ws}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:O})}catch(j){if(Ee(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const n=await Ri(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_r});if(await Ya(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ws}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Ee(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_r}),{data:m,error:h}=u;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ws}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:h})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:m}=t;let h=null,g=null;this.flowType==="pkce"&&([h,g]=await Xs(this.storage,this.storageKey));const{error:p}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:g},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:m}=t,{data:h,error:g}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(l=m==null?void 0:m.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new Qu("You must provide either an email or phone number.")}catch(u){if(Ee(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:_r});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const m=l.session,h=l.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await Xs(this.storage,this.storageKey)),await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:ML})}catch(o){if(Ee(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Wa;const{error:i}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await Ne(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Qu("You must provide either an email or phone number and a type")}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ri(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ag:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Ri(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Cg()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,h,g)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,h,g))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Za}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wa}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Za})})}catch(n){if(Ee(n))return uL(n)&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Wa;const l=i.session;let u=null,m=null;this.flowType==="pkce"&&t.email!=null&&([u,m]=await Xs(this.storage,this.storageKey));const{data:h,error:g}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:m}),jwt:l.access_token,xform:Za});if(g)throw g;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ee(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wa;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=Tg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:m}=await this._getUser(t.access_token);if(m)throw m;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Wa;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Un())throw new ed("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ed(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new tS("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ed("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new tS("No code detected.");const{data:A,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:m,token_type:h}=t;if(!o||!u||!l||!h)throw new ed("No session defined in URL");const g=Math.round(Date.now()/1e3),p=parseInt(u);let y=g+p;m&&(y=parseInt(m));const b=y-g;b*1e3<=no&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const S=y-p;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,g);const{data:_,error:j}=await this._getUser(o);if(j)throw j;const O={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:y,refresh_token:l,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(r){if(Ee(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ri(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(cL(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=yL(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Xs(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ee(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,m,h,g;const{data:p,error:y}=o;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Un()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ee(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:m,access_token:h,nonce:g}=t,p=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:m,access_token:h,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_r}),{data:y,error:b}=p;return b?{data:{user:null,session:null},error:b}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ws}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:b})}catch(i){if(Ee(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await _L(async i=>(i>0&&await wL(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_r})),(i,o)=>{const l=200*Math.pow(2,i);return o&&Ng(o)&&Date.now()+l-r<no})}catch(r){if(this._debug(n,"error",r),Ee(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Un()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ri(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ri(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await ro(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Cg()}else if(i&&!i.user&&!i.user){const l=await Ri(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Ya(this.storage,this.storageKey+"-user"),await ro(this.storage,this.storageKey,i)):i.user=Cg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ag;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ag}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Ng(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yf;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Wa;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Ee(o)){const l={data:null,error:o};return Ng(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(m){o.push(m)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ro(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=sS(i);await ro(this.storage,this.storageKey,o)}else{const i=sS(n);await ro(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ya(this.storage,this.storageKey),await Ya(this.storage,this.storageKey+"-code-verifier"),await Ya(this.storage,this.storageKey+"-user"),this.userStorage&&await Ya(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Un()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),no);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/no);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${no}ms, refresh threshold is ${bv} ticks`),i<=bv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof l2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Un()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await Xs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:h}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&m.type==="totp"&&(!((i=m==null?void 0:m.totp)===null||i===void 0)&&i.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?JL(t.webauthn.credential_response):ZL(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:m}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:m})})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:WL(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:XL(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Tg(i.access_token);let u=null;l.aal&&(u=l.aal);let m=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+oL>i)return r;const{data:o,error:l}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:S}=await this.getSession();if(S||!b.session)return{data:null,error:S};r=b.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:m}}=Tg(r);n!=null&&n.allowExpired||TL(o.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:i,signature:l},error:null}}const g=CL(i.alg),p=await crypto.subtle.importKey("jwk",h,g,!0,["verify"]);if(!await crypto.subtle.verify(g,p,l,pL(`${u}.${m}`)))throw new _v("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Ee(r))return{data:null,error:r};throw r}}}Wl.nextInstanceID=0;const o3=Wl;class l3 extends o3{constructor(t){super(t)}}class c3{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=nL(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const m=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:YI,realtime:XI,auth:Object.assign(Object.assign({},WI),{storageKey:m}),global:VI},g=tL(r??{},h);this.storageKey=(i=g.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=g.global.headers)!==null&&o!==void 0?o:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=g.auth)!==null&&l!==void 0?l:{},this.headers,g.global.fetch),this.fetch=QI(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new rI(new URL("rest/v1",u).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new HI(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new VM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:m,debug:h},g,p){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l3({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:m,debug:h,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new xI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u3=(e,t,n)=>new c3(e,t,n);function d3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}d3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f3=void 0,h3=void 0;throw new Error("Missing Supabase environment variables");const mn=u3(f3,h3,{auth:{persistSession:!0,autoRefreshToken:!0}});var vt=(e=>(e.ARABICA="Arabica",e.ROBUSTA="Robusta",e.LIBERICA="Liberica",e.BLEND="Blend",e))(vt||{}),Ar=(e=>(e.PENDING="Pending",e.APPROVED="Approved",e.REJECTED="Rejected",e.COMPLETED="Completed",e))(Ar||{}),Xl=(e=>(e.ACCEPTED="Accepted",e.RETURNED="Returned",e))(Xl||{}),N0=(e=>(e.PAID="Paid",e.UNPAID="Unpaid",e.PARTIALLY_PAID="Partially Paid",e.REFUNDED="Refunded",e))(N0||{}),Sv=(e=>(e.UTILITIES="Utilities",e.SALARY="Salary",e.RENT="Rent",e.MARKETING="Marketing",e.MAINTENANCE="Maintenance",e.OTHER="Other",e))(Sv||{}),vn=(e=>(e.ADMIN="Admin",e.ROASTER="Roaster",e.QC="QC",e.SALES="Sales",e.USER="User",e))(vn||{}),Lt=(e=>(e.GREEN_BEAN="Green Bean",e.ROASTED_BEAN="Roasted Bean",e))(Lt||{}),ca=(e=>(e.LOW="Low",e.MEDIUM="Medium",e.HIGH="High",e))(ca||{}),sa=(e=>(e.TODO="To Do",e.IN_PROGRESS="In Progress",e.DONE="Done",e))(sa||{});const d2=w.createContext(void 0),m3=({children:e})=>{const[t,n]=w.useState(null),[r,i]=w.useState(null),[o,l]=w.useState(!0),u=async y=>{const{data:b,error:S}=await mn.from("users").select("*").eq("id",y).maybeSingle();return S?(console.error("Error fetching user profile:",S),null):b};w.useEffect(()=>{mn.auth.getSession().then(({data:{session:b}})=>{b!=null&&b.user&&(i(b.user),u(b.user.id).then(n)),l(!1)});const{data:{subscription:y}}=mn.auth.onAuthStateChange((b,S)=>{i((S==null?void 0:S.user)??null),S!=null&&S.user?u(S.user.id).then(n):n(null)});return()=>y.unsubscribe()},[]);const m=async(y,b)=>{try{const{data:S,error:_}=await mn.auth.signInWithPassword({email:y,password:b});if(_)return{success:!1,error:_.message};if(S.user){const j=await u(S.user.id);n(j)}return{success:!0}}catch(S){return{success:!1,error:S.message}}},h=async(y,b,S)=>{try{const{data:_}=await mn.from("users").select("username").eq("username",S).maybeSingle();if(_)return{success:!1,error:"Username already exists"};const{data:j,error:O}=await mn.auth.signUp({email:y,password:b});if(O)return{success:!1,error:O.message};if(j.user){const{error:A}=await mn.from("users").insert({id:j.user.id,username:S,role:vn.USER});if(A)return{success:!1,error:"Failed to create user profile"}}return{success:!0}}catch(_){return{success:!1,error:_.message}}},g=async()=>{await mn.auth.signOut(),n(null),i(null)},p=async y=>{try{if(y.password){const{error:b}=await mn.auth.updateUser({password:y.password});if(b)return{success:!1,error:b.message}}return{success:!0}}catch(b){return{success:!1,error:b.message}}};return d.jsx(d2.Provider,{value:{user:t,supabaseUser:r,loading:o,signIn:m,signUp:h,signOut:g,updateProfile:p},children:e})},f2=()=>{const e=w.useContext(d2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},g3=e=>{const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear().toString().slice(-2),i=`${n}${r}`,o=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${e}${i}-${o}`},ln=(e,t)=>({getAll:async()=>{const{data:n,error:r}=await mn.from(e).select("*").order("created_at",{ascending:!1});return r?(console.error(`Error fetching ${e}:`,r),[]):n},getById:async n=>{const{data:r,error:i}=await mn.from(e).select("*").eq("id",n).maybeSingle();return i?(console.error(`Error fetching ${e} by id:`,i),null):r},add:async n=>{const r=g3(t),i={...n,id:r},{data:o,error:l}=await mn.from(e).insert(i).select().single();return l?(console.error(`Error adding ${e}:`,l),null):o},update:async(n,r)=>{const{data:i,error:o}=await mn.from(e).update(r).eq("id",n).select().single();return o?(console.error(`Error updating ${e}:`,o),null):i},remove:async n=>{const{error:r}=await mn.from(e).delete().eq("id",n);return r?(console.error(`Error removing ${e}:`,r),!1):!0}}),p3={users:{...ln("users","US"),getByUsername:async e=>{const{data:t,error:n}=await mn.from("users").select("*").eq("username",e).maybeSingle();return n?(console.error("Error fetching user by username:",n),null):t}},suppliers:ln("suppliers","SP"),purchaseOrders:ln("purchase_orders","PO"),stock:ln("stock_items","ST"),sales:ln("sales_records","SL"),grades:ln("green_bean_grades","GR"),roasts:ln("roast_profiles","RT"),externalRoasts:ln("external_roast_logs","ER"),cuppings:ln("cupping_sessions","CP"),blends:ln("blends","BL"),warehouseLogs:ln("warehouse_logs","LG"),alertSettings:ln("alert_settings","AL"),packaging:ln("packaging","PK"),expenses:ln("expenses","EX"),todos:ln("todos","TD"),comments:ln("comments","CM")},v3=()=>({dataService:p3,isLoading:!1}),h2=w.createContext(void 0),hS=(e,t)=>{let n=e;for(const r in t)n=n.replace(new RegExp(`{{${r}}}`,"g"),String(t[r]));return n},y3=({children:e})=>{const[t,n]=w.useState(()=>{const l=localStorage.getItem("language");return l==="en"||l==="id"?l:"id"}),[r,i]=w.useState(null);w.useEffect(()=>{(async()=>{try{const[u,m]=await Promise.all([fetch("/locales/en.json"),fetch("/locales/id.json")]);if(!u.ok||!m.ok)throw new Error("Failed to fetch translation files");const h=await u.json(),g=await m.json();i({en:h,id:g})}catch(u){console.error("Failed to load translation files:",u)}})()},[]),w.useEffect(()=>{localStorage.setItem("language",t)},[t]);const o=w.useCallback((l,u)=>{if(!r)return l;const m=l.split(".");let h=r[t];for(const p of m)if(h=h==null?void 0:h[p],h===void 0){let y=r.en;for(const b of m)y=y==null?void 0:y[b];return typeof y=="string"?u?hS(y,u):y:l}return typeof h!="string"?l:u?hS(h,u):h},[t,r]);return r?d.jsx(h2.Provider,{value:{language:t,setLanguage:n,t:o},children:e}):null},Re=()=>{const e=w.useContext(h2);if(e===void 0)throw new Error("useTranslation must be used within a LanguageProvider");return e},b3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M10 21h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2Z"}),d.jsx("path",{d:"M12 2v4"}),d.jsx("path",{d:"M18 6h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3"}),d.jsx("path",{d:"M2 12h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H2v6Z"})]}),x3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),w3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"9"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"5"}),d.jsx("rect",{x:"14",y:"12",width:"7",height:"9"}),d.jsx("rect",{x:"3",y:"16",width:"7",height:"5"})]}),_3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1V21c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5V3h5.5l3.5 3.5V21c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5V6.5L15.5 2z"}),d.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]}),S3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),d.jsx("path",{d:"m9 12 2 2 4-4"})]}),j3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),E3=()=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M14.5 20.5 9.5 19l-2 2.5 2 2.5 5 1.5-2-2.5 2-2.5zM19.5 15.5l-5-1.5 2-2.5-2-2.5 5 1.5 2 2.5-2 2.5zM4 9A5 5 0 0 1 9 4h0a5 5 0 0 1 5 5v0a5 5 0 0 1-5 5h0a5 5 0 0 1-5-5Z"})}),O3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M3 9.5a2.5 2.5 0 0 1 5 0"}),d.jsx("path",{d:"M4 12a4 4 0 0 0 4 4h0a4 4 0 0 0 4-4v-3"}),d.jsx("path",{d:"M13 18.5a2.5 2.5 0 0 0 5 0"}),d.jsx("path",{d:"M14 16a4 4 0 0 1-4-4v-3"}),d.jsx("path",{d:"m14 11 3-3 3 3"}),d.jsx("path",{d:"M3 13h.01"}),d.jsx("path",{d:"M21 17h-8"}),d.jsx("path",{d:"M7 13h.01"})]}),A3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M8 2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8Zm7 0v2.95c0 .58-.47 1.05-1.05 1.05H9.05C8.47 6 8 5.53 8 4.95V2"}),d.jsx("path",{d:"M18 6h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3"})]}),N3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3-3-3s-3-1-3-3a7 7 0 0 0-7 7c0 2 1 3 3 3s3 1 3 3Z"}),d.jsx("path",{d:"M20.34 10.22a7 7 0 0 0-8.56-8.56"}),d.jsx("path",{d:"M3.66 13.78a7 7 0 0 0 8.56 8.56"})]}),T3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3 6.5l8-4.5a2 2 0 0 1 2 0l8 4.5a2 2 0 0 1 1 1.85Z"}),d.jsx("path",{d:"M22 22H2"}),d.jsx("path",{d:"M6 16v.01"}),d.jsx("path",{d:"M6 12v.01"}),d.jsx("rect",{width:"8",height:"12",x:"12",y:"10"})]}),C3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"8",cy:"21",r:"1"}),d.jsx("circle",{cx:"19",cy:"21",r:"1"}),d.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),D3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"}),d.jsx("path",{d:"M8 6h8"}),d.jsx("path",{d:"M8 10h8"}),d.jsx("path",{d:"M8 14h4"}),d.jsx("path",{d:"M8 18h4"})]}),P3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M21 8c0-2.2-1.8-4-4-4H7c-2.2 0-4 1.8-4 4v8c0 2.2 1.8 4 4 4h10c2.2 0 4-1.8 4-4Z"}),d.jsx("path",{d:"M7 16h10"}),d.jsx("path",{d:"M7 12h10"}),d.jsx("path",{d:"M12 12v8"})]}),k3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),R3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),M3=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),d.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),d.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),I3=e=>{switch(e){case"Dashboard":return d.jsx(w3,{});case"Purchase Orders":return d.jsx(_3,{});case"Grading Form":return d.jsx(S3,{});case"Suppliers":return d.jsx(j3,{});case"Roasting Form":return d.jsx(E3,{});case"External Roasting":return d.jsx(O3,{});case"Cupping Form":return d.jsx(A3,{});case"Blending Form":return d.jsx(N3,{});case"Warehouse":return d.jsx(T3,{});case"Sales":return d.jsx(C3,{});case"Kalkulator HPP":return d.jsx(D3,{});case"Financial Management":return d.jsx(P3,{});case"User Management":return d.jsx(k3,{});case"Tasks":return d.jsx(R3,{});case"Analytics":return d.jsx(M3,{});default:return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})}},L3=({viewName:e,currentView:t,onClick:n,children:r,text:i})=>{const o=t===e;return d.jsxs("li",{onClick:n,className:`flex items-center p-3 my-1 rounded-lg cursor-pointer transition-all duration-200 ${o?"bg-brand-brown-500 text-white shadow-md":"text-brand-brown-100 hover:bg-brand-brown-700 hover:text-white"}`,children:[r,d.jsx("span",{className:"ml-3 font-medium",children:i})]})},B3=({currentView:e,setCurrentView:t,isOpen:n,setOpen:r,currentUser:i})=>{const{t:o}=Re(),l=w.useMemo(()=>{if(!i)return[];const m=["Dashboard","Analytics","Purchase Orders","Grading Form","Suppliers","Roasting Form","External Roasting","Cupping Form","Blending Form","Warehouse","Sales","Tasks","Kalkulator HPP","Financial Management","User Management"];return{[vn.ADMIN]:m,[vn.ROASTER]:["Dashboard","Analytics","Roasting Form","External Roasting","Blending Form","Warehouse","Cupping Form","Tasks"],[vn.QC]:["Dashboard","Analytics","Grading Form","Cupping Form","Warehouse","Tasks"],[vn.SALES]:["Dashboard","Analytics","Sales","Warehouse","Tasks"],[vn.USER]:["Dashboard","Analytics","Warehouse","Tasks"]}[i.role]||[]},[i]),u=m=>{t(m),r(!1)};return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),d.jsxs("aside",{className:`absolute lg:relative z-40 w-64 h-full bg-brand-brown-800 text-white flex flex-col transition-transform transform ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-brand-brown-700",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(b3,{}),d.jsx("h1",{className:"ml-2 text-xl font-bold",children:"Coffee ERP"})]}),d.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-1 text-white",children:d.jsx(x3,{})})]}),d.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:d.jsx("ul",{children:l.map(m=>d.jsx(L3,{viewName:m,currentView:e,onClick:()=>u(m),text:o(`sidebar.${m}`,{}),children:I3(m)},m))})}),d.jsx("div",{className:"p-4 border-t border-brand-brown-700",children:d.jsx("p",{className:"text-xs text-brand-brown-300",children:" 2024 Coffee ERP Pro"})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var mS;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(mS||(mS={}));var gS;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(gS||(gS={}));var pS;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(pS||(pS={}));var vS;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(vS||(vS={}));var yS;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(yS||(yS={}));var bS;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(bS||(bS={}));var xS;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(xS||(xS={}));var wS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(wS||(wS={}));var _S;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(_S||(_S={}));var SS;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(SS||(SS={}));var jS;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(jS||(jS={}));var ES;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(ES||(ES={}));var OS;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(OS||(OS={}));var AS;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(AS||(AS={}));var NS;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(NS||(NS={}));var TS;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(TS||(TS={}));var CS;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(CS||(CS={}));var DS;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(DS||(DS={}));var PS;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(PS||(PS={}));var kS;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(kS||(kS={}));var RS;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(RS||(RS={}));var MS;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(MS||(MS={}));var IS;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(IS||(IS={}));var LS;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(LS||(LS={}));var BS;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(BS||(BS={}));var US;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(US||(US={}));var $S;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})($S||($S={}));var zS;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(zS||(zS={}));var qS;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(qS||(qS={}));var KS;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(KS||(KS={}));var HS;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(HS||(HS={}));var GS;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(GS||(GS={}));var FS;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(FS||(FS={}));var VS;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(VS||(VS={}));var YS;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(YS||(YS={}));var WS;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(WS||(WS={}));var XS;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(XS||(XS={}));var JS;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(JS||(JS={}));var ZS;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(ZS||(ZS={}));var QS;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(QS||(QS={}));var ej;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ej||(ej={}));var tj;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(tj||(tj={}));var nj;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(nj||(nj={}));var rj;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(rj||(rj={}));var aj;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(aj||(aj={}));var ij;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ij||(ij={}));var sj;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sj||(sj={}));var oj;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(oj||(oj={}));var lj;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(lj||(lj={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var cj;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(cj||(cj={}));console.warn("VITE_GEMINI_API_KEY not set. AI analytics features will be disabled.");const U3=async(e,t,n)=>Promise.resolve("AI Analytics is disabled. Please configure VITE_GEMINI_API_KEY in your environment variables to enable AI-powered insights."),Mt=({title:e,value:t,icon:n,change:r,changeType:i,className:o=""})=>{const l=i==="positive"?"text-brand-green-700":i==="negative"?"text-red-600":"text-gray-600";return d.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-lg flex items-center space-x-4 transition-transform hover:scale-105 ${o}`,children:[d.jsx("div",{className:"p-3 bg-brand-brown-100 rounded-full",children:n}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-semibold text-brand-brown-700",children:e}),d.jsx("p",{className:"text-2xl font-bold text-brand-brown-900",children:t}),r&&d.jsx("p",{className:`text-xs mt-1 flex items-center font-medium ${l}`,children:r})]})]})};function m2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=m2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=m2(e))&&(r&&(r+=" "),r+=t);return r}var $3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function T0(e){if(typeof e!="string")return!1;var t=$3;return t.includes(e)}var z3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function g2(e){if(typeof e!="string")return!1;var t=z3;return t.includes(e)}function p2(e){return typeof e=="string"&&e.startsWith("data-")}function Yn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return g2(r)||p2(r)});return Object.fromEntries(t)}function Zi(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Yn(t)}return typeof e=="object"&&!Array.isArray(e)?Yn(e):null}function bn(e){var t=Object.entries(e).filter(n=>{var[r]=n;return g2(r)||p2(r)||T0(r)});return Object.fromEntries(t)}function q3(e){return e==null?null:w.isValidElement(e)?bn(e.props):typeof e=="object"&&!Array.isArray(e)?bn(e):null}var K3=["children","width","height","viewBox","className","style","title","desc"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(null,arguments)}function H3(e,t){if(e==null)return{};var n,r,i=G3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function G3(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var C0=w.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:m,desc:h}=e,g=H3(e,K3),p=o||{width:r,height:i,x:0,y:0},y=qe("recharts-surface",l);return w.createElement("svg",jv({},bn(g),{className:y,width:r,height:i,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),w.createElement("title",null,m),w.createElement("desc",null,h),n)}),F3=["children","className"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(null,arguments)}function V3(e,t){if(e==null)return{};var n,r,i=Y3(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y3(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nn=w.forwardRef((e,t)=>{var{children:n,className:r}=e,i=V3(e,F3),o=qe("recharts-layer",r);return w.createElement("g",Ev({className:o},bn(i),{ref:t}),n)}),v2=yN(),y2=w.createContext(null),W3=()=>w.useContext(y2);function it(e){return function(){return e}}const b2=Math.cos,Ad=Math.sin,Tr=Math.sqrt,Nd=Math.PI,bf=2*Nd,Ov=Math.PI,Av=2*Ov,Ii=1e-6,X3=Av-Ii;function x2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function J3(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return x2;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Z3{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?x2:J3(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,m=r-t,h=i-n,g=l-t,p=u-n,y=g*g+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Ii)if(!(Math.abs(p*m-h*g)>Ii)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-l,S=i-u,_=m*m+h*h,j=b*b+S*S,O=Math.sqrt(_),A=Math.sqrt(y),T=o*Math.tan((Ov-Math.acos((_+y-j)/(2*O*A)))/2),P=T/A,N=T/O;Math.abs(P-1)>Ii&&this._append`L${t+P*g},${n+P*p}`,this._append`A${o},${o},0,0,${+(p*b>g*S)},${this._x1=t+N*m},${this._y1=n+N*h}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),m=r*Math.sin(i),h=t+u,g=n+m,p=1^l,y=l?i-o:o-i;this._x1===null?this._append`M${h},${g}`:(Math.abs(this._x1-h)>Ii||Math.abs(this._y1-g)>Ii)&&this._append`L${h},${g}`,r&&(y<0&&(y=y%Av+Av),y>X3?this._append`A${r},${r},0,1,${p},${t-u},${n-m}A${r},${r},0,1,${p},${this._x1=h},${this._y1=g}`:y>Ii&&this._append`A${r},${r},0,${+(y>=Ov)},${p},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function D0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Z3(t)}function P0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function w2(e){this._context=e}w2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function xf(e){return new w2(e)}function _2(e){return e[0]}function S2(e){return e[1]}function j2(e,t){var n=it(!0),r=null,i=xf,o=null,l=D0(u);e=typeof e=="function"?e:e===void 0?_2:it(e),t=typeof t=="function"?t:t===void 0?S2:it(t);function u(m){var h,g=(m=P0(m)).length,p,y=!1,b;for(r==null&&(o=i(b=l())),h=0;h<=g;++h)!(h<g&&n(p=m[h],h,m))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(p,h,m),+t(p,h,m));if(b)return o=null,b+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:it(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:it(+m),u):t},u.defined=function(m){return arguments.length?(n=typeof m=="function"?m:it(!!m),u):n},u.curve=function(m){return arguments.length?(i=m,r!=null&&(o=i(r)),u):i},u.context=function(m){return arguments.length?(m==null?r=o=null:o=i(r=m),u):r},u}function td(e,t,n){var r=null,i=it(!0),o=null,l=xf,u=null,m=D0(h);e=typeof e=="function"?e:e===void 0?_2:it(+e),t=typeof t=="function"?t:it(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?S2:it(+n);function h(p){var y,b,S,_=(p=P0(p)).length,j,O=!1,A,T=new Array(_),P=new Array(_);for(o==null&&(u=l(A=m())),y=0;y<=_;++y){if(!(y<_&&i(j=p[y],y,p))===O)if(O=!O)b=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=y-1;S>=b;--S)u.point(T[S],P[S]);u.lineEnd(),u.areaEnd()}O&&(T[y]=+e(j,y,p),P[y]=+t(j,y,p),u.point(r?+r(j,y,p):T[y],n?+n(j,y,p):P[y]))}if(A)return u=null,A+""||null}function g(){return j2().defined(i).curve(l).context(o)}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:it(+p),r=null,h):e},h.x0=function(p){return arguments.length?(e=typeof p=="function"?p:it(+p),h):e},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:it(+p),h):r},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:it(+p),n=null,h):t},h.y0=function(p){return arguments.length?(t=typeof p=="function"?p:it(+p),h):t},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:it(+p),h):n},h.lineX0=h.lineY0=function(){return g().x(e).y(t)},h.lineY1=function(){return g().x(e).y(n)},h.lineX1=function(){return g().x(r).y(t)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:it(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,o!=null&&(u=l(o)),h):l},h.context=function(p){return arguments.length?(p==null?o=u=null:u=l(o=p),h):o},h}class E2{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Q3(e){return new E2(e,!0)}function e4(e){return new E2(e,!1)}const k0={draw(e,t){const n=Tr(t/Nd);e.moveTo(n,0),e.arc(0,0,n,0,bf)}},t4={draw(e,t){const n=Tr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},O2=Tr(1/3),n4=O2*2,r4={draw(e,t){const n=Tr(t/n4),r=n*O2;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},a4={draw(e,t){const n=Tr(t),r=-n/2;e.rect(r,r,n,n)}},i4=.8908130915292852,A2=Ad(Nd/10)/Ad(7*Nd/10),s4=Ad(bf/10)*A2,o4=-b2(bf/10)*A2,l4={draw(e,t){const n=Tr(t*i4),r=s4*n,i=o4*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=bf*o/5,u=b2(l),m=Ad(l);e.lineTo(m*n,-u*n),e.lineTo(u*r-m*i,m*r+u*i)}e.closePath()}},Pg=Tr(3),c4={draw(e,t){const n=-Tr(t/(Pg*3));e.moveTo(0,n*2),e.lineTo(-Pg*n,-n),e.lineTo(Pg*n,-n),e.closePath()}},or=-.5,lr=Tr(3)/2,Nv=1/Tr(12),u4=(Nv/2+1)*3,d4={draw(e,t){const n=Tr(t/u4),r=n/2,i=n*Nv,o=r,l=n*Nv+n,u=-o,m=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,m),e.lineTo(or*r-lr*i,lr*r+or*i),e.lineTo(or*o-lr*l,lr*o+or*l),e.lineTo(or*u-lr*m,lr*u+or*m),e.lineTo(or*r+lr*i,or*i-lr*r),e.lineTo(or*o+lr*l,or*l-lr*o),e.lineTo(or*u+lr*m,or*m-lr*u),e.closePath()}};function f4(e,t){let n=null,r=D0(i);e=typeof e=="function"?e:it(e||k0),t=typeof t=="function"?t:it(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:it(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:it(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Td(){}function Cd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function N2(e){this._context=e}N2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h4(e){return new N2(e)}function T2(e){this._context=e}T2.prototype={areaStart:Td,areaEnd:Td,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function m4(e){return new T2(e)}function C2(e){this._context=e}C2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function g4(e){return new C2(e)}function D2(e){this._context=e}D2.prototype={areaStart:Td,areaEnd:Td,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function p4(e){return new D2(e)}function uj(e){return e<0?-1:1}function dj(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(uj(o)+uj(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function fj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function kg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function Dd(e){this._context=e}Dd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kg(this,this._t0,fj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kg(this,fj(this,n=dj(this,e,t)),n);break;default:kg(this,this._t0,n=dj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function P2(e){this._context=new k2(e)}(P2.prototype=Object.create(Dd.prototype)).point=function(e,t){Dd.prototype.point.call(this,t,e)};function k2(e){this._context=e}k2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function v4(e){return new Dd(e)}function y4(e){return new P2(e)}function R2(e){this._context=e}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hj(e),i=hj(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hj(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function b4(e){return new R2(e)}function wf(e,t){this._context=e,this._t=t}wf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function x4(e){return new wf(e,.5)}function w4(e){return new wf(e,0)}function _4(e){return new wf(e,1)}function uo(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Tv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function S4(e,t){return e[t]}function j4(e){const t=[];return t.key=e,t}function E4(){var e=it([]),t=Tv,n=uo,r=S4;function i(o){var l=Array.from(e.apply(this,arguments),j4),u,m=l.length,h=-1,g;for(const p of o)for(u=0,++h;u<m;++u)(l[u][h]=[0,+r(p,l[u].key,h,o)]).data=p;for(u=0,g=P0(t(l));u<m;++u)l[g[u]].index=u;return n(l,g),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:it(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:it(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?Tv:typeof o=="function"?o:it(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??uo,i):n},i}function O4(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}uo(e,t)}}function A4(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}uo(e,t)}}function N4(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,m=0,h=0;u<l;++u){for(var g=e[t[u]],p=g[r][1]||0,y=g[r-1][1]||0,b=(p-y)/2,S=0;S<u;++S){var _=e[t[S]],j=_[r][1]||0,O=_[r-1][1]||0;b+=j-O}m+=p,h+=b*p}i[r-1][1]+=i[r-1][0]=n,m&&(n-=h/m)}i[r-1][1]+=i[r-1][0]=n,uo(e,t)}}var Rg={},Mg={},mj;function T4(){return mj||(mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Mg)),Mg}var Ig={},gj;function M2(){return gj||(gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Ig)),Ig}var Lg={},pj;function R0(){return pj||(pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Lg)),Lg}var Bg={},Ug={},vj;function C4(){return vj||(vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Ug)),Ug}var yj;function M0(){return yj||(yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4(),n=R0();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,m="",h="",g=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const p=i[u];h?p==="\\"&&u+1<l?(u++,m+=i[u]):p===h?h="":m+=p:g?p==='"'||p==="'"?h=p:p==="]"?(g=!1,o.push(m),m=""):m+=p:p==="["?(g=!0,m&&(o.push(m),m="")):p==="."?m&&(o.push(m),m=""):m+=p,u++}return m&&o.push(m),o}e.toPath=r})(Bg)),Bg}var bj;function I0(){return bj||(bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T4(),n=M2(),r=R0(),i=M0();function o(u,m,h){if(u==null)return h;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return h;const g=u[m];return g===void 0?n.isDeepKey(m)?o(u,i.toPath(m),h):h:g}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const g=u[m];return g===void 0?h:g}default:{if(Array.isArray(m))return l(u,m,h);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return h;const g=u[m];return g===void 0?h:g}}}function l(u,m,h){if(m.length===0)return h;let g=u;for(let p=0;p<m.length;p++){if(g==null||t.isUnsafeProperty(m[p]))return h;g=g[m[p]]}return g===void 0?h:g}e.get=o})(Rg)),Rg}var $g,xj;function D4(){return xj||(xj=1,$g=I0().get),$g}var P4=D4();const Qi=Nr(P4);var Ft=e=>e===0?0:e>0?1:-1,mr=e=>typeof e=="number"&&e!=+e,fa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!mr(e),Lr=e=>_e(e)||typeof e=="string",k4=0,Jl=e=>{var t=++k4;return"".concat(e||"").concat(t)},dn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return r;var o;if(fa(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return mr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},I2=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function _t(e,t,n){return _e(e)&&_e(t)?e+n*(t-e):t}function L2(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Qi(r,t))===n)}var ht=e=>e===null||typeof e>"u",uc=e=>ht(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),R4=["type","size","sizeType"];function Cv(){return Cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cv.apply(null,arguments)}function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(n),!0).forEach(function(r){M4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M4(e,t,n){return(t=I4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I4(e){var t=L4(e,"string");return typeof t=="symbol"?t:t+""}function L4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B4(e,t){if(e==null)return{};var n,r,i=U4(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var B2={symbolCircle:k0,symbolCross:t4,symbolDiamond:r4,symbolSquare:a4,symbolStar:l4,symbolTriangle:c4,symbolWye:d4},$4=Math.PI/180,z4=e=>{var t="symbol".concat(uc(e));return B2[t]||k0},q4=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*$4;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},K4=(e,t)=>{B2["symbol".concat(uc(e))]=t},L0=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=B4(e,R4),o=_j(_j({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var y=z4(l),b=f4().type(y).size(q4(n,r,l)),S=b();if(S!==null)return S},{className:m,cx:h,cy:g}=o,p=bn(o);return h===+h&&g===+g&&n===+n?w.createElement("path",Cv({},p,{className:qe("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(g,")"),d:u()})):null};L0.registerSymbol=K4;var B0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{T0(i)&&(r[i]=(o=>n[i](n,o)))}),r},H4=(e,t,n)=>r=>(e(t,n,r),null),dc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];T0(i)&&typeof o=="function"&&(r||(r={}),r[i]=H4(o,t,n))}),r};function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(null,arguments)}function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(r){U0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U0(e,t,n){return(t=F4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F4(e){var t=V4(e,"string");return typeof t=="symbol"?t:t+""}function V4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cr=32;class $0 extends w.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=cr/2,o=cr/6,l=cr/3,u=t.inactive?r:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return w.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:cr,y2:i,className:"recharts-legend-icon"});if(m==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(cr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(m==="rect")return w.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var h=G4({},t);return delete h.legendIcon,w.cloneElement(t.legendIcon,h)}return w.createElement(L0,{fill:u,cx:i,cy:i,size:cr,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=this.props,u={x:0,y:0,width:cr,height:cr},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,p)=>{var y=g.formatter||i,b=qe({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:g.inactive});if(g.type==="none")return null;var S=g.inactive?o:g.color,_=y?y(g.value,g,p):g.value;return w.createElement("li",Dv({className:b,style:m,key:"legend-item-".concat(p)},dc(this.props,g,p)),w.createElement(C0,{width:n,height:n,viewBox:u,style:h,"aria-label":"".concat(_," legend icon")},this.renderIcon(g,l)),w.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},_))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}U0($0,"displayName","Legend");U0($0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var zg={},qg={},jj;function Y4(){return jj||(jj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(qg)),qg}var Kg={},Ej;function U2(){return Ej||(Ej=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Kg)),Kg}var Hg={},Gg={},Fg={},Oj;function W4(){return Oj||(Oj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Fg)),Fg}var Aj;function z0(){return Aj||(Aj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W4();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Gg)),Gg}var Vg={},Nj;function X4(){return Nj||(Nj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Vg)),Vg}var Tj;function J4(){return Tj||(Tj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z0(),n=X4();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Hg)),Hg}var Yg={},Wg={},Cj;function Z4(){return Cj||(Cj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I0();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Wg)),Wg}var Xg={},Jg={},Zg={},Qg={},Dj;function $2(){return Dj||(Dj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Qg)),Qg}var ep={},Pj;function z2(){return Pj||(Pj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(ep)),ep}var tp={},kj;function q2(){return kj||(kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(tp)),tp}var Rj;function Q4(){return Rj||(Rj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$2(),n=z2(),r=q2();function i(g,p,y){return typeof y!="function"?i(g,p,()=>{}):o(g,p,function b(S,_,j,O,A,T){const P=y(S,_,j,O,A,T);return P!==void 0?!!P:o(S,_,b,T)},new Map)}function o(g,p,y,b){if(p===g)return!0;switch(typeof p){case"object":return l(g,p,y,b);case"function":return Object.keys(p).length>0?o(g,{...p},y,b):r.eq(g,p);default:return t.isObject(g)?typeof p=="string"?p==="":!0:r.eq(g,p)}}function l(g,p,y,b){if(p==null)return!0;if(Array.isArray(p))return m(g,p,y,b);if(p instanceof Map)return u(g,p,y,b);if(p instanceof Set)return h(g,p,y,b);const S=Object.keys(p);if(g==null)return S.length===0;if(S.length===0)return!0;if(b!=null&&b.has(p))return b.get(p)===g;b==null||b.set(p,g);try{for(let _=0;_<S.length;_++){const j=S[_];if(!n.isPrimitive(g)&&!(j in g)||p[j]===void 0&&g[j]!==void 0||p[j]===null&&g[j]!==null||!y(g[j],p[j],j,g,p,b))return!1}return!0}finally{b==null||b.delete(p)}}function u(g,p,y,b){if(p.size===0)return!0;if(!(g instanceof Map))return!1;for(const[S,_]of p.entries()){const j=g.get(S);if(y(j,_,S,g,p,b)===!1)return!1}return!0}function m(g,p,y,b){if(p.length===0)return!0;if(!Array.isArray(g))return!1;const S=new Set;for(let _=0;_<p.length;_++){const j=p[_];let O=!1;for(let A=0;A<g.length;A++){if(S.has(A))continue;const T=g[A];let P=!1;if(y(T,j,_,g,p,b)&&(P=!0),P){S.add(A),O=!0;break}}if(!O)return!1}return!0}function h(g,p,y,b){return p.size===0?!0:g instanceof Set?m([...g],[...p],y,b):!1}e.isMatchWith=i,e.isSetMatch=h})(Zg)),Zg}var Mj;function K2(){return Mj||(Mj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q4();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Jg)),Jg}var np={},rp={},ap={},Ij;function eB(){return Ij||(Ij=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(ap)),ap}var ip={},Lj;function H2(){return Lj||(Lj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ip)),ip}var sp={},Bj;function G2(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",m="[object Map]",h="[object Set]",g="[object Array]",p="[object Function]",y="[object ArrayBuffer]",b="[object Object]",S="[object Error]",_="[object DataView]",j="[object Uint8Array]",O="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",P="[object BigUint64Array]",N="[object Int8Array]",C="[object Int16Array]",k="[object Int32Array]",z="[object BigInt64Array]",V="[object Float32Array]",ie="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=g,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=P,e.booleanTag=i,e.dataViewTag=_,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=V,e.float64ArrayTag=ie,e.functionTag=p,e.int16ArrayTag=C,e.int32ArrayTag=k,e.int8ArrayTag=N,e.mapTag=m,e.numberTag=r,e.objectTag=b,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=T,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=O})(sp)),sp}var op={},Uj;function tB(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(op)),op}var $j;function F2(){return $j||($j=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eB(),n=H2(),r=G2(),i=z2(),o=tB();function l(g,p){return u(g,void 0,g,new Map,p)}function u(g,p,y,b=new Map,S=void 0){const _=S==null?void 0:S(g,p,y,b);if(_!==void 0)return _;if(i.isPrimitive(g))return g;if(b.has(g))return b.get(g);if(Array.isArray(g)){const j=new Array(g.length);b.set(g,j);for(let O=0;O<g.length;O++)j[O]=u(g[O],O,y,b,S);return Object.hasOwn(g,"index")&&(j.index=g.index),Object.hasOwn(g,"input")&&(j.input=g.input),j}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const j=new RegExp(g.source,g.flags);return j.lastIndex=g.lastIndex,j}if(g instanceof Map){const j=new Map;b.set(g,j);for(const[O,A]of g)j.set(O,u(A,O,y,b,S));return j}if(g instanceof Set){const j=new Set;b.set(g,j);for(const O of g)j.add(u(O,void 0,y,b,S));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const j=new(Object.getPrototypeOf(g)).constructor(g.length);b.set(g,j);for(let O=0;O<g.length;O++)j[O]=u(g[O],O,y,b,S);return j}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const j=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return b.set(g,j),m(j,g,y,b,S),j}if(typeof File<"u"&&g instanceof File){const j=new File([g],g.name,{type:g.type});return b.set(g,j),m(j,g,y,b,S),j}if(typeof Blob<"u"&&g instanceof Blob){const j=new Blob([g],{type:g.type});return b.set(g,j),m(j,g,y,b,S),j}if(g instanceof Error){const j=new g.constructor;return b.set(g,j),j.message=g.message,j.name=g.name,j.stack=g.stack,j.cause=g.cause,m(j,g,y,b,S),j}if(g instanceof Boolean){const j=new Boolean(g.valueOf());return b.set(g,j),m(j,g,y,b,S),j}if(g instanceof Number){const j=new Number(g.valueOf());return b.set(g,j),m(j,g,y,b,S),j}if(g instanceof String){const j=new String(g.valueOf());return b.set(g,j),m(j,g,y,b,S),j}if(typeof g=="object"&&h(g)){const j=Object.create(Object.getPrototypeOf(g));return b.set(g,j),m(j,g,y,b,S),j}return g}function m(g,p,y=g,b,S){const _=[...Object.keys(p),...t.getSymbols(p)];for(let j=0;j<_.length;j++){const O=_[j],A=Object.getOwnPropertyDescriptor(g,O);(A==null||A.writable)&&(g[O]=u(p[O],O,y,b,S))}}function h(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=m})(rp)),rp}var zj;function nB(){return zj||(zj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F2();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(np)),np}var qj;function rB(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K2(),n=nB();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(Xg)),Xg}var lp={},cp={},up={},Kj;function aB(){return Kj||(Kj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F2(),n=G2();function r(i,o){return t.cloneDeepWith(i,(l,u,m,h)=>{const g=o==null?void 0:o(l,u,m,h);if(g!==void 0)return g;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case n.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}e.cloneDeepWith=r})(up)),up}var Hj;function iB(){return Hj||(Hj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aB();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(cp)),cp}var dp={},fp={},Gj;function V2(){return Gj||(Gj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(fp)),fp}var hp={},Fj;function sB(){return Fj||(Fj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(hp)),hp}var Vj;function oB(){return Vj||(Vj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M2(),n=V2(),r=sB(),i=M0();function o(l,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?m=i.toPath(u):m=[u],m.length===0)return!1;let h=l;for(let g=0;g<m.length;g++){const p=m[g];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}e.has=o})(dp)),dp}var Yj;function lB(){return Yj||(Yj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K2(),n=R0(),r=iB(),i=I0(),o=oB();function l(u,m){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return m=r.cloneDeep(m),function(h){const g=i.get(h,u);return g===void 0?o.has(h,u):m===void 0?g===void 0:t.isMatch(g,m)}}e.matchesProperty=l})(lp)),lp}var Wj;function cB(){return Wj||(Wj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U2(),n=Z4(),r=rB(),i=lB();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Yg)),Yg}var Xj;function uB(){return Xj||(Xj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y4(),n=U2(),r=J4(),i=cB();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(zg)),zg}var mp,Jj;function dB(){return Jj||(Jj=1,mp=uB().uniqBy),mp}var fB=dB();const Zj=Nr(fB);function Y2(e,t,n){return t===!0?Zj(e,n):typeof t=="function"?Zj(e,t):e}var gp={exports:{}},pp={},vp={exports:{}},yp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj;function hB(){if(Qj)return yp;Qj=1;var e=bo();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(p,y){var b=y(),S=r({inst:{value:b,getSnapshot:y}}),_=S[0].inst,j=S[1];return o(function(){_.value=b,_.getSnapshot=y,m(_)&&j({inst:_})},[p,b,y]),i(function(){return m(_)&&j({inst:_}),p(function(){m(_)&&j({inst:_})})},[p]),l(b),b}function m(p){var y=p.getSnapshot;p=p.value;try{var b=y();return!n(p,b)}catch{return!0}}function h(p,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return yp.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,yp}var eE;function mB(){return eE||(eE=1,vp.exports=hB()),vp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function gB(){if(tE)return pp;tE=1;var e=bo(),t=mB();function n(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,m=e.useDebugValue;return pp.useSyncExternalStoreWithSelector=function(h,g,p,y,b){var S=o(null);if(S.current===null){var _={hasValue:!1,value:null};S.current=_}else _=S.current;S=u(function(){function O(C){if(!A){if(A=!0,T=C,C=y(C),b!==void 0&&_.hasValue){var k=_.value;if(b(k,C))return P=k}return P=C}if(k=P,r(T,C))return k;var z=y(C);return b!==void 0&&b(k,z)?(T=C,k):(T=C,P=z)}var A=!1,T,P,N=p===void 0?null:p;return[function(){return O(g())},N===null?void 0:function(){return O(N())}]},[g,p,y,b]);var j=i(h,S[0],S[1]);return l(function(){_.hasValue=!0,_.value=j},[j]),m(j),j},pp}var nE;function pB(){return nE||(nE=1,gp.exports=gB()),gp.exports}var vB=pB(),q0=w.createContext(null),yB=e=>e,mt=()=>{var e=w.useContext(q0);return e?e.store.dispatch:yB},yd=()=>{},bB=()=>yd,xB=(e,t)=>e===t;function ge(e){var t=w.useContext(q0);return vB.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:bB,t?t.store.getState:yd,t?t.store.getState:yd,t?e:yd,xB)}function wB(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function _B(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function SB(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var rE=e=>Array.isArray(e)?e:[e];function jB(e){const t=Array.isArray(e[0])?e[0]:e;return SB(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function EB(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var OB=class{constructor(e){this.value=e}deref(){return this.value}},AB=typeof WeakRef<"u"?WeakRef:OB,NB=0,aE=1;function nd(){return{s:NB,v:void 0,o:null,p:null}}function W2(e,t={}){let n=nd();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var p;let u=n;const{length:m}=arguments;for(let y=0,b=m;y<b;y++){const S=arguments[y];if(typeof S=="function"||typeof S=="object"&&S!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const j=_.get(S);j===void 0?(u=nd(),_.set(S,u)):u=j}else{let _=u.p;_===null&&(u.p=_=new Map);const j=_.get(S);j===void 0?(u=nd(),_.set(S,u)):u=j}}const h=u;let g;if(u.s===aE)g=u.v;else if(g=e.apply(null,arguments),o++,r){const y=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;y!=null&&r(y,g)&&(g=y,o!==0&&o--),i=typeof g=="object"&&g!==null||typeof g=="function"?new AB(g):g}return h.s=aE,h.v=g,g}return l.clearCache=()=>{n=nd(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function TB(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,m={},h=i.pop();typeof h=="object"&&(m=h,h=i.pop()),wB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const g={...n,...m},{memoize:p,memoizeOptions:y=[],argsMemoize:b=W2,argsMemoizeOptions:S=[]}=g,_=rE(y),j=rE(S),O=jB(i),A=p(function(){return o++,h.apply(null,arguments)},..._),T=b(function(){l++;const N=EB(O,arguments);return u=A.apply(null,N),u},...j);return Object.assign(T,{resultFunc:h,memoizedResultFunc:A,dependencies:O,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:p,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var F=TB(W2),CB=Object.assign((e,t=F)=>{_B(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,m)=>(l[n[m]]=u,l),{}))},{withTypes:()=>CB}),bp={},xp={},wp={},iE;function DB(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(wp)),wp}var _p={},Sp={},sE;function X2(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Sp)),Sp}var oE;function PB(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X2(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(_p)),_p}var lE;function kB(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DB(),n=PB(),r=M0();function i(o,l,u,m){if(o==null)return[];u=m?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const h=(b,S)=>{let _=b;for(let j=0;j<S.length&&_!=null;++j)_=_[S[j]];return _},g=(b,S)=>S==null||b==null?S:typeof b=="object"&&"key"in b?Object.hasOwn(S,b.key)?S[b.key]:h(S,b.path):typeof b=="function"?b(S):Array.isArray(b)?h(S,b):typeof S=="object"?S[b]:S,p=l.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return o.map(b=>({original:b,criteria:p.map(S=>g(S,b))})).slice().sort((b,S)=>{for(let _=0;_<p.length;_++){const j=t.compareValues(b.criteria[_],S.criteria[_],u[_]);if(j!==0)return j}return 0}).map(b=>b.original)}e.orderBy=i})(xp)),xp}var jp={},cE;function RB(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,m)=>{for(let h=0;h<u.length;h++){const g=u[h];Array.isArray(g)&&m<o?l(g,m+1):i.push(g)}};return l(n,0),i}e.flatten=t})(jp)),jp}var Ep={},uE;function J2(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V2(),n=z0(),r=$2(),i=q2();function o(l,u,m){return r.isObject(m)&&(typeof u=="number"&&n.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?i.eq(m[u],l):!1}e.isIterateeCall=o})(Ep)),Ep}var dE;function MB(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kB(),n=RB(),r=J2();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(bp)),bp}var Op,fE;function IB(){return fE||(fE=1,Op=MB().sortBy),Op}var LB=IB();const _f=Nr(LB);var Z2=e=>e.legend.settings,BB=e=>e.legend.size,UB=e=>e.legend.payload,$B=F([UB,Z2],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?_f(r,n):r});function zB(){return ge($B)}var rd=1;function Q2(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=w.useState({height:0,left:0,top:0,width:0}),r=w.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>rd||Math.abs(l.left-t.left)>rd||Math.abs(l.top-t.top)>rd||Math.abs(l.width-t.width)>rd)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function en(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var qB=typeof Symbol=="function"&&Symbol.observable||"@@observable",hE=qB,Ap=()=>Math.random().toString(36).substring(7).split("").join("."),KB={INIT:`@@redux/INIT${Ap()}`,REPLACE:`@@redux/REPLACE${Ap()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ap()}`},Pd=KB;function K0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function eT(e,t,n){if(typeof e!="function")throw new Error(en(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(en(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(en(1));return n(eT)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,m=!1;function h(){l===o&&(l=new Map,o.forEach((j,O)=>{l.set(O,j)}))}function g(){if(m)throw new Error(en(3));return i}function p(j){if(typeof j!="function")throw new Error(en(4));if(m)throw new Error(en(5));let O=!0;h();const A=u++;return l.set(A,j),function(){if(O){if(m)throw new Error(en(6));O=!1,h(),l.delete(A),o=null}}}function y(j){if(!K0(j))throw new Error(en(7));if(typeof j.type>"u")throw new Error(en(8));if(typeof j.type!="string")throw new Error(en(17));if(m)throw new Error(en(9));try{m=!0,i=r(i,j)}finally{m=!1}return(o=l).forEach(A=>{A()}),j}function b(j){if(typeof j!="function")throw new Error(en(10));r=j,y({type:Pd.REPLACE})}function S(){const j=p;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(en(11));function A(){const P=O;P.next&&P.next(g())}return A(),{unsubscribe:j(A)}},[hE](){return this}}}return y({type:Pd.INIT}),{dispatch:y,subscribe:p,getState:g,replaceReducer:b,[hE]:S}}function HB(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Pd.INIT})>"u")throw new Error(en(12));if(typeof n(void 0,{type:Pd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(en(13))})}function tT(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{HB(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let m=!1;const h={};for(let g=0;g<r.length;g++){const p=r[g],y=n[p],b=l[p],S=y(b,u);if(typeof S>"u")throw u&&u.type,new Error(en(14));h[p]=S,m=m||S!==b}return m=m||r.length!==Object.keys(l).length,m?h:l}}function kd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function GB(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(en(15))};const l={getState:i.getState,dispatch:(m,...h)=>o(m,...h)},u=e.map(m=>m(l));return o=kd(...u)(i.dispatch),{...i,dispatch:o}}}function nT(e){return K0(e)&&"type"in e&&typeof e.type=="string"}var rT=Symbol.for("immer-nothing"),mE=Symbol.for("immer-draftable"),Wn=Symbol.for("immer-state");function Er(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zl=Object.getPrototypeOf;function es(e){return!!e&&!!e[Wn]}function ha(e){var t;return e?aT(e)||Array.isArray(e)||!!e[mE]||!!((t=e.constructor)!=null&&t[mE])||fc(e)||jf(e):!1}var FB=Object.prototype.constructor.toString(),gE=new WeakMap;function aT(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=gE.get(n);return r===void 0&&(r=Function.toString.call(n),gE.set(n,r)),r===FB}function Rd(e,t,n=!0){Sf(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Sf(e){const t=e[Wn];return t?t.type_:Array.isArray(e)?1:fc(e)?2:jf(e)?3:0}function Pv(e,t){return Sf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iT(e,t,n){const r=Sf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function VB(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function fc(e){return e instanceof Map}function jf(e){return e instanceof Set}function Li(e){return e.copy_||e.base_}function kv(e,t){if(fc(e))return new Map(e);if(jf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=aT(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Wn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(Zl(e),r)}else{const r=Zl(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function H0(e,t=!1){return Ef(e)||es(e)||!ha(e)||(Sf(e)>1&&Object.defineProperties(e,{set:ad,add:ad,clear:ad,delete:ad}),Object.freeze(e),t&&Object.values(e).forEach(n=>H0(n,!0))),e}function YB(){Er(2)}var ad={value:YB};function Ef(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WB={};function ts(e){const t=WB[e];return t||Er(0,e),t}var Ql;function sT(){return Ql}function XB(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pE(e,t){t&&(ts("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rv(e){Mv(e),e.drafts_.forEach(JB),e.drafts_=null}function Mv(e){e===Ql&&(Ql=e.parent_)}function vE(e){return Ql=XB(Ql,e)}function JB(e){const t=e[Wn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Wn].modified_&&(Rv(t),Er(4)),ha(e)&&(e=Md(t,e),t.parent_||Id(t,e)),t.patches_&&ts("Patches").generateReplacementPatches_(n[Wn].base_,e,t.patches_,t.inversePatches_)):e=Md(t,n,[]),Rv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rT?e:void 0}function Md(e,t,n){if(Ef(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Wn];if(!i)return Rd(t,(o,l)=>bE(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return Id(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),Rd(l,(m,h)=>bE(e,i,o,m,h,n,u),r),Id(e,o,!1),n&&e.patches_&&ts("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function bE(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=Ef(i);if(!(u&&!l)){if(es(i)){const m=o&&t&&t.type_!==3&&!Pv(t.assigned_,r)?o.concat(r):void 0,h=Md(e,i,m);if(iT(n,r,h),es(h))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(ha(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;Md(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(fc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Id(e,i)}}}function Id(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&H0(t,n)}function ZB(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:sT(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=G0;n&&(i=[r],o=ec);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var G0={get(e,t){if(t===Wn)return e;const n=Li(e);if(!Pv(n,t))return QB(e,n,t);const r=n[t];return e.finalized_||!ha(r)?r:r===Np(e.base_,t)?(Tp(e),e.copy_[t]=Lv(r,e)):r},has(e,t){return t in Li(e)},ownKeys(e){return Reflect.ownKeys(Li(e))},set(e,t,n){const r=oT(Li(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Np(Li(e),t),o=i==null?void 0:i[Wn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(VB(n,i)&&(n!==void 0||Pv(e.base_,t)))return!0;Tp(e),Iv(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Np(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Tp(e),Iv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Li(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Er(11)},getPrototypeOf(e){return Zl(e.base_)},setPrototypeOf(){Er(12)}},ec={};Rd(G0,(e,t)=>{ec[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ec.deleteProperty=function(e,t){return ec.set.call(this,e,t,void 0)};ec.set=function(e,t,n){return G0.set.call(this,e[0],t,n,e[0])};function Np(e,t){const n=e[Wn];return(n?Li(n):e)[t]}function QB(e,t,n){var i;const r=oT(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function oT(e,t){if(!(t in e))return;let n=Zl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Zl(n)}}function Iv(e){e.modified_||(e.modified_=!0,e.parent_&&Iv(e.parent_))}function Tp(e){e.copy_||(e.copy_=kv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var eU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(m=o,...h){return l.produce(m,g=>n.call(this,g,...h))}}typeof n!="function"&&Er(6),r!==void 0&&typeof r!="function"&&Er(7);let i;if(ha(t)){const o=vE(this),l=Lv(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?Rv(o):Mv(o)}return pE(o,r),yE(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===rT&&(i=void 0),this.autoFreeze_&&H0(i,!0),r){const o=[],l=[];ts("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else Er(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,m=>t(m,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ha(e)||Er(8),es(e)&&(e=ua(e));const t=vE(this),n=Lv(e,void 0);return n[Wn].isManual_=!0,Mv(t),n}finishDraft(e,t){const n=e&&e[Wn];(!n||!n.isManual_)&&Er(9);const{scope_:r}=n;return pE(r,t),yE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ts("Patches").applyPatches_;return es(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Lv(e,t){const n=fc(e)?ts("MapSet").proxyMap_(e,t):jf(e)?ts("MapSet").proxySet_(e,t):ZB(e,t);return(t?t.scope_:sT()).drafts_.push(n),n}function ua(e){return es(e)||Er(10,e),lT(e)}function lT(e){if(!ha(e)||Ef(e))return e;const t=e[Wn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=kv(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=kv(e,!0);return Rd(n,(i,o)=>{iT(n,i,lT(o))},r),t&&(t.finalized_=!1),n}var tU=new eU,cT=tU.produce;function uT(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var nU=uT(),rU=uT,aU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kd:kd.apply(null,arguments)};function gr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Vn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>nT(r)&&r.type===e,n}var dT=class $l extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$l.prototype)}static get[Symbol.species](){return $l}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $l(...t[0].concat(this)):new $l(...t.concat(this))}};function xE(e){return ha(e)?cT(e,()=>{}):e}function id(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function iU(e){return typeof e=="boolean"}var sU=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new dT;return n&&(iU(n)?l.push(nU):l.push(rU(n.extraArgument))),l},fT="RTK_autoBatch",gn=()=>e=>({payload:e,meta:{[fT]:!0}}),wE=e=>t=>{setTimeout(t,e)},hT=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:wE(10):e.type==="callback"?e.queueNotification:wE(e.timeout),h=()=>{l=!1,o&&(o=!1,u.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const p=()=>i&&g(),y=r.subscribe(p);return u.add(g),()=>{y(),u.delete(g)}},dispatch(g){var p;try{return i=!((p=g==null?void 0:g.meta)!=null&&p[fT]),o=!i,o&&(l||(l=!0,m(h))),r.dispatch(g)}finally{i=!0}}})},oU=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new dT(e);return r&&i.push(hT(typeof r=="object"?r:void 0)),i};function lU(e){const t=sU(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(K0(n))u=tT(n);else throw new Error(Vn(1));let m;typeof r=="function"?m=r(t):m=t();let h=kd;i&&(h=aU({trace:!1,...typeof i=="object"&&i}));const g=GB(...m),p=oU(g);let y=typeof l=="function"?l(p):p();const b=h(...y);return eT(u,o,b)}function mT(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Vn(28));if(u in t)throw new Error(Vn(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function cU(e){return typeof e=="function"}function uU(e,t){let[n,r,i]=mT(t),o;if(cU(e))o=()=>xE(e());else{const u=xE(e);o=()=>u}function l(u=o(),m){let h=[n[m.type],...r.filter(({matcher:g})=>g(m)).map(({reducer:g})=>g)];return h.filter(g=>!!g).length===0&&(h=[i]),h.reduce((g,p)=>{if(p)if(es(g)){const b=p(g,m);return b===void 0?g:b}else{if(ha(g))return cT(g,y=>p(y,m));{const y=p(g,m);if(y===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return g},u)}return l.getInitialState=o,l}var dU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fU=(e=21)=>{let t="",n=e;for(;n--;)t+=dU[Math.random()*64|0];return t},hU=Symbol.for("rtk-slice-createasyncthunk");function mU(e,t){return`${e}/${t}`}function gU({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[hU];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Vn(11));const u=(typeof i.reducers=="function"?i.reducers(vU()):i.reducers)||{},m=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(P,N){const C=typeof P=="string"?P:P.type;if(!C)throw new Error(Vn(12));if(C in h.sliceCaseReducersByType)throw new Error(Vn(13));return h.sliceCaseReducersByType[C]=N,g},addMatcher(P,N){return h.sliceMatchers.push({matcher:P,reducer:N}),g},exposeAction(P,N){return h.actionCreators[P]=N,g},exposeCaseReducer(P,N){return h.sliceCaseReducersByName[P]=N,g}};m.forEach(P=>{const N=u[P],C={reducerName:P,type:mU(o,P),createNotation:typeof i.reducers=="function"};bU(N)?wU(C,N,g,t):yU(C,N,g)});function p(){const[P={},N=[],C=void 0]=typeof i.extraReducers=="function"?mT(i.extraReducers):[i.extraReducers],k={...P,...h.sliceCaseReducersByType};return uU(i.initialState,z=>{for(let V in k)z.addCase(V,k[V]);for(let V of h.sliceMatchers)z.addMatcher(V.matcher,V.reducer);for(let V of N)z.addMatcher(V.matcher,V.reducer);C&&z.addDefaultCase(C)})}const y=P=>P,b=new Map,S=new WeakMap;let _;function j(P,N){return _||(_=p()),_(P,N)}function O(){return _||(_=p()),_.getInitialState()}function A(P,N=!1){function C(z){let V=z[P];return typeof V>"u"&&N&&(V=id(S,C,O)),V}function k(z=y){const V=id(b,N,()=>new WeakMap);return id(V,z,()=>{const ie={};for(const[ee,I]of Object.entries(i.selectors??{}))ie[ee]=pU(I,z,()=>id(S,z,O),N);return ie})}return{reducerPath:P,getSelectors:k,get selectors(){return k(C)},selectSlice:C}}const T={name:o,reducer:j,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:O,...A(l),injectInto(P,{reducerPath:N,...C}={}){const k=N??l;return P.inject({reducerPath:k,reducer:j},C),{...T,...A(k,!0)}}};return T}}function pU(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Xn=gU();function vU(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function yU({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!xU(r))throw new Error(Vn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?gr(e,l):gr(e))}function bU(e){return e._reducerDefinitionType==="asyncThunk"}function xU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wU({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Vn(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:m,settled:h,options:g}=n,p=i(e,o,g);r.exposeAction(t,p),l&&r.addCase(p.fulfilled,l),u&&r.addCase(p.pending,u),m&&r.addCase(p.rejected,m),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(t,{fulfilled:l||sd,pending:u||sd,rejected:m||sd,settled:h||sd})}function sd(){}var _U="task",gT="listener",pT="completed",F0="cancelled",SU=`task-${F0}`,jU=`task-${pT}`,Bv=`${gT}-${F0}`,EU=`${gT}-${pT}`,Of=class{constructor(e){pg(this,"name","TaskAbortError");pg(this,"message");this.code=e,this.message=`${_U} ${F0} (reason: ${e})`}},V0=(e,t)=>{if(typeof e!="function")throw new TypeError(Vn(32))},Ld=()=>{},vT=(e,t=Ld)=>(e.catch(t),e),yT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Yi=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Wi=e=>{if(e.aborted){const{reason:t}=e;throw new Of(t)}};function bT(e,t){let n=Ld;return new Promise((r,i)=>{const o=()=>i(new Of(e.reason));if(e.aborted){o();return}n=yT(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Ld})}var OU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Of?"cancelled":"rejected",error:n}}finally{t==null||t()}},Bd=e=>t=>vT(bT(e,t).then(n=>(Wi(e),n))),xT=e=>{const t=Bd(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:so}=Object,_E={},Af="listenerMiddleware",AU=(e,t)=>{const n=r=>yT(e,()=>Yi(r,e.reason));return(r,i)=>{V0(r);const o=new AbortController;n(o);const l=OU(async()=>{Wi(e),Wi(o.signal);const u=await r({pause:Bd(o.signal),delay:xT(o.signal),signal:o.signal});return Wi(o.signal),u},()=>Yi(o,jU));return i!=null&&i.autoJoin&&t.push(l.catch(Ld)),{result:Bd(e)(l),cancel(){Yi(o,SU)}}}},NU=(e,t)=>{const n=async(r,i)=>{Wi(t);let o=()=>{};const u=[new Promise((m,h)=>{let g=e({predicate:r,effect:(p,y)=>{y.unsubscribe(),m([p,y.getState(),y.getOriginalState()])}});o=()=>{g(),h()}})];i!=null&&u.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await bT(t,Promise.race(u));return Wi(t),m}finally{o()}};return(r,i)=>vT(n(r,i))},wT=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=gr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Vn(21));return V0(o),{predicate:i,type:t,effect:o}},_T=so(e=>{const{type:t,predicate:n,effect:r}=wT(e);return{id:fU(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Vn(22))}}},{withTypes:()=>_T}),SE=(e,t)=>{const{type:n,effect:r,predicate:i}=wT(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Uv=e=>{e.pending.forEach(t=>{Yi(t,Bv)})},TU=(e,t)=>()=>{for(const n of t.keys())Uv(n);e.clear()},jE=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},ST=so(gr(`${Af}/add`),{withTypes:()=>ST}),CU=gr(`${Af}/removeAll`),jT=so(gr(`${Af}/remove`),{withTypes:()=>jT}),DU=(...e)=>{console.error(`${Af}/error`,...e)},hc=(e={})=>{const t=new Map,n=new Map,r=b=>{const S=n.get(b)??0;n.set(b,S+1)},i=b=>{const S=n.get(b)??1;S===1?n.delete(b):n.set(b,S-1)},{extra:o,onError:l=DU}=e;V0(l);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),S=>{b.unsubscribe(),S!=null&&S.cancelActive&&Uv(b)}),m=b=>{const S=SE(t,b)??_T(b);return u(S)};so(m,{withTypes:()=>m});const h=b=>{const S=SE(t,b);return S&&(S.unsubscribe(),b.cancelActive&&Uv(S)),!!S};so(h,{withTypes:()=>h});const g=async(b,S,_,j)=>{const O=new AbortController,A=NU(m,O.signal),T=[];try{b.pending.add(O),r(b),await Promise.resolve(b.effect(S,so({},_,{getOriginalState:j,condition:(P,N)=>A(P,N).then(Boolean),take:A,delay:xT(O.signal),pause:Bd(O.signal),extra:o,signal:O.signal,fork:AU(O.signal,T),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((P,N,C)=>{P!==O&&(Yi(P,Bv),C.delete(P))})},cancel:()=>{Yi(O,Bv),b.pending.delete(O)},throwIfCancelled:()=>{Wi(O.signal)}})))}catch(P){P instanceof Of||jE(l,P,{raisedBy:"effect"})}finally{await Promise.all(T),Yi(O,EU),i(b),b.pending.delete(O)}},p=TU(t,n);return{middleware:b=>S=>_=>{if(!nT(_))return S(_);if(ST.match(_))return m(_.payload);if(CU.match(_)){p();return}if(jT.match(_))return h(_.payload);let j=b.getState();const O=()=>{if(j===_E)throw new Error(Vn(23));return j};let A;try{if(A=S(_),t.size>0){const T=b.getState(),P=Array.from(t.values());for(const N of P){let C=!1;try{C=N.predicate(_,T,j)}catch(k){C=!1,jE(l,k,{raisedBy:"predicate"})}C&&g(N,_,b,O)}}}finally{j=_E}return A},startListening:m,stopListening:h,clearListeners:p}};function Vn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ET=Xn({name:"chartLayout",initialState:PU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:kU,setLayout:RU,setChartSize:MU,setScale:IU}=ET.actions,LU=ET.reducer;function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(n),!0).forEach(function(r){BU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BU(e,t,n){return(t=UU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UU(e){var t=$U(e,"string");return typeof t=="symbol"?t:t+""}function $U(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ud=Math.PI/180,zU=e=>e*180/Math.PI,Dt=(e,t,n,r)=>({x:e+Math.cos(-Ud*r)*n,y:t+Math.sin(-Ud*r)*n}),OT=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},qU=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},KU=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=qU({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,m=Math.acos(u);return r>o&&(m=2*Math.PI-m),{radius:l,angle:zU(m),angleInRadian:m}},HU=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},GU=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},FU=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=KU({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:m,endAngle:h}=HU(t),g=o,p;if(m<=h){for(;g>h;)g-=360;for(;g<m;)g+=360;p=g>=m&&g<=h}else{for(;g>m;)g-=360;for(;g<h;)g+=360;p=g>=h&&g<=m}return p?OE(OE({},t),{},{radius:i,angle:GU(g,t)}):null};function AT(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){VU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VU(e,t,n){return(t=YU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function st(e,t,n){return ht(e)||ht(t)?n:Lr(t)?Qi(e,t,n):typeof t=="function"?t(e):n}var XU=(e,t,n,r,i)=>{var o,l=-1,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var m=0;m<u;m++){var h=m>0?n[m-1].coordinate:n[u-1].coordinate,g=n[m].coordinate,p=m>=u-1?n[0].coordinate:n[m+1].coordinate,y=void 0;if(Ft(g-h)!==Ft(p-g)){var b=[];if(Ft(p-g)===Ft(i[1]-i[0])){y=p;var S=g+i[1]-i[0];b[0]=Math.min(S,(S+h)/2),b[1]=Math.max(S,(S+h)/2)}else{y=h;var _=p+i[1]-i[0];b[0]=Math.min(g,(_+g)/2),b[1]=Math.max(g,(_+g)/2)}var j=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>j[0]&&e<=j[1]||e>=b[0]&&e<=b[1]){({index:l}=n[m]);break}}else{var O=Math.min(h,p),A=Math.max(h,p);if(e>(O+g)/2&&e<=(A+g)/2){({index:l}=n[m]);break}}}else if(t){for(var T=0;T<u;T++)if(T===0&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T>0&&T<u-1&&e>(t[T].coordinate+t[T-1].coordinate)/2&&e<=(t[T].coordinate+t[T+1].coordinate)/2||T===u-1&&e>(t[T].coordinate+t[T-1].coordinate)/2){({index:l}=t[T]);break}}return l},JU=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&_e(e[o]))return fr(fr({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&_e(e[l]))return fr(fr({},e),{},{[l]:e[l]+(i||0)})}return e},ci=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",NT=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},TT=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:m,categoricalDomain:h,tickCount:g,ticks:p,niceTicks:y,axisType:b}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,_=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(_=b==="angleAxis"&&o&&o.length>=2?Ft(o[0]-o[1])*2*_:_,p||y){var j=(p||y||[]).map((O,A)=>{var T=r?r.indexOf(O):O;return{coordinate:l(T)+_,value:O,offset:_,index:A}});return j.filter(O=>!mr(O.coordinate))}return m&&h?h.map((O,A)=>({coordinate:l(O)+_,value:O,index:A,offset:_})):l.ticks&&g!=null?l.ticks(g).map((O,A)=>({coordinate:l(O)+_,value:O,offset:_,index:A})):l.domain().map((O,A)=>({coordinate:l(O)+_,value:r?r[O]:O,index:A,offset:_}))},NE=1e-4,ZU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-NE,o=Math.max(r[0],r[1])+NE,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},QU=(e,t)=>{if(!t||t.length!==2||!_e(t[0])||!_e(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!_e(e[0])||e[0]<n)&&(i[0]=n),(!_e(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},e5=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,l=0;l<t;++l){var u=mr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},t5=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var l=mr(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},n5={sign:e5,expand:O4,none:uo,silhouette:A4,wiggle:N4,positive:t5},r5=(e,t,n)=>{var r=n5[n],i=E4().keys(t).value((o,l)=>+st(o,l,0)).order(Tv).offset(r);return i(e)};function a5(e){return e==null?void 0:String(e)}function TE(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(i[t.dataKey])){var u=L2(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var m=st(i,ht(l)?t.dataKey:l);return ht(m)?null:t.scale(m)}var CE=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=st(o,t.dataKey,t.scale.domain()[l]);return ht(u)?null:t.scale(u)-i/2+r},i5=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},s5=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},o5=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],l5=(e,t,n)=>{if(e!=null)return o5(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:l}=o,u=l.reduce((m,h)=>{var g=AT(h,t,n),p=s5(g);return[Math.min(m[0],p[0]),Math.max(m[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},DE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tc=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=_f(t,g=>g.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var m=i[l],h=i[l-1];o=Math.min((m.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function kE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return fr(fr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function So(e,t){if(e)return String(e);if(typeof t=="string")return t}function c5(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?FU({x:e,y:t},r):null}var u5=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:l}=r;return fr(fr(fr({},r),Dt(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:m}=r;return fr(fr(fr({},r),Dt(r.cx,r.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},d5=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,va=e=>e.layout.width,ya=e=>e.layout.height,f5=e=>e.layout.scale,CT=e=>e.layout.margin,Nf=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Tf=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),DT="data-recharts-item-index",PT="data-recharts-item-data-key",mc=60;function RE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(n),!0).forEach(function(r){h5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h5(e,t,n){return(t=m5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m5(e){var t=g5(e,"string");return typeof t=="symbol"?t:t+""}function g5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p5=e=>e.brush.height;function v5(e){var t=Tf(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:mc;return n+i}return n},0)}function y5(e){var t=Tf(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:mc;return n+i}return n},0)}function b5(e){var t=Nf(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function x5(e){var t=Nf(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Bt=F([va,ya,CT,p5,v5,y5,b5,x5,Z2,BB],(e,t,n,r,i,o,l,u,m,h)=>{var g={left:(n.left||0)+i,right:(n.right||0)+o},p={top:(n.top||0)+l,bottom:(n.bottom||0)+u},y=od(od({},p),g),b=y.bottom;y.bottom+=r,y=JU(y,m,h);var S=e-y.left-y.right,_=t-y.top-y.bottom;return od(od({brushBottom:b},y),{},{width:Math.max(S,0),height:Math.max(_,0)})}),w5=F(Bt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Y0=F(va,ya,(e,t)=>({x:0,y:0,width:e,height:t})),_5=w.createContext(null),xn=()=>w.useContext(_5)!=null,Cf=e=>e.brush,Df=F([Cf,Bt,CT],(e,t,n)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:_e(e.width)?e.width:t.width})),Cp={},Dp={},Pp={},ME;function S5(){return ME||(ME=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const m=o!=null&&o.includes("leading"),h=o==null||o.includes("trailing"),g=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},p=()=>{h&&g(),_()};let y=null;const b=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},S=()=>{y!==null&&(clearTimeout(y),y=null)},_=()=>{S(),l=void 0,u=null},j=()=>{g()},O=function(...A){if(i!=null&&i.aborted)return;l=this,u=A;const T=y==null;b(),m&&T&&g()};return O.schedule=b,O.cancel=_,O.flush=j,i==null||i.addEventListener("abort",_,{once:!0}),O}e.debounce=t})(Pp)),Pp}var IE;function j5(){return IE||(IE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S5();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:m}=o,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let g,p=null;const y=t.debounce(function(..._){g=r.apply(this,_),p=null},i,{edges:h}),b=function(..._){return m!=null&&(p===null&&(p=Date.now()),Date.now()-p>=m)?(g=r.apply(this,_),p=Date.now(),y.cancel(),y.schedule(),g):(y.apply(this,_),g)},S=()=>(y.flush(),g);return b.cancel=y.cancel,b.flush=S,b}e.debounce=n})(Dp)),Dp}var LE;function E5(){return LE||(LE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j5();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(Cp)),Cp}var kp,BE;function O5(){return BE||(BE=1,kp=E5().throttle),kp}var A5=O5();const N5=Nr(A5);var $d=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},kT=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=fa(r)?e:Number(r),m=fa(i)?t:Number(i);return o&&o>0&&(u?m=u/o:m&&(u=m*o),l&&m>l&&(m=l)),{calculatedWidth:u,calculatedHeight:m}},T5={width:0,height:0,overflow:"visible"},C5={width:0,overflowX:"visible"},D5={height:0,overflowY:"visible"},P5={},k5=e=>{var{width:t,height:n}=e,r=fa(t),i=fa(n);return r&&i?T5:r?C5:i?D5:P5};function R5(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function fn(e){return Number.isFinite(e)}function fo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(null,arguments)}function UE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $E(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(n),!0).forEach(function(r){M5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M5(e,t,n){return(t=I5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I5(e){var t=L5(e,"string");return typeof t=="symbol"?t:t+""}function L5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RT=w.createContext({width:-1,height:-1});function MT(e){var{children:t,width:n,height:r}=e,i=w.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:w.createElement(RT.Provider,{value:i},t)}var W0=()=>w.useContext(RT),B5=w.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:m,children:h,debounce:g=0,id:p,className:y,onResize:b,style:S={}}=e,_=w.useRef(null),j=w.useRef();j.current=b,w.useImperativeHandle(t,()=>_.current);var[O,A]=w.useState({containerWidth:r.width,containerHeight:r.height}),T=w.useCallback((z,V)=>{A(ie=>{var ee=Math.round(z),I=Math.round(V);return ie.containerWidth===ee&&ie.containerHeight===I?ie:{containerWidth:ee,containerHeight:I}})},[]);w.useEffect(()=>{var z=I=>{var q,{width:W,height:Q}=I[0].contentRect;T(W,Q),(q=j.current)===null||q===void 0||q.call(j,W,Q)};g>0&&(z=N5(z,g,{trailing:!0,leading:!1}));var V=new ResizeObserver(z),{width:ie,height:ee}=_.current.getBoundingClientRect();return T(ie,ee),V.observe(_.current),()=>{V.disconnect()}},[T,g]);var{containerWidth:P,containerHeight:N}=O;$d(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:C,calculatedHeight:k}=kT(P,N,{width:i,height:o,aspect:n,maxHeight:m});return $d(C>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,k,i,o,l,u,n),w.createElement("div",{id:p?"".concat(p):void 0,className:qe("recharts-responsive-container",y),style:$E($E({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:m}),ref:_},w.createElement("div",{style:k5({width:i,height:o})},w.createElement(MT,{width:C,height:k},h)))}),Qa=w.forwardRef((e,t)=>{var n=W0();if(fo(n.width)&&fo(n.height))return e.children;var{width:r,height:i}=R5({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=kT(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return _e(o)&&_e(l)?w.createElement(MT,{width:o,height:l},e.children):w.createElement(B5,$v({},e,{width:r,height:i,ref:t}))}),Pf=()=>{var e,t=xn(),n=ge(w5),r=ge(Df),i=(e=ge(Cf))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},U5={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},IT=()=>{var e;return(e=ge(Bt))!==null&&e!==void 0?e:U5},X0=()=>ge(va),J0=()=>ge(ya),$5=()=>ge(e=>e.layout.margin),Ue=e=>e.layout.layoutType,kf=()=>ge(Ue),Rf=e=>{var t=mt(),n=xn(),{width:r,height:i}=e,o=W0(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),w.useEffect(()=>{!n&&fo(l)&&fo(u)&&t(MU({width:l,height:u}))},[t,n,l,u]),null},z5={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},LT=Xn({name:"legend",initialState:z5,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:gn()},removeLegendPayload:{reducer(e,t){var n=ua(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:gn()}}}),{setLegendSize:zE,setLegendSettings:q5,addLegendPayload:BT,removeLegendPayload:UT}=LT.actions,K5=LT.reducer,H5=["contextPayload"];function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zv.apply(null,arguments)}function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qE(Object(n),!0).forEach(function(r){Z0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Z0(e,t,n){return(t=G5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G5(e){var t=F5(e,"string");return typeof t=="symbol"?t:t+""}function F5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V5(e,t){if(e==null)return{};var n,r,i=Y5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Y5(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function W5(e){return e.value}function X5(e){var{contextPayload:t}=e,n=V5(e,H5),r=Y2(t,e.payloadUniqBy,W5),i=ho(ho({},n),{},{payload:r});return w.isValidElement(e.content)?w.cloneElement(e.content,i):typeof e.content=="function"?w.createElement(e.content,i):w.createElement($0,i)}function J5(e,t,n,r,i,o){var{layout:l,align:u,verticalAlign:m}=t,h,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?h={left:((r||0)-o.width)/2}:h=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?g={top:((i||0)-o.height)/2}:g=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),ho(ho({},h),g)}function Z5(e){var t=mt();return w.useEffect(()=>{t(q5(e))},[t,e]),null}function Q5(e){var t=mt();return w.useEffect(()=>(t(zE(e)),()=>{t(zE({width:0,height:0}))}),[t,e]),null}function e6(e){var t=zB(),n=W3(),r=$5(),{width:i,height:o,wrapperStyle:l,portal:u}=e,[m,h]=Q2([t]),g=X0(),p=J0();if(g==null||p==null)return null;var y=g-(r.left||0)-(r.right||0),b=mo.getWidthOrHeight(e.layout,o,i,y),S=u?l:ho(ho({position:"absolute",width:(b==null?void 0:b.width)||i||"auto",height:(b==null?void 0:b.height)||o||"auto"},J5(l,e,r,g,p,m)),l),_=u??n;if(_==null)return null;var j=w.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:h},w.createElement(Z5,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),w.createElement(Q5,{width:m.width,height:m.height}),w.createElement(X5,zv({},e,b,{margin:r,chartWidth:g,chartHeight:p,contextPayload:t})));return v2.createPortal(j,_)}class mo extends w.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&_e(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return w.createElement(e6,this.props)}}Z0(mo,"displayName","Legend");Z0(mo,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qv.apply(null,arguments)}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){t6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t6(e,t,n){return(t=n6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n6(e){var t=r6(e,"string");return typeof t=="symbol"?t:t+""}function r6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a6(e){return Array.isArray(e)&&Lr(e[0])&&Lr(e[1])?e.join(" ~ "):e}var i6=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:m,labelClassName:h,label:g,labelFormatter:p,accessibilityLayer:y=!1}=e,b=()=>{if(o&&o.length){var N={padding:0,margin:0},C=(u?_f(o,u):o).map((k,z)=>{if(k.type==="none")return null;var V=k.formatter||l||a6,{value:ie,name:ee}=k,I=ie,q=ee;if(V){var W=V(ie,ee,k,z,o);if(Array.isArray(W))[I,q]=W;else if(W!=null)I=W;else return null}var Q=Rp({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:Q},Lr(q)?w.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Lr(q)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},I),w.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:N},C)}return null},S=Rp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=Rp({margin:0},i),j=!ht(g),O=j?g:"",A=qe("recharts-default-tooltip",m),T=qe("recharts-tooltip-label",h);j&&p&&o!==void 0&&o!==null&&(O=p(g,o));var P=y?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",qv({className:A,style:S},P),w.createElement("p",{className:T,style:_},w.isValidElement(O)?O:"".concat(O)),b())},Cl="recharts-tooltip-wrapper",s6={visibility:"hidden"};function o6(e){var{coordinate:t,translateX:n,translateY:r}=e;return qe(Cl,{["".concat(Cl,"-right")]:_e(n)&&t&&_e(t.x)&&n>=t.x,["".concat(Cl,"-left")]:_e(n)&&t&&_e(t.x)&&n<t.x,["".concat(Cl,"-bottom")]:_e(r)&&t&&_e(t.y)&&r>=t.y,["".concat(Cl,"-top")]:_e(r)&&t&&_e(t.y)&&r<t.y})}function HE(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:m,viewBoxDimension:h}=e;if(o&&_e(o[r]))return o[r];var g=n[r]-u-(i>0?i:0),p=n[r]+i;if(t[r])return l[r]?g:p;var y=m[r];if(y==null)return 0;if(l[r]){var b=g,S=y;return b<S?Math.max(p,y):Math.max(g,y)}if(h==null)return 0;var _=p+u,j=y+h;return _>j?Math.max(g,y):Math.max(p,y)}function l6(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function c6(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:m}=e,h,g,p;return l.height>0&&l.width>0&&n?(g=HE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:m,viewBoxDimension:m.width}),p=HE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:m,viewBoxDimension:m.height}),h=l6({translateX:g,translateY:p,useTranslate3d:u})):h=s6,{cssProperties:h,cssClasses:o6({translateX:g,translateY:p,coordinate:n})}}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){Kv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kv(e,t,n){return(t=u6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u6(e){var t=d6(e,"string");return typeof t=="symbol"?t:t+""}function d6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class f6 extends w.PureComponent{constructor(){super(...arguments),Kv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Kv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:m,offset:h,position:g,reverseDirection:p,useTranslate3d:y,viewBox:b,wrapperStyle:S,lastBoundingBox:_,innerRef:j,hasPortalFromProps:O}=this.props,{cssClasses:A,cssProperties:T}=c6({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:g,reverseDirection:p,tooltipBox:{height:_.height,width:_.width},useTranslate3d:y,viewBox:b}),P=O?{}:ld(ld({transition:m&&t?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),N=ld(ld({},P),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:N,ref:j},o)}}var h6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ui={devToolsEnabled:!1,isSsr:h6()},$T=()=>ge(e=>e.rootProps.accessibilityLayer);function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(null,arguments)}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){m6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m6(e,t,n){return(t=g6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g6(e){var t=p6(e,"string");return typeof t=="symbol"?t:t+""}function p6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YE={curveBasisClosed:m4,curveBasisOpen:g4,curveBasis:h4,curveBumpX:Q3,curveBumpY:e4,curveLinearClosed:p4,curveLinear:xf,curveMonotoneX:v4,curveMonotoneY:y4,curveNatural:b4,curveStep:x4,curveStepAfter:_4,curveStepBefore:w4},cd=e=>fn(e.x)&&fn(e.y),Dl=e=>e.x,Pl=e=>e.y,v6=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(uc(e));return(n==="curveMonotone"||n==="curveBump")&&t?YE["".concat(n).concat(t==="vertical"?"Y":"X")]:YE[n]||xf},y6=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=v6(t,i),u=o?n.filter(cd):n,m;if(Array.isArray(r)){var h=o?r.filter(p=>cd(p)):r,g=u.map((p,y)=>VE(VE({},p),{},{base:h[y]}));return i==="vertical"?m=td().y(Pl).x1(Dl).x0(p=>p.base.x):m=td().x(Dl).y1(Pl).y0(p=>p.base.y),m.defined(cd).curve(l),m(g)}return i==="vertical"&&_e(r)?m=td().y(Pl).x1(Dl).x0(r):_e(r)?m=td().x(Dl).y1(Pl).y0(r):m=j2().x(Dl).y(Pl),m.defined(cd).curve(l),m(u)},Q0=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?y6(e):r;return w.createElement("path",Hv({},Yn(e),B0(e),{className:qe("recharts-curve",t),d:o===null?void 0:o,ref:i}))},b6=["x","y","top","left","width","height","className"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gv.apply(null,arguments)}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(n),!0).forEach(function(r){w6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w6(e,t,n){return(t=_6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _6(e){var t=S6(e,"string");return typeof t=="symbol"?t:t+""}function S6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j6(e,t){if(e==null)return{};var n,r,i=E6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var O6=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),A6=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,m=j6(e,b6),h=x6({x:t,y:n,top:r,left:i,width:o,height:l},m);return!_e(t)||!_e(n)||!_e(o)||!_e(l)||!_e(r)||!_e(i)?null:w.createElement("path",Gv({},bn(h),{className:qe("recharts-cross",u),d:O6(t,n,o,l,r,i)}))};function N6(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){C6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C6(e,t,n){return(t=D6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D6(e){var t=P6(e,"string");return typeof t=="symbol"?t:t+""}function P6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rn(e,t){var n=T6({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}function k6(){}function R6(e){return e!=null}function JE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(n),!0).forEach(function(r){M6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M6(e,t,n){return(t=I6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I6(e){var t=L6(e,"string");return typeof t=="symbol"?t:t+""}function L6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),zT=(e,t,n)=>e.map(r=>"".concat(B6(r)," ").concat(t,"ms ").concat(n)).join(","),U6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),nc=(e,t)=>Object.keys(t).reduce((n,r)=>ZE(ZE({},n),{},{[r]:e(r,t[r])}),{});function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){$6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $6(e,t,n){return(t=z6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z6(e){var t=q6(e,"string");return typeof t=="symbol"?t:t+""}function q6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zd=(e,t,n)=>e+(t-e)*n,Fv=e=>{var{from:t,to:n}=e;return t!==n},qT=(e,t,n)=>{var r=nc((i,o)=>{if(Fv(o)){var[l,u]=e(o.from,o.to,o.velocity);return tn(tn({},o),{},{from:l,velocity:u})}return o},t);return n<1?nc((i,o)=>Fv(o)?tn(tn({},o),{},{velocity:zd(o.velocity,r[i].velocity,n),from:zd(o.from,r[i].from,n)}):o,t):qT(e,r,n-1)};function K6(e,t,n,r,i,o){var l,u=r.reduce((y,b)=>tn(tn({},y),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),m=()=>nc((y,b)=>b.from,u),h=()=>!Object.values(u).filter(Fv).length,g=null,p=y=>{l||(l=y);var b=y-l,S=b/n.dt;u=qT(n,u,S),i(tn(tn(tn({},e),t),m())),l=y,h()||(g=o.setTimeout(p))};return()=>(g=o.setTimeout(p),()=>{g()})}function H6(e,t,n,r,i,o,l){var u=null,m=i.reduce((p,y)=>tn(tn({},p),{},{[y]:[e[y],t[y]]}),{}),h,g=p=>{h||(h=p);var y=(p-h)/r,b=nc((_,j)=>zd(...j,n(y)),m);if(o(tn(tn(tn({},e),t),b)),y<1)u=l.setTimeout(g);else{var S=nc((_,j)=>zd(...j,n(1)),m);o(tn(tn(tn({},e),t),S))}};return()=>(u=l.setTimeout(g),()=>{u()})}const G6=(e,t,n,r,i,o)=>{var l=U6(e,t);return n.isStepper===!0?K6(e,t,n,l,i,o):H6(e,t,n,r,l,i,o)};var qd=1e-4,KT=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],HT=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),eO=(e,t)=>n=>{var r=KT(e,t);return HT(r,n)},F6=(e,t)=>n=>{var r=KT(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return HT(i,n)},tO=function(){for(var t,n,r,i,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var m=l[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,n,i]=m[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else l.length===4&&([t,r,n,i]=l);var h=eO(t,n),g=eO(r,i),p=F6(t,n),y=S=>S>1?1:S<0?0:S,b=S=>{for(var _=S>1?1:S,j=_,O=0;O<8;++O){var A=h(j)-_,T=p(j);if(Math.abs(A-_)<qd||T<qd)return g(j);j=y(j-A/T)}return g(j)};return b.isStepper=!1,b},V6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,m)=>{var h=-(l-u)*n,g=m*r,p=m+(h-g)*i/1e3,y=m*i/1e3+l;return Math.abs(y-u)<qd&&Math.abs(p)<qd?[u,0]:[y,p]};return o.isStepper=!0,o.dt=i,o},Y6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return tO(e);case"spring":return V6();default:if(e.split("(")[0]==="cubic-bezier")return tO(e)}return typeof e=="function"?e:null};function W6(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[m,...h]=u;if(typeof m=="number"){i=e.setTimeout(o.bind(null,h),m);return}o(m),i=e.setTimeout(o.bind(null,h));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class X6{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function J6(){return W6(new X6)}var Z6=w.createContext(J6);function Q6(e,t){var n=w.useContext(Z6);return w.useMemo(()=>t??n(e),[e,t,n])}var e8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},nO={t:0},Mp={t:1};function gc(e){var t=rn(e,e8),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:m,children:h}=t,g=Q6(t.animationId,t.animationManager),[p,y]=w.useState(n?nO:Mp),b=w.useRef(null);return w.useEffect(()=>{n||y(Mp)},[n]),w.useEffect(()=>{if(!n||!r)return k6;var S=G6(nO,Mp,Y6(o),i,y,g.getTimeoutController()),_=()=>{b.current=S()};return g.start([m,l,_,i,u]),()=>{g.stop(),b.current&&b.current(),u()}},[n,r,i,o,l,m,u,g]),h(p.t)}function pc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=w.useRef(Jl(t)),r=w.useRef(e);return r.current!==e&&(n.current=Jl(t),r.current=e),n.current}var t8=["radius"],n8=["radius"];function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(r){r8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r8(e,t,n){return(t=a8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a8(e){var t=i8(e,"string");return typeof t=="symbol"?t:t+""}function i8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(null,arguments)}function iO(e,t){if(e==null)return{};var n,r,i=s8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sO=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var g=[0,0,0,0],p=0,y=4;p<y;p++)g[p]=i[p]>o?o:i[p];h="M".concat(e,",").concat(t+l*g[0]),g[0]>0&&(h+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(m,",").concat(e+u*g[0],",").concat(t)),h+="L ".concat(e+n-u*g[1],",").concat(t),g[1]>0&&(h+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+l*g[1])),h+="L ".concat(e+n,",").concat(t+r-l*g[2]),g[2]>0&&(h+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(m,`,
        `).concat(e+n-u*g[2],",").concat(t+r)),h+="L ".concat(e+u*g[3],",").concat(t+r),g[3]>0&&(h+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-l*g[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);h="M ".concat(e,",").concat(t+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(m,",").concat(e+u*b,",").concat(t,`
            L `).concat(e+n-u*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(m,",").concat(e+n,",").concat(t+l*b,`
            L `).concat(e+n,",").concat(t+r-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(m,",").concat(e+n-u*b,",").concat(t+r,`
            L `).concat(e+u*b,",").concat(t+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(m,",").concat(e,",").concat(t+r-l*b," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},o8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GT=e=>{var t=rn(e,o8),n=w.useRef(null),[r,i]=w.useState(-1);w.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var K=n.current.getTotalLength();K&&i(K)}catch{}},[]);var{x:o,y:l,width:u,height:m,radius:h,className:g}=t,{animationEasing:p,animationDuration:y,animationBegin:b,isAnimationActive:S,isUpdateAnimationActive:_}=t,j=w.useRef(u),O=w.useRef(m),A=w.useRef(o),T=w.useRef(l),P=w.useMemo(()=>({x:o,y:l,width:u,height:m,radius:h}),[o,l,u,m,h]),N=pc(P,"rectangle-");if(o!==+o||l!==+l||u!==+u||m!==+m||u===0||m===0)return null;var C=qe("recharts-rectangle",g);if(!_){var k=bn(t),{radius:z}=k,V=iO(k,t8);return w.createElement("path",Kd({},V,{radius:typeof h=="number"?h:void 0,className:C,d:sO(o,l,u,m,h)}))}var ie=j.current,ee=O.current,I=A.current,q=T.current,W="0px ".concat(r===-1?1:r,"px"),Q="".concat(r,"px 0px"),B=zT(["strokeDasharray"],y,typeof p=="string"?p:void 0);return w.createElement(gc,{animationId:N,key:N,canBegin:r>0,duration:y,easing:p,isActive:_,begin:b},K=>{var oe=_t(ie,u,K),ue=_t(ee,m,K),J=_t(I,o,K),R=_t(q,l,K);n.current&&(j.current=oe,O.current=ue,A.current=J,T.current=R);var L;S?K>0?L={transition:B,strokeDasharray:Q}:L={strokeDasharray:W}:L={strokeDasharray:Q};var re=bn(t),{radius:le}=re,ce=iO(re,n8);return w.createElement("path",Kd({},ce,{radius:typeof h=="number"?h:void 0,className:C,d:sO(J,R,oe,ue,h),ref:n,style:aO(aO({},L),t.style)}))})};function FT(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=Dt(t,n,r,i),u=Dt(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vv.apply(null,arguments)}var l8=(e,t)=>{var n=Ft(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},ud=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:m}=e,h=u*(l?1:-1)+r,g=Math.asin(u/h)/Ud,p=m?i:i+o*g,y=Dt(t,n,h,p),b=Dt(t,n,r,p),S=m?i-o*g:i,_=Dt(t,n,h*Math.cos(g*Ud),S);return{center:y,circleTangency:b,lineTangency:_,theta:g}},VT=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=l8(o,l),m=o+u,h=Dt(t,n,i,o),g=Dt(t,n,i,m),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>m),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var y=Dt(t,n,r,o),b=Dt(t,n,r,m);p+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=m),`,
            `).concat(y.x,",").concat(y.y," Z")}else p+="L ".concat(t,",").concat(n," Z");return p},c8=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:m,endAngle:h}=e,g=Ft(h-m),{circleTangency:p,lineTangency:y,theta:b}=ud({cx:t,cy:n,radius:i,angle:m,sign:g,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:_,theta:j}=ud({cx:t,cy:n,radius:i,angle:h,sign:-g,cornerRadius:o,cornerIsExternal:u}),O=u?Math.abs(m-h):Math.abs(m-h)-b-j;if(O<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):VT({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:m,endAngle:h});var A="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(g<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:P,theta:N}=ud({cx:t,cy:n,radius:r,angle:m,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:C,lineTangency:k,theta:z}=ud({cx:t,cy:n,radius:r,angle:h,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),V=u?Math.abs(m-h):Math.abs(m-h)-N-z;if(V<0&&o===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(V>180),",").concat(+(g>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,"Z")}else A+="L".concat(t,",").concat(n,"Z");return A},u8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YT=e=>{var t=rn(e,u8),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:g,className:p}=t;if(o<i||h===g)return null;var y=qe("recharts-sector",p),b=o-i,S=dn(l,b,0,!0),_;return S>0&&Math.abs(h-g)<360?_=c8({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,b/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:h,endAngle:g}):_=VT({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:g}),w.createElement("path",Vv({},bn(t),{className:y,d:_}))};function d8(e,t,n){var r,i,o,l;if(e==="horizontal")r=t.x,o=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:h,outerRadius:g,angle:p}=t,y=Dt(u,m,h,p),b=Dt(u,m,g,p);r=y.x,i=y.y,o=b.x,l=b.y}else return FT(t);return[{x:r,y:i},{x:o,y:l}]}var Ip={},Lp={},Bp={},oO;function f8(){return oO||(oO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X2();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Bp)),Bp}var lO;function h8(){return lO||(lO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f8();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Lp)),Lp}var cO;function m8(){return cO||(cO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2(),n=h8();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),m=new Array(u);for(let h=0;h<u;h++)m[h]=i,i+=l;return m}e.range=r})(Ip)),Ip}var Up,uO;function g8(){return uO||(uO=1,Up=m8().range),Up}var p8=g8();const WT=Nr(p8);function ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function v8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ey(e){let t,n,r;e.length!==2?(t=ni,n=(u,m)=>ni(e(u),m),r=(u,m)=>e(u)-m):(t=e===ni||e===v8?e:y8,n=e,r=e);function i(u,m,h=0,g=u.length){if(h<g){if(t(m,m)!==0)return g;do{const p=h+g>>>1;n(u[p],m)<0?h=p+1:g=p}while(h<g)}return h}function o(u,m,h=0,g=u.length){if(h<g){if(t(m,m)!==0)return g;do{const p=h+g>>>1;n(u[p],m)<=0?h=p+1:g=p}while(h<g)}return h}function l(u,m,h=0,g=u.length){const p=i(u,m,h,g-1);return p>h&&r(u[p-1],m)>-r(u[p],m)?p-1:p}return{left:i,center:l,right:o}}function y8(){return 0}function XT(e){return e===null?NaN:+e}function*b8(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const x8=ey(ni),vc=x8.right;ey(XT).center;class dO extends Map{constructor(t,n=S8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(fO(this,t))}has(t){return super.has(fO(this,t))}set(t,n){return super.set(w8(this,t),n)}delete(t){return super.delete(_8(this,t))}}function fO({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function w8({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function _8({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function S8(e){return e!==null&&typeof e=="object"?e.valueOf():e}function j8(e=ni){if(e===ni)return JT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function JT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const E8=Math.sqrt(50),O8=Math.sqrt(10),A8=Math.sqrt(2);function Hd(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=E8?10:o>=O8?5:o>=A8?2:1;let u,m,h;return i<0?(h=Math.pow(10,-i)/l,u=Math.round(e*h),m=Math.round(t*h),u/h<e&&++u,m/h>t&&--m,h=-h):(h=Math.pow(10,i)*l,u=Math.round(e/h),m=Math.round(t/h),u*h<e&&++u,m*h>t&&--m),m<u&&.5<=n&&n<2?Hd(e,t,n*2):[u,m,h]}function Yv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Hd(t,e,n):Hd(e,t,n);if(!(o>=i))return[];const u=o-i+1,m=new Array(u);if(r)if(l<0)for(let h=0;h<u;++h)m[h]=(o-h)/-l;else for(let h=0;h<u;++h)m[h]=(o-h)*l;else if(l<0)for(let h=0;h<u;++h)m[h]=(i+h)/-l;else for(let h=0;h<u;++h)m[h]=(i+h)*l;return m}function Wv(e,t,n){return t=+t,e=+e,n=+n,Hd(e,t,n)[2]}function Xv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Wv(t,e,n):Wv(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function hO(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function mO(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZT(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?JT:j8(i);r>n;){if(r-n>600){const m=r-n+1,h=t-n+1,g=Math.log(m),p=.5*Math.exp(2*g/3),y=.5*Math.sqrt(g*p*(m-p)/m)*(h-m/2<0?-1:1),b=Math.max(n,Math.floor(t-h*p/m+y)),S=Math.min(r,Math.floor(t+(m-h)*p/m+y));ZT(e,t,b,S,i)}const o=e[t];let l=n,u=r;for(kl(e,n,t),i(e[r],o)>0&&kl(e,n,r);l<u;){for(kl(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?kl(e,n,u):(++u,kl(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function kl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function N8(e,t,n){if(e=Float64Array.from(b8(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return mO(e);if(t>=1)return hO(e);var r,i=(r-1)*t,o=Math.floor(i),l=hO(ZT(e,o).subarray(0,o+1)),u=mO(e.subarray(o+1));return l+(u-l)*(i-o)}}function T8(e,t,n=XT){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function C8(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jv=Symbol("implicit");function ty(){var e=new dO,t=[],n=[],r=Jv;function i(o){let l=e.get(o);if(l===void 0){if(r!==Jv)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new dO;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ty(t,n).unknown(r)},vr.apply(i,arguments),i}function ny(){var e=ty().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,m=0,h=0,g=.5;delete e.unknown;function p(){var y=t().length,b=i<r,S=b?i:r,_=b?r:i;o=(_-S)/Math.max(1,y-m+h*2),u&&(o=Math.floor(o)),S+=(_-S-o*(y-m))*g,l=o*(1-m),u&&(S=Math.round(S),l=Math.round(l));var j=C8(y).map(function(O){return S+o*O});return n(b?j.reverse():j)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(y){return arguments.length?(u=!!y,p()):u},e.padding=function(y){return arguments.length?(m=Math.min(1,h=+y),p()):m},e.paddingInner=function(y){return arguments.length?(m=Math.min(1,y),p()):m},e.paddingOuter=function(y){return arguments.length?(h=+y,p()):h},e.align=function(y){return arguments.length?(g=Math.max(0,Math.min(1,y)),p()):g},e.copy=function(){return ny(t(),[r,i]).round(u).paddingInner(m).paddingOuter(h).align(g)},vr.apply(p(),arguments)}function QT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QT(t())},e}function D8(){return QT(ny.apply(null,arguments).paddingInner(1))}function ry(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function eC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function yc(){}var rc=.7,Gd=1/rc,oo="\\s*([+-]?\\d+)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ir="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P8=/^#([0-9a-f]{3,8})$/,k8=new RegExp(`^rgb\\(${oo},${oo},${oo}\\)$`),R8=new RegExp(`^rgb\\(${Ir},${Ir},${Ir}\\)$`),M8=new RegExp(`^rgba\\(${oo},${oo},${oo},${ac}\\)$`),I8=new RegExp(`^rgba\\(${Ir},${Ir},${Ir},${ac}\\)$`),L8=new RegExp(`^hsl\\(${ac},${Ir},${Ir}\\)$`),B8=new RegExp(`^hsla\\(${ac},${Ir},${Ir},${ac}\\)$`),gO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ry(yc,ic,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pO,formatHex:pO,formatHex8:U8,formatHsl:$8,formatRgb:vO,toString:vO});function pO(){return this.rgb().formatHex()}function U8(){return this.rgb().formatHex8()}function $8(){return tC(this).formatHsl()}function vO(){return this.rgb().formatRgb()}function ic(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=P8.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?yO(t):n===3?new Tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=k8.exec(e))?new Tn(t[1],t[2],t[3],1):(t=R8.exec(e))?new Tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M8.exec(e))?dd(t[1],t[2],t[3],t[4]):(t=I8.exec(e))?dd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L8.exec(e))?wO(t[1],t[2]/100,t[3]/100,1):(t=B8.exec(e))?wO(t[1],t[2]/100,t[3]/100,t[4]):gO.hasOwnProperty(e)?yO(gO[e]):e==="transparent"?new Tn(NaN,NaN,NaN,0):null}function yO(e){return new Tn(e>>16&255,e>>8&255,e&255,1)}function dd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Tn(e,t,n,r)}function z8(e){return e instanceof yc||(e=ic(e)),e?(e=e.rgb(),new Tn(e.r,e.g,e.b,e.opacity)):new Tn}function Zv(e,t,n,r){return arguments.length===1?z8(e):new Tn(e,t,n,r??1)}function Tn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ry(Tn,Zv,eC(yc,{brighter(e){return e=e==null?Gd:Math.pow(Gd,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rc:Math.pow(rc,e),new Tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tn(Xi(this.r),Xi(this.g),Xi(this.b),Fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bO,formatHex:bO,formatHex8:q8,formatRgb:xO,toString:xO}));function bO(){return`#${qi(this.r)}${qi(this.g)}${qi(this.b)}`}function q8(){return`#${qi(this.r)}${qi(this.g)}${qi(this.b)}${qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function xO(){const e=Fd(this.opacity);return`${e===1?"rgb(":"rgba("}${Xi(this.r)}, ${Xi(this.g)}, ${Xi(this.b)}${e===1?")":`, ${e})`}`}function Fd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qi(e){return e=Xi(e),(e<16?"0":"")+e.toString(16)}function wO(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Or(e,t,n,r)}function tC(e){if(e instanceof Or)return new Or(e.h,e.s,e.l,e.opacity);if(e instanceof yc||(e=ic(e)),!e)return new Or;if(e instanceof Or)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,m=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=m<.5?o+i:2-o-i,l*=60):u=m>0&&m<1?0:l,new Or(l,u,m,e.opacity)}function K8(e,t,n,r){return arguments.length===1?tC(e):new Or(e,t,n,r??1)}function Or(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ry(Or,K8,eC(yc,{brighter(e){return e=e==null?Gd:Math.pow(Gd,e),new Or(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rc:Math.pow(rc,e),new Or(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Tn($p(e>=240?e-240:e+120,i,r),$p(e,i,r),$p(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Or(_O(this.h),fd(this.s),fd(this.l),Fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fd(this.opacity);return`${e===1?"hsl(":"hsla("}${_O(this.h)}, ${fd(this.s)*100}%, ${fd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _O(e){return e=(e||0)%360,e<0?e+360:e}function fd(e){return Math.max(0,Math.min(1,e||0))}function $p(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const ay=e=>()=>e;function H8(e,t){return function(n){return e+n*t}}function G8(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function F8(e){return(e=+e)==1?nC:function(t,n){return n-t?G8(t,n,e):ay(isNaN(t)?n:t)}}function nC(e,t){var n=t-e;return n?H8(e,n):ay(isNaN(e)?t:e)}const SO=(function e(t){var n=F8(t);function r(i,o){var l=n((i=Zv(i)).r,(o=Zv(o)).r),u=n(i.g,o.g),m=n(i.b,o.b),h=nC(i.opacity,o.opacity);return function(g){return i.r=l(g),i.g=u(g),i.b=m(g),i.opacity=h(g),i+""}}return r.gamma=e,r})(1);function V8(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function Y8(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function W8(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=jo(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function X8(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Vd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function J8(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=jo(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Qv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zp=new RegExp(Qv.source,"g");function Z8(e){return function(){return e}}function Q8(e){return function(t){return e(t)+""}}function e$(e,t){var n=Qv.lastIndex=zp.lastIndex=0,r,i,o,l=-1,u=[],m=[];for(e=e+"",t=t+"";(r=Qv.exec(e))&&(i=zp.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,m.push({i:l,x:Vd(r,i)})),n=zp.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?m[0]?Q8(m[0].x):Z8(t):(t=m.length,function(h){for(var g=0,p;g<t;++g)u[(p=m[g]).i]=p.x(h);return u.join("")})}function jo(e,t){var n=typeof t,r;return t==null||n==="boolean"?ay(t):(n==="number"?Vd:n==="string"?(r=ic(t))?(t=r,SO):e$:t instanceof ic?SO:t instanceof Date?X8:Y8(t)?V8:Array.isArray(t)?W8:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?J8:Vd)(e,t)}function iy(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function t$(e,t){t===void 0&&(t=e,e=jo);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function n$(e){return function(){return e}}function Yd(e){return+e}var jO=[0,1];function yn(e){return e}function e0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:n$(isNaN(t)?NaN:.5)}function r$(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function a$(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=e0(i,r),o=n(l,o)):(r=e0(r,i),o=n(o,l)),function(u){return o(r(u))}}function i$(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=e0(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var m=vc(e,u,1,r)-1;return o[m](i[m](u))}}function bc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mf(){var e=jO,t=jO,n=jo,r,i,o,l=yn,u,m,h;function g(){var y=Math.min(e.length,t.length);return l!==yn&&(l=r$(e[0],e[y-1])),u=y>2?i$:a$,m=h=null,p}function p(y){return y==null||isNaN(y=+y)?o:(m||(m=u(e.map(r),t,n)))(r(l(y)))}return p.invert=function(y){return l(i((h||(h=u(t,e.map(r),Vd)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,Yd),g()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),g()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=iy,g()},p.clamp=function(y){return arguments.length?(l=y?!0:yn,g()):l!==yn},p.interpolate=function(y){return arguments.length?(n=y,g()):n},p.unknown=function(y){return arguments.length?(o=y,p):o},function(y,b){return r=y,i=b,g()}}function sy(){return Mf()(yn,yn)}function s$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function go(e){return e=Wd(Math.abs(e)),e?e[1]:NaN}function o$(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],m=0;i>0&&u>0&&(m+u+1>r&&(u=Math.max(1,r-m)),o.push(n.substring(i-=u,i+u)),!((m+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function l$(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var c$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sc(e){if(!(t=c$.exec(e)))throw new Error("invalid format: "+e);var t;return new oy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sc.prototype=oy.prototype;function oy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}oy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u$(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var rC;function d$(e,t){var n=Wd(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(rC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wd(e,Math.max(0,t+o-1))[0]}function EO(e,t){var n=Wd(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const OO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:s$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>EO(e*100,t),r:EO,s:d$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AO(e){return e}var NO=Array.prototype.map,TO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function f$(e){var t=e.grouping===void 0||e.thousands===void 0?AO:o$(NO.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?AO:l$(NO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(p){p=sc(p);var y=p.fill,b=p.align,S=p.sign,_=p.symbol,j=p.zero,O=p.width,A=p.comma,T=p.precision,P=p.trim,N=p.type;N==="n"?(A=!0,N="g"):OO[N]||(T===void 0&&(T=12),P=!0,N="g"),(j||y==="0"&&b==="=")&&(j=!0,y="0",b="=");var C=_==="$"?n:_==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=_==="$"?r:/[%p]/.test(N)?l:"",z=OO[N],V=/[defgprs%]/.test(N);T=T===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function ie(ee){var I=C,q=k,W,Q,B;if(N==="c")q=z(ee)+q,ee="";else{ee=+ee;var K=ee<0||1/ee<0;if(ee=isNaN(ee)?m:z(Math.abs(ee),T),P&&(ee=u$(ee)),K&&+ee==0&&S!=="+"&&(K=!1),I=(K?S==="("?S:u:S==="-"||S==="("?"":S)+I,q=(N==="s"?TO[8+rC/3]:"")+q+(K&&S==="("?")":""),V){for(W=-1,Q=ee.length;++W<Q;)if(B=ee.charCodeAt(W),48>B||B>57){q=(B===46?i+ee.slice(W+1):ee.slice(W))+q,ee=ee.slice(0,W);break}}}A&&!j&&(ee=t(ee,1/0));var oe=I.length+ee.length+q.length,ue=oe<O?new Array(O-oe+1).join(y):"";switch(A&&j&&(ee=t(ue+ee,ue.length?O-q.length:1/0),ue=""),b){case"<":ee=I+ee+q+ue;break;case"=":ee=I+ue+ee+q;break;case"^":ee=ue.slice(0,oe=ue.length>>1)+I+ee+q+ue.slice(oe);break;default:ee=ue+I+ee+q;break}return o(ee)}return ie.toString=function(){return p+""},ie}function g(p,y){var b=h((p=sc(p),p.type="f",p)),S=Math.max(-8,Math.min(8,Math.floor(go(y)/3)))*3,_=Math.pow(10,-S),j=TO[8+S/3];return function(O){return b(_*O)+j}}return{format:h,formatPrefix:g}}var hd,ly,aC;h$({thousands:",",grouping:[3],currency:["$",""]});function h$(e){return hd=f$(e),ly=hd.format,aC=hd.formatPrefix,hd}function m$(e){return Math.max(0,-go(Math.abs(e)))}function g$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(go(t)/3)))*3-go(Math.abs(e)))}function p$(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,go(t)-go(e))+1}function iC(e,t,n,r){var i=Xv(e,t,n),o;switch(r=sc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=g$(i,l))&&(r.precision=o),aC(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=p$(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=m$(i))&&(r.precision=o-(r.type==="%")*2);break}}return ly(r)}function di(e){var t=e.domain;return e.ticks=function(n){var r=t();return Yv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return iC(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],m,h,g=10;for(u<l&&(h=l,l=u,u=h,h=i,i=o,o=h);g-- >0;){if(h=Wv(l,u,n),h===m)return r[i]=l,r[o]=u,t(r);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;m=h}return e},e}function sC(){var e=sy();return e.copy=function(){return bc(e,sC())},vr.apply(e,arguments),di(e)}function oC(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Yd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return oC(e).unknown(t)},e=arguments.length?Array.from(e,Yd):[0,1],di(n)}function lC(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function CO(e){return Math.log(e)}function DO(e){return Math.exp(e)}function v$(e){return-Math.log(-e)}function y$(e){return-Math.exp(-e)}function b$(e){return isFinite(e)?+("1e"+e):e<0?0:e}function x$(e){return e===10?b$:e===Math.E?Math.exp:t=>Math.pow(e,t)}function w$(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PO(e){return(t,n)=>-e(-t,n)}function cy(e){const t=e(CO,DO),n=t.domain;let r=10,i,o;function l(){return i=w$(r),o=x$(r),n()[0]<0?(i=PO(i),o=PO(o),e(v$,y$)):e(CO,DO),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const m=n();let h=m[0],g=m[m.length-1];const p=g<h;p&&([h,g]=[g,h]);let y=i(h),b=i(g),S,_;const j=u==null?10:+u;let O=[];if(!(r%1)&&b-y<j){if(y=Math.floor(y),b=Math.ceil(b),h>0){for(;y<=b;++y)for(S=1;S<r;++S)if(_=y<0?S/o(-y):S*o(y),!(_<h)){if(_>g)break;O.push(_)}}else for(;y<=b;++y)for(S=r-1;S>=1;--S)if(_=y>0?S/o(-y):S*o(y),!(_<h)){if(_>g)break;O.push(_)}O.length*2<j&&(O=Yv(h,g,j))}else O=Yv(y,b,Math.min(b-y,j)).map(o);return p?O.reverse():O},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=sc(m)).precision==null&&(m.trim=!0),m=ly(m)),u===1/0)return m;const h=Math.max(1,r*u/t.ticks().length);return g=>{let p=g/o(Math.round(i(g)));return p*r<r-.5&&(p*=r),p<=h?m(g):""}},t.nice=()=>n(lC(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function cC(){const e=cy(Mf()).domain([1,10]);return e.copy=()=>bc(e,cC()).base(e.base()),vr.apply(e,arguments),e}function kO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function uy(e){var t=1,n=e(kO(t),RO(t));return n.constant=function(r){return arguments.length?e(kO(t=+r),RO(t)):t},di(n)}function uC(){var e=uy(Mf());return e.copy=function(){return bc(e,uC()).constant(e.constant())},vr.apply(e,arguments)}function MO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _$(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function S$(e){return e<0?-e*e:e*e}function dy(e){var t=e(yn,yn),n=1;function r(){return n===1?e(yn,yn):n===.5?e(_$,S$):e(MO(n),MO(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},di(t)}function fy(){var e=dy(Mf());return e.copy=function(){return bc(e,fy()).exponent(e.exponent())},vr.apply(e,arguments),e}function j$(){return fy.apply(null,arguments).exponent(.5)}function IO(e){return Math.sign(e)*e*e}function E$(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dC(){var e=sy(),t=[0,1],n=!1,r;function i(o){var l=E$(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(IO(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Yd)).map(IO)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return dC(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},vr.apply(i,arguments),di(i)}function fC(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=T8(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[vc(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(ni),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return fC().domain(e).range(t).unknown(r)},vr.apply(o,arguments)}function hC(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(m){return m!=null&&m<=m?i[vc(r,m,0,n)]:o}function u(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*t-(m-n)*e)/(n+1);return l}return l.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},l.range=function(m){return arguments.length?(n=(i=Array.from(m)).length-1,u()):i.slice()},l.invertExtent=function(m){var h=i.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(m){return arguments.length&&(o=m),l},l.thresholds=function(){return r.slice()},l.copy=function(){return hC().domain([e,t]).range(i).unknown(o)},vr.apply(di(l),arguments)}function mC(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[vc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return mC().domain(e).range(t).unknown(n)},vr.apply(i,arguments)}const qp=new Date,Kp=new Date;function Ut(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const m=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return m;let h;do m.push(h=new Date(+o)),t(o,u),e(o);while(h<o&&o<l);return m},i.filter=o=>Ut(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(qp.setTime(+o),Kp.setTime(+l),e(qp),e(Kp),Math.floor(n(qp,Kp))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Xd=Ut(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ut(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Xd);Xd.range;const oa=1e3,hr=oa*60,la=hr*60,ma=la*24,hy=ma*7,LO=ma*30,Hp=ma*365,Ki=Ut(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*oa)},(e,t)=>(t-e)/oa,e=>e.getUTCSeconds());Ki.range;const my=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oa)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getMinutes());my.range;const gy=Ut(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hr)},(e,t)=>(t-e)/hr,e=>e.getUTCMinutes());gy.range;const py=Ut(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*oa-e.getMinutes()*hr)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getHours());py.range;const vy=Ut(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*la)},(e,t)=>(t-e)/la,e=>e.getUTCHours());vy.range;const xc=Ut(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hr)/ma,e=>e.getDate()-1);xc.range;const If=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ma,e=>e.getUTCDate()-1);If.range;const gC=Ut(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ma,e=>Math.floor(e/ma));gC.range;function cs(e){return Ut(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*hr)/hy)}const Lf=cs(0),Jd=cs(1),O$=cs(2),A$=cs(3),po=cs(4),N$=cs(5),T$=cs(6);Lf.range;Jd.range;O$.range;A$.range;po.range;N$.range;T$.range;function us(e){return Ut(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/hy)}const Bf=us(0),Zd=us(1),C$=us(2),D$=us(3),vo=us(4),P$=us(5),k$=us(6);Bf.range;Zd.range;C$.range;D$.range;vo.range;P$.range;k$.range;const yy=Ut(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yy.range;const by=Ut(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());by.range;const ga=Ut(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ga.range;const pa=Ut(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());pa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ut(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});pa.range;function pC(e,t,n,r,i,o){const l=[[Ki,1,oa],[Ki,5,5*oa],[Ki,15,15*oa],[Ki,30,30*oa],[o,1,hr],[o,5,5*hr],[o,15,15*hr],[o,30,30*hr],[i,1,la],[i,3,3*la],[i,6,6*la],[i,12,12*la],[r,1,ma],[r,2,2*ma],[n,1,hy],[t,1,LO],[t,3,3*LO],[e,1,Hp]];function u(h,g,p){const y=g<h;y&&([h,g]=[g,h]);const b=p&&typeof p.range=="function"?p:m(h,g,p),S=b?b.range(h,+g+1):[];return y?S.reverse():S}function m(h,g,p){const y=Math.abs(g-h)/p,b=ey(([,,j])=>j).right(l,y);if(b===l.length)return e.every(Xv(h/Hp,g/Hp,p));if(b===0)return Xd.every(Math.max(Xv(h,g,p),1));const[S,_]=l[y/l[b-1][2]<l[b][2]/y?b-1:b];return S.every(_)}return[u,m]}const[R$,M$]=pC(pa,by,Bf,gC,vy,gy),[I$,L$]=pC(ga,yy,Lf,xc,py,my);function Gp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Rl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function B$(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,m=e.shortMonths,h=Ml(i),g=Il(i),p=Ml(o),y=Il(o),b=Ml(l),S=Il(l),_=Ml(u),j=Il(u),O=Ml(m),A=Il(m),T={a:K,A:oe,b:ue,B:J,c:null,d:KO,e:KO,f:oz,g:vz,G:bz,H:az,I:iz,j:sz,L:vC,m:lz,M:cz,p:R,q:L,Q:FO,s:VO,S:uz,u:dz,U:fz,V:hz,w:mz,W:gz,x:null,X:null,y:pz,Y:yz,Z:xz,"%":GO},P={a:re,A:le,b:ce,B:xe,c:null,d:HO,e:HO,f:jz,g:Rz,G:Iz,H:wz,I:_z,j:Sz,L:bC,m:Ez,M:Oz,p:de,q:ye,Q:FO,s:VO,S:Az,u:Nz,U:Tz,V:Cz,w:Dz,W:Pz,x:null,X:null,y:kz,Y:Mz,Z:Lz,"%":GO},N={a:ie,A:ee,b:I,B:q,c:W,d:zO,e:zO,f:ez,g:$O,G:UO,H:qO,I:qO,j:X$,L:Q$,m:W$,M:J$,p:V,q:Y$,Q:nz,s:rz,S:Z$,u:K$,U:H$,V:G$,w:q$,W:F$,x:Q,X:B,y:$O,Y:UO,Z:V$,"%":tz};T.x=C(n,T),T.X=C(r,T),T.c=C(t,T),P.x=C(n,P),P.X=C(r,P),P.c=C(t,P);function C(X,we){return function(je){var se=[],Fe=-1,me=0,be=X.length,Ce,Ge,qt;for(je instanceof Date||(je=new Date(+je));++Fe<be;)X.charCodeAt(Fe)===37&&(se.push(X.slice(me,Fe)),(Ge=BO[Ce=X.charAt(++Fe)])!=null?Ce=X.charAt(++Fe):Ge=Ce==="e"?" ":"0",(qt=we[Ce])&&(Ce=qt(je,Ge)),se.push(Ce),me=Fe+1);return se.push(X.slice(me,Fe)),se.join("")}}function k(X,we){return function(je){var se=Rl(1900,void 0,1),Fe=z(se,X,je+="",0),me,be;if(Fe!=je.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(we&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(me=Fp(Rl(se.y,0,1)),be=me.getUTCDay(),me=be>4||be===0?Zd.ceil(me):Zd(me),me=If.offset(me,(se.V-1)*7),se.y=me.getUTCFullYear(),se.m=me.getUTCMonth(),se.d=me.getUTCDate()+(se.w+6)%7):(me=Gp(Rl(se.y,0,1)),be=me.getDay(),me=be>4||be===0?Jd.ceil(me):Jd(me),me=xc.offset(me,(se.V-1)*7),se.y=me.getFullYear(),se.m=me.getMonth(),se.d=me.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),be="Z"in se?Fp(Rl(se.y,0,1)).getUTCDay():Gp(Rl(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(be+5)%7:se.w+se.U*7-(be+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Fp(se)):Gp(se)}}function z(X,we,je,se){for(var Fe=0,me=we.length,be=je.length,Ce,Ge;Fe<me;){if(se>=be)return-1;if(Ce=we.charCodeAt(Fe++),Ce===37){if(Ce=we.charAt(Fe++),Ge=N[Ce in BO?we.charAt(Fe++):Ce],!Ge||(se=Ge(X,je,se))<0)return-1}else if(Ce!=je.charCodeAt(se++))return-1}return se}function V(X,we,je){var se=h.exec(we.slice(je));return se?(X.p=g.get(se[0].toLowerCase()),je+se[0].length):-1}function ie(X,we,je){var se=b.exec(we.slice(je));return se?(X.w=S.get(se[0].toLowerCase()),je+se[0].length):-1}function ee(X,we,je){var se=p.exec(we.slice(je));return se?(X.w=y.get(se[0].toLowerCase()),je+se[0].length):-1}function I(X,we,je){var se=O.exec(we.slice(je));return se?(X.m=A.get(se[0].toLowerCase()),je+se[0].length):-1}function q(X,we,je){var se=_.exec(we.slice(je));return se?(X.m=j.get(se[0].toLowerCase()),je+se[0].length):-1}function W(X,we,je){return z(X,t,we,je)}function Q(X,we,je){return z(X,n,we,je)}function B(X,we,je){return z(X,r,we,je)}function K(X){return l[X.getDay()]}function oe(X){return o[X.getDay()]}function ue(X){return m[X.getMonth()]}function J(X){return u[X.getMonth()]}function R(X){return i[+(X.getHours()>=12)]}function L(X){return 1+~~(X.getMonth()/3)}function re(X){return l[X.getUTCDay()]}function le(X){return o[X.getUTCDay()]}function ce(X){return m[X.getUTCMonth()]}function xe(X){return u[X.getUTCMonth()]}function de(X){return i[+(X.getUTCHours()>=12)]}function ye(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var we=C(X+="",T);return we.toString=function(){return X},we},parse:function(X){var we=k(X+="",!1);return we.toString=function(){return X},we},utcFormat:function(X){var we=C(X+="",P);return we.toString=function(){return X},we},utcParse:function(X){var we=k(X+="",!0);return we.toString=function(){return X},we}}}var BO={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,U$=/^%/,$$=/[\\^$*+?|[\]().{}]/g;function Ke(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function z$(e){return e.replace($$,"\\$&")}function Ml(e){return new RegExp("^(?:"+e.map(z$).join("|")+")","i")}function Il(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function q$(e,t,n){var r=Vt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function K$(e,t,n){var r=Vt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function H$(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function G$(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function F$(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function UO(e,t,n){var r=Vt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $O(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function V$(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Y$(e,t,n){var r=Vt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function W$(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function zO(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function X$(e,t,n){var r=Vt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function qO(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function J$(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Z$(e,t,n){var r=Vt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Q$(e,t,n){var r=Vt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ez(e,t,n){var r=Vt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tz(e,t,n){var r=U$.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function nz(e,t,n){var r=Vt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function rz(e,t,n){var r=Vt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function KO(e,t){return Ke(e.getDate(),t,2)}function az(e,t){return Ke(e.getHours(),t,2)}function iz(e,t){return Ke(e.getHours()%12||12,t,2)}function sz(e,t){return Ke(1+xc.count(ga(e),e),t,3)}function vC(e,t){return Ke(e.getMilliseconds(),t,3)}function oz(e,t){return vC(e,t)+"000"}function lz(e,t){return Ke(e.getMonth()+1,t,2)}function cz(e,t){return Ke(e.getMinutes(),t,2)}function uz(e,t){return Ke(e.getSeconds(),t,2)}function dz(e){var t=e.getDay();return t===0?7:t}function fz(e,t){return Ke(Lf.count(ga(e)-1,e),t,2)}function yC(e){var t=e.getDay();return t>=4||t===0?po(e):po.ceil(e)}function hz(e,t){return e=yC(e),Ke(po.count(ga(e),e)+(ga(e).getDay()===4),t,2)}function mz(e){return e.getDay()}function gz(e,t){return Ke(Jd.count(ga(e)-1,e),t,2)}function pz(e,t){return Ke(e.getFullYear()%100,t,2)}function vz(e,t){return e=yC(e),Ke(e.getFullYear()%100,t,2)}function yz(e,t){return Ke(e.getFullYear()%1e4,t,4)}function bz(e,t){var n=e.getDay();return e=n>=4||n===0?po(e):po.ceil(e),Ke(e.getFullYear()%1e4,t,4)}function xz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ke(t/60|0,"0",2)+Ke(t%60,"0",2)}function HO(e,t){return Ke(e.getUTCDate(),t,2)}function wz(e,t){return Ke(e.getUTCHours(),t,2)}function _z(e,t){return Ke(e.getUTCHours()%12||12,t,2)}function Sz(e,t){return Ke(1+If.count(pa(e),e),t,3)}function bC(e,t){return Ke(e.getUTCMilliseconds(),t,3)}function jz(e,t){return bC(e,t)+"000"}function Ez(e,t){return Ke(e.getUTCMonth()+1,t,2)}function Oz(e,t){return Ke(e.getUTCMinutes(),t,2)}function Az(e,t){return Ke(e.getUTCSeconds(),t,2)}function Nz(e){var t=e.getUTCDay();return t===0?7:t}function Tz(e,t){return Ke(Bf.count(pa(e)-1,e),t,2)}function xC(e){var t=e.getUTCDay();return t>=4||t===0?vo(e):vo.ceil(e)}function Cz(e,t){return e=xC(e),Ke(vo.count(pa(e),e)+(pa(e).getUTCDay()===4),t,2)}function Dz(e){return e.getUTCDay()}function Pz(e,t){return Ke(Zd.count(pa(e)-1,e),t,2)}function kz(e,t){return Ke(e.getUTCFullYear()%100,t,2)}function Rz(e,t){return e=xC(e),Ke(e.getUTCFullYear()%100,t,2)}function Mz(e,t){return Ke(e.getUTCFullYear()%1e4,t,4)}function Iz(e,t){var n=e.getUTCDay();return e=n>=4||n===0?vo(e):vo.ceil(e),Ke(e.getUTCFullYear()%1e4,t,4)}function Lz(){return"+0000"}function GO(){return"%"}function FO(e){return+e}function VO(e){return Math.floor(+e/1e3)}var eo,wC,_C;Bz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Bz(e){return eo=B$(e),wC=eo.format,eo.parse,_C=eo.utcFormat,eo.utcParse,eo}function Uz(e){return new Date(e)}function $z(e){return e instanceof Date?+e:+new Date(+e)}function xy(e,t,n,r,i,o,l,u,m,h){var g=sy(),p=g.invert,y=g.domain,b=h(".%L"),S=h(":%S"),_=h("%I:%M"),j=h("%I %p"),O=h("%a %d"),A=h("%b %d"),T=h("%B"),P=h("%Y");function N(C){return(m(C)<C?b:u(C)<C?S:l(C)<C?_:o(C)<C?j:r(C)<C?i(C)<C?O:A:n(C)<C?T:P)(C)}return g.invert=function(C){return new Date(p(C))},g.domain=function(C){return arguments.length?y(Array.from(C,$z)):y().map(Uz)},g.ticks=function(C){var k=y();return e(k[0],k[k.length-1],C??10)},g.tickFormat=function(C,k){return k==null?N:h(k)},g.nice=function(C){var k=y();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?y(lC(k,C)):g},g.copy=function(){return bc(g,xy(e,t,n,r,i,o,l,u,m,h))},g}function zz(){return vr.apply(xy(I$,L$,ga,yy,Lf,xc,py,my,Ki,wC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qz(){return vr.apply(xy(R$,M$,pa,by,Bf,If,vy,gy,Ki,_C).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Uf(){var e=0,t=1,n,r,i,o,l=yn,u=!1,m;function h(p){return p==null||isNaN(p=+p)?m:l(i===0?.5:(p=(o(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t]=p,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(l=p,h):l};function g(p){return function(y){var b,S;return arguments.length?([b,S]=y,l=p(b,S),h):[l(0),l(1)]}}return h.range=g(jo),h.rangeRound=g(iy),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return o=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),h}}function fi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SC(){var e=di(Uf()(yn));return e.copy=function(){return fi(e,SC())},ba.apply(e,arguments)}function jC(){var e=cy(Uf()).domain([1,10]);return e.copy=function(){return fi(e,jC()).base(e.base())},ba.apply(e,arguments)}function EC(){var e=uy(Uf());return e.copy=function(){return fi(e,EC()).constant(e.constant())},ba.apply(e,arguments)}function wy(){var e=dy(Uf());return e.copy=function(){return fi(e,wy()).exponent(e.exponent())},ba.apply(e,arguments)}function Kz(){return wy.apply(null,arguments).exponent(.5)}function OC(){var e=[],t=yn;function n(r){if(r!=null&&!isNaN(r=+r))return t((vc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ni),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>N8(e,o/r))},n.copy=function(){return OC(t).domain(e)},ba.apply(n,arguments)}function $f(){var e=0,t=.5,n=1,r=1,i,o,l,u,m,h=yn,g,p=!1,y;function b(_){return isNaN(_=+_)?y:(_=.5+((_=+g(_))-o)*(r*_<r*o?u:m),h(p?Math.max(0,Math.min(1,_)):_))}b.domain=function(_){return arguments.length?([e,t,n]=_,i=g(e=+e),o=g(t=+t),l=g(n=+n),u=i===o?0:.5/(o-i),m=o===l?0:.5/(l-o),r=o<i?-1:1,b):[e,t,n]},b.clamp=function(_){return arguments.length?(p=!!_,b):p},b.interpolator=function(_){return arguments.length?(h=_,b):h};function S(_){return function(j){var O,A,T;return arguments.length?([O,A,T]=j,h=t$(_,[O,A,T]),b):[h(0),h(.5),h(1)]}}return b.range=S(jo),b.rangeRound=S(iy),b.unknown=function(_){return arguments.length?(y=_,b):y},function(_){return g=_,i=_(e),o=_(t),l=_(n),u=i===o?0:.5/(o-i),m=o===l?0:.5/(l-o),r=o<i?-1:1,b}}function AC(){var e=di($f()(yn));return e.copy=function(){return fi(e,AC())},ba.apply(e,arguments)}function NC(){var e=cy($f()).domain([.1,1,10]);return e.copy=function(){return fi(e,NC()).base(e.base())},ba.apply(e,arguments)}function TC(){var e=uy($f());return e.copy=function(){return fi(e,TC()).constant(e.constant())},ba.apply(e,arguments)}function _y(){var e=dy($f());return e.copy=function(){return fi(e,_y()).exponent(e.exponent())},ba.apply(e,arguments)}function Hz(){return _y.apply(null,arguments).exponent(.5)}const zl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ny,scaleDiverging:AC,scaleDivergingLog:NC,scaleDivergingPow:_y,scaleDivergingSqrt:Hz,scaleDivergingSymlog:TC,scaleIdentity:oC,scaleImplicit:Jv,scaleLinear:sC,scaleLog:cC,scaleOrdinal:ty,scalePoint:D8,scalePow:fy,scaleQuantile:fC,scaleQuantize:hC,scaleRadial:dC,scaleSequential:SC,scaleSequentialLog:jC,scaleSequentialPow:wy,scaleSequentialQuantile:OC,scaleSequentialSqrt:Kz,scaleSequentialSymlog:EC,scaleSqrt:j$,scaleSymlog:uC,scaleThreshold:mC,scaleTime:zz,scaleUtc:qz,tickFormat:iC},Symbol.toStringTag,{value:"Module"}));var hi=e=>e.chartData,Sy=F([hi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),zf=(e,t,n,r)=>r?Sy(e):hi(e);function ns(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(fn(t)&&fn(n))return!0}return!1}function YO(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function CC(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(fn(n))i=n;else if(typeof n=="function")return;if(fn(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(ns(l))return l}}function Gz(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(ns(r))return YO(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(_e(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&DE.test(i)){var m=DE.exec(i);if(m==null||t==null)l=void 0;else{var h=+m[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(_e(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&PE.test(o)){var g=PE.exec(o);if(g==null||t==null)u=void 0;else{var p=+g[1];u=t[1]+p}}else u=t==null?void 0:t[1];var y=[l,u];if(ns(y))return t==null?y:YO(y,t,n)}}}var Eo=1e9,Fz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Ey,ft=!0,pr="[DecimalError] ",Ji=pr+"Invalid argument: ",jy=pr+"Exponent out of range: ",Oo=Math.floor,Bi=Math.pow,Vz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fn,Gt=1e7,ct=7,DC=9007199254740991,Qd=Oo(DC/ct),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ct;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(e){return da(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,n=t.constructor;return rt(da(t,new n(e),0,1),n.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return Pt(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Fn))throw Error(pr+"NaN");if(n.s<1)throw Error(pr+(n.s?"NaN":"-Infinity"));return n.eq(Fn)?new r(0):(ft=!1,t=da(oc(n,o),oc(e,o),o),ft=!0,rt(t,i))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RC(t,e):PC(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(pr+"NaN");return n.s?(ft=!1,t=da(n,e,0,1).times(e),ft=!0,n.minus(t)):rt(new r(n),i)};fe.naturalExponential=fe.exp=function(){return kC(this)};fe.naturalLogarithm=fe.ln=function(){return oc(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PC(t,e):RC(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ji+e);if(t=Pt(i)+1,r=i.d.length-1,n=r*ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};fe.squareRoot=fe.sqrt=function(){var e,t,n,r,i,o,l,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(pr+"NaN")}for(e=Pt(u),ft=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Mr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Oo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(i.toString()),n=m.precision,i=l=n+3;;)if(o=r,r=o.plus(da(u,o,l+2)).times(.5),Mr(o.d).slice(0,l)===(t=Mr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(rt(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return ft=!0,rt(r,n)};fe.times=fe.mul=function(e){var t,n,r,i,o,l,u,m,h,g=this,p=g.constructor,y=g.d,b=(e=new p(e)).d;if(!g.s||!e.s)return new p(0);for(e.s*=g.s,n=g.e+e.e,m=y.length,h=b.length,m<h&&(o=y,y=b,b=o,l=m,m=h,h=l),o=[],l=m+h,r=l;r--;)o.push(0);for(r=h;--r>=0;){for(t=0,i=m+r;i>r;)u=o[i]+b[r]*y[i-r-1]+t,o[i--]=u%Gt|0,t=u/Gt|0;o[i]=(o[i]+t)%Gt|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,ft?rt(e,p.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Br(e,0,Eo),t===void 0?t=r.rounding:Br(t,0,8),rt(n,e+Pt(n)+1,t))};fe.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=rs(r,!0):(Br(e,0,Eo),t===void 0?t=i.rounding:Br(t,0,8),r=rt(new i(r),e+1,t),n=rs(r,!0,e+1)),n};fe.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?rs(i):(Br(e,0,Eo),t===void 0?t=o.rounding:Br(t,0,8),r=rt(new o(i),e+Pt(i)+1,t),n=rs(r.abs(),!1,e+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return rt(new t(e),Pt(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,n,r,i,o,l,u=this,m=u.constructor,h=12,g=+(e=new m(e));if(!e.s)return new m(Fn);if(u=new m(u),!u.s){if(e.s<1)throw Error(pr+"Infinity");return u}if(u.eq(Fn))return u;if(r=m.precision,e.eq(Fn))return rt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=g<0?-g:g)<=DC){for(i=new m(Fn),t=Math.ceil(r/ct+4),ft=!1;n%2&&(i=i.times(u),XO(i.d,t)),n=Oo(n/2),n!==0;)u=u.times(u),XO(u.d,t);return ft=!0,e.s<0?new m(Fn).div(i):rt(i,r)}}else if(o<0)throw Error(pr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,ft=!1,i=e.times(oc(u,r+h)),ft=!0,i=kC(i),i.s=o,i};fe.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Pt(i),r=rs(i,n<=o.toExpNeg||n>=o.toExpPos)):(Br(e,1,Eo),t===void 0?t=o.rounding:Br(t,0,8),i=rt(new o(i),e,t),n=Pt(i),r=rs(i,e<=n||n<=o.toExpNeg,e)),r};fe.toSignificantDigits=fe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Br(e,1,Eo),t===void 0?t=r.rounding:Br(t,0,8)),rt(new r(n),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),n=e.constructor;return rs(e,t<=n.toExpNeg||t>=n.toExpPos)};function PC(e,t){var n,r,i,o,l,u,m,h,g=e.constructor,p=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),ft?rt(t,p):t;if(m=e.d,h=t.d,l=e.e,i=t.e,m=m.slice(),o=l-i,o){for(o<0?(r=m,o=-o,u=h.length):(r=h,i=l,u=m.length),l=Math.ceil(p/ct),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=m.length,o=h.length,u-o<0&&(o=u,r=h,h=m,m=r),n=0;o;)n=(m[--o]=m[o]+h[o]+n)/Gt|0,m[o]%=Gt;for(n&&(m.unshift(n),++i),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=i,ft?rt(t,p):t}function Br(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ji+e)}function Mr(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=ct-r.length,n&&(o+=Xa(n)),o+=r;l=e[t],r=l+"",n=ct-r.length,n&&(o+=Xa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var da=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Gt|0,l=o/Gt|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,m;if(o!=l)m=o>l?1:-1;else for(u=m=0;u<o;u++)if(r[u]!=i[u]){m=r[u]>i[u]?1:-1;break}return m}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Gt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,m,h,g,p,y,b,S,_,j,O,A,T,P,N,C,k,z,V=r.constructor,ie=r.s==i.s?1:-1,ee=r.d,I=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(pr+"Division by zero");for(m=r.e-i.e,k=I.length,N=ee.length,b=new V(ie),S=b.d=[],h=0;I[h]==(ee[h]||0);)++h;if(I[h]>(ee[h]||0)&&--m,o==null?A=o=V.precision:l?A=o+(Pt(r)-Pt(i))+1:A=o,A<0)return new V(0);if(A=A/ct+2|0,h=0,k==1)for(g=0,I=I[0],A++;(h<N||g)&&A--;h++)T=g*Gt+(ee[h]||0),S[h]=T/I|0,g=T%I|0;else{for(g=Gt/(I[0]+1)|0,g>1&&(I=e(I,g),ee=e(ee,g),k=I.length,N=ee.length),P=k,_=ee.slice(0,k),j=_.length;j<k;)_[j++]=0;z=I.slice(),z.unshift(0),C=I[0],I[1]>=Gt/2&&++C;do g=0,u=t(I,_,k,j),u<0?(O=_[0],k!=j&&(O=O*Gt+(_[1]||0)),g=O/C|0,g>1?(g>=Gt&&(g=Gt-1),p=e(I,g),y=p.length,j=_.length,u=t(p,_,y,j),u==1&&(g--,n(p,k<y?z:I,y))):(g==0&&(u=g=1),p=I.slice()),y=p.length,y<j&&p.unshift(0),n(_,p,j),u==-1&&(j=_.length,u=t(I,_,k,j),u<1&&(g++,n(_,k<j?z:I,j))),j=_.length):u===0&&(g++,_=[0]),S[h++]=g,u&&_[0]?_[j++]=ee[P]||0:(_=[ee[P]],j=1);while((P++<N||_[0]!==void 0)&&A--)}return S[0]||S.shift(),b.e=m,rt(b,l?o+Pt(b)+1:o)}})();function kC(e,t){var n,r,i,o,l,u,m=0,h=0,g=e.constructor,p=g.precision;if(Pt(e)>16)throw Error(jy+Pt(e));if(!e.s)return new g(Fn);for(ft=!1,u=p,l=new g(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(Bi(2,h))/Math.LN10*2+5|0,u+=r,n=i=o=new g(Fn),g.precision=u;;){if(i=rt(i.times(e),u),n=n.times(++m),l=o.plus(da(i,n,u)),Mr(l.d).slice(0,u)===Mr(o.d).slice(0,u)){for(;h--;)o=rt(o.times(o),u);return g.precision=p,t==null?(ft=!0,rt(o,p)):o}o=l}}function Pt(e){for(var t=e.e*ct,n=e.d[0];n>=10;n/=10)t++;return t}function Vp(e,t,n){if(t>e.LN10.sd())throw ft=!0,n&&(e.precision=n),Error(pr+"LN10 precision limit exceeded");return rt(new e(e.LN10),t)}function Xa(e){for(var t="";e--;)t+="0";return t}function oc(e,t){var n,r,i,o,l,u,m,h,g,p=1,y=10,b=e,S=b.d,_=b.constructor,j=_.precision;if(b.s<1)throw Error(pr+(b.s?"NaN":"-Infinity"));if(b.eq(Fn))return new _(0);if(t==null?(ft=!1,h=j):h=t,b.eq(10))return t==null&&(ft=!0),Vp(_,h);if(h+=y,_.precision=h,n=Mr(S),r=n.charAt(0),o=Pt(b),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=Mr(b.d),r=n.charAt(0),p++;o=Pt(b),r>1?(b=new _("0."+n),o++):b=new _(r+"."+n.slice(1))}else return m=Vp(_,h+2,j).times(o+""),b=oc(new _(r+"."+n.slice(1)),h-y).plus(m),_.precision=j,t==null?(ft=!0,rt(b,j)):b;for(u=l=b=da(b.minus(Fn),b.plus(Fn),h),g=rt(b.times(b),h),i=3;;){if(l=rt(l.times(g),h),m=u.plus(da(l,new _(i),h)),Mr(m.d).slice(0,h)===Mr(u.d).slice(0,h))return u=u.times(2),o!==0&&(u=u.plus(Vp(_,h+2,j).times(o+""))),u=da(u,new _(p),h),_.precision=j,t==null?(ft=!0,rt(u,j)):u;u=m,i+=2}}function WO(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Oo(n/ct),e.d=[],r=(n+1)%ct,n<0&&(r+=ct),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ct;r<i;)e.d.push(+t.slice(r,r+=ct));t=t.slice(r),r=ct-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ft&&(e.e>Qd||e.e<-Qd))throw Error(jy+n)}else e.s=0,e.e=0,e.d=[0];return e}function rt(e,t,n){var r,i,o,l,u,m,h,g,p=e.d;for(l=1,o=p[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=ct,i=t,h=p[g=0];else{if(g=Math.ceil((r+1)/ct),o=p.length,g>=o)return e;for(h=o=p[g],l=1;o>=10;o/=10)l++;r%=ct,i=r-ct+l}if(n!==void 0&&(o=Bi(10,l-i-1),u=h/o%10|0,m=t<0||p[g+1]!==void 0||h%o,m=n<4?(u||m)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||m||n==6&&(r>0?i>0?h/Bi(10,l-i):0:p[g-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return m?(o=Pt(e),p.length=1,t=t-o-1,p[0]=Bi(10,(ct-t%ct)%ct),e.e=Oo(-t/ct)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=g,o=1,g--):(p.length=g+1,o=Bi(10,ct-r),p[g]=i>0?(h/Bi(10,l-i)%Bi(10,i)|0)*o:0),m)for(;;)if(g==0){(p[0]+=o)==Gt&&(p[0]=1,++e.e);break}else{if(p[g]+=o,p[g]!=Gt)break;p[g--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(ft&&(e.e>Qd||e.e<-Qd))throw Error(jy+Pt(e));return e}function RC(e,t){var n,r,i,o,l,u,m,h,g,p,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),ft?rt(t,b):t;if(m=e.d,p=t.d,r=t.e,h=e.e,m=m.slice(),l=h-r,l){for(g=l<0,g?(n=m,l=-l,u=p.length):(n=p,r=h,u=m.length),i=Math.max(Math.ceil(b/ct),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=m.length,u=p.length,g=i<u,g&&(u=i),i=0;i<u;i++)if(m[i]!=p[i]){g=m[i]<p[i];break}l=0}for(g&&(n=m,m=p,p=n,t.s=-t.s),u=m.length,i=p.length-u;i>0;--i)m[u++]=0;for(i=p.length;i>l;){if(m[--i]<p[i]){for(o=i;o&&m[--o]===0;)m[o]=Gt-1;--m[o],m[i]+=Gt}m[i]-=p[i]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,ft?rt(t,b):t):new y(0)}function rs(e,t,n){var r,i=Pt(e),o=Mr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Xa(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Xa(-i-1)+o,n&&(r=n-l)>0&&(o+=Xa(r))):i>=l?(o+=Xa(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Xa(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Xa(r))),e.s<0?"-"+o:o}function XO(e,t){if(e.length>t)return e.length=t,!0}function MC(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ji+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return WO(l,o.toString())}else if(typeof o!="string")throw Error(Ji+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,Vz.test(o))WO(l,o);else throw Error(Ji+o)}if(i.prototype=fe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=MC,i.config=i.set=Yz,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Yz(e){if(!e||typeof e!="object")throw Error(pr+"Object expected");var t,n,r,i=["precision",1,Eo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Oo(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Ji+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ji+n+": "+r);return this}var Ey=MC(Fz);Fn=new Ey(1);const We=Ey;var Wz=e=>e,IC={},LC=e=>e===IC,JO=e=>function t(){return arguments.length===0||arguments.length===1&&LC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},BC=(e,t)=>e===1?t:JO(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==IC).length;return o>=e?t(...r):BC(e-o,JO(function(){for(var l=arguments.length,u=new Array(l),m=0;m<l;m++)u[m]=arguments[m];var h=r.map(g=>LC(g)?u.shift():g);return t(...h,...u)}))}),qf=e=>BC(e.length,e),t0=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Xz=qf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Jz=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Wz;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,m)=>m(u),o(...arguments))}},n0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),UC=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((l,u)=>{var m;return l===((m=t)===null||m===void 0?void 0:m[u])})||(t=i,n=e(...i)),n}};function $C(e){var t;return e===0?t=1:t=Math.floor(new We(e).abs().log(10).toNumber())+1,t}function zC(e,t,n){for(var r=new We(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}qf((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});qf((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});qf((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var qC=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},KC=(e,t,n)=>{if(e.lte(0))return new We(0);var r=$C(e.toNumber()),i=new We(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new We(Math.ceil(o.div(l).toNumber())).add(n).mul(l),m=u.mul(i);return t?new We(m.toNumber()):new We(Math.ceil(m.toNumber()))},Zz=(e,t,n)=>{var r=new We(1),i=new We(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new We(10).pow($C(e)-1),i=new We(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new We(Math.floor(e)))}else e===0?i=new We(Math.floor((t-1)/2)):n||(i=new We(Math.floor(e)));var l=Math.floor((t-1)/2),u=Jz(Xz(m=>i.add(new We(m-l).mul(r)).toNumber()),t0);return u(0,t)},HC=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var l=KC(new We(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new We(0):(u=new We(t).add(n).div(2),u=u.sub(new We(u).mod(l)));var m=Math.ceil(u.sub(t).div(l).toNumber()),h=Math.ceil(new We(n).sub(u).div(l).toNumber()),g=m+h+1;return g>r?HC(t,n,r,i,o+1):(g<r&&(h=n>0?h+(r-g):h,m=n>0?m:m+(r-g)),{step:l,tickMin:u.sub(new We(m).mul(l)),tickMax:u.add(new We(h).mul(l))})};function Qz(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,u]=qC([t,n]);if(l===-1/0||u===1/0){var m=u===1/0?[l,...t0(0,r-1).map(()=>1/0)]:[...t0(0,r-1).map(()=>-1/0),u];return t>n?n0(m):m}if(l===u)return Zz(l,r,i);var{step:h,tickMin:g,tickMax:p}=HC(l,u,o,i,0),y=zC(g,p.add(new We(.1).mul(h)),h);return t>n?n0(y):y}function eq(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=qC([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var u=Math.max(t,2),m=KC(new We(l).sub(o).div(u-1),i,0),h=[...zC(new We(o),new We(l),m),l];return i===!1&&(h=h.map(g=>Math.round(g))),n>r?n0(h):h}var tq=UC(Qz),nq=UC(eq),GC=e=>e.rootProps.maxBarSize,rq=e=>e.rootProps.barGap,FC=e=>e.rootProps.barCategoryGap,aq=e=>e.rootProps.barSize,wc=e=>e.rootProps.stackOffset,Oy=e=>e.options.chartName,Ay=e=>e.rootProps.syncId,VC=e=>e.rootProps.syncMethod,Ny=e=>e.options.eventEmitter,aa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},qn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},iq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:aa.angleAxisId,includeHidden:!1,name:void 0,reversed:aa.reversed,scale:aa.scale,tick:aa.tick,tickCount:void 0,ticks:void 0,type:aa.type,unit:void 0},sq={allowDataOverflow:qn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,ticks:void 0,type:qn.type,unit:void 0},oq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:aa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:aa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:aa.scale,tick:aa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},lq={allowDataOverflow:qn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:qn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:qn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:qn.scale,tick:qn.tick,tickCount:qn.tickCount,ticks:void 0,type:"category",unit:void 0},Ty=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oq:iq,Cy=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?lq:sq,Hf=e=>e.polarOptions,Dy=F([va,ya,Bt],OT),YC=F([Hf,Dy],(e,t)=>{if(e!=null)return dn(e.innerRadius,t,0)}),WC=F([Hf,Dy],(e,t)=>{if(e!=null)return dn(e.outerRadius,t,t*.8)}),cq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},XC=F([Hf],cq);F([Ty,XC],Kf);var JC=F([Dy,YC,WC],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});F([Cy,JC],Kf);var ZC=F([Ue,Hf,YC,WC,va,ya],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:m,endAngle:h}=t;return{cx:dn(l,i,i/2),cy:dn(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:h,clockWise:!1}}}),gt=(e,t)=>t,_c=(e,t,n)=>n;function Py(e){return e==null?void 0:e.id}var $t=e=>{var t=Ue(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ao=e=>e.tooltip.settings.axisId,zt=e=>{var t=$t(e),n=Ao(e);return Sc(e,t,n)},QC=F([zt],e=>e==null?void 0:e.dataKey);function eD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var m,h=(m=u.data)!==null&&m!==void 0?m:r;if(!(h==null||h.length===0)){var g=Py(u);h.forEach((p,y)=>{var b=o==null||i?y:String(st(p,o,null)),S=st(p,u.dataKey,0),_;l.has(b)?_=l.get(b):_={},Object.assign(_,{[g]:S}),l.set(b,_)})}}),Array.from(l.values())}function Gf(e){return e.stackId!=null&&e.dataKey!=null}var Ff=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Vf(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ZO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(n),!0).forEach(function(r){uq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uq(e,t,n){return(t=dq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r0=[0,"auto"],$n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tD=(e,t)=>e.cartesianAxis.xAxis[t],xa=(e,t)=>{var n=tD(e,t);return n??$n},zn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:r0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mc},nD=(e,t)=>e.cartesianAxis.yAxis[t],wa=(e,t)=>{var n=nD(e,t);return n??zn},hq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ky=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??hq},yt=(e,t,n)=>{switch(t){case"xAxis":return xa(e,n);case"yAxis":return wa(e,n);case"zAxis":return ky(e,n);case"angleAxis":return Ty(e,n);case"radiusAxis":return Cy(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},mq=(e,t,n)=>{switch(t){case"xAxis":return xa(e,n);case"yAxis":return wa(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Sc=(e,t,n)=>{switch(t){case"xAxis":return xa(e,n);case"yAxis":return wa(e,n);case"angleAxis":return Ty(e,n);case"radiusAxis":return Cy(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},rD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ry(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Yf=e=>e.graphicalItems.cartesianItems,gq=F([gt,_c],Ry),My=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),jc=F([Yf,yt,gq],My,{memoizeOptions:{resultEqualityCheck:Vf}}),aD=F([jc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Gf)),iD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),pq=F([jc],iD),Iy=e=>e.map(t=>t.data).filter(Boolean).flat(1),vq=F([jc],Iy,{memoizeOptions:{resultEqualityCheck:Vf}}),Ly=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},By=F([vq,zf],Ly),Uy=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:st(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:st(i,r)}))):e.map(r=>({value:r})),Wf=F([By,yt,jc],Uy);function sD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function bd(e){if(Lr(e)||e instanceof Date){var t=Number(e);if(fn(t))return t}}function QO(e){if(Array.isArray(e)){var t=[bd(e[0]),bd(e[1])];return ns(t)?t:void 0}var n=bd(e);if(n!=null)return[n,n]}function No(e){return e.map(bd).filter(R6)}function yq(e,t,n){return!n||typeof t!="number"||mr(t)?[]:n.length?No(n.flatMap(r=>{var i=st(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!fn(o)||!fn(l)))return[t-o,t+l]})):[]}var bq=F([aD,zf,zt],eD),oD=(e,t,n)=>{var r={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,m=u.map(Py);return[l,{stackedData:r5(e,m,n),graphicalItems:u}]}))},a0=F([bq,aD,wc],oD),lD=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=l5(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},xq=F([yt],e=>e.allowDataOverflow),$y=e=>{var t;if(e==null||!("domain"in e))return r0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=No(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:r0},zy=F([yt],$y),qy=F([zy,xq],CC),wq=F([a0,hi,gt,qy],lD,{memoizeOptions:{resultEqualityCheck:Ff}}),Xf=e=>e.errorBars,_q=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>sD(n,r)),tf=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},Ky=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(m=>{var h,g,p=(h=r[m.id])===null||h===void 0?void 0:h.filter(O=>sD(i,O)),y=st(u,(g=t.dataKey)!==null&&g!==void 0?g:m.dataKey),b=yq(u,y,p);if(b.length>=2){var S=Math.min(...b),_=Math.max(...b);(o==null||S<o)&&(o=S),(l==null||_>l)&&(l=_)}var j=QO(y);j!=null&&(o=o==null?j[0]:Math.min(o,j[0]),l=l==null?j[1]:Math.max(l,j[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var m=QO(st(u,t.dataKey));m!=null&&(o=o==null?m[0]:Math.min(o,m[0]),l=l==null?m[1]:Math.max(l,m[1]))}),fn(o)&&fn(l))return[o,l]},Sq=F([By,yt,pq,Xf,gt],Ky,{memoizeOptions:{resultEqualityCheck:Ff}});function jq(e){var{value:t}=e;if(Lr(t)||t instanceof Date)return t}var Eq=(e,t,n)=>{var r=e.map(jq).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&I2(r))?WT(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},cD=e=>e.referenceElements.dots,To=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Oq=F([cD,gt,_c],To),uD=e=>e.referenceElements.areas,Aq=F([uD,gt,_c],To),dD=e=>e.referenceElements.lines,Nq=F([dD,gt,_c],To),fD=(e,t)=>{var n=No(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Tq=F(Oq,gt,fD),hD=(e,t)=>{var n=No(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cq=F([Aq,gt],hD),mD=(e,t)=>{var n=No(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Dq=F(Nq,gt,mD),Pq=F(Tq,Dq,Cq,(e,t,n)=>tf(e,n,t)),Hy=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var m=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=m?tf(r,o,i):tf(o,i);return Gz(t,h,e.allowDataOverflow)},kq=F([yt,zy,qy,wq,Sq,Pq,Ue,gt],Hy,{memoizeOptions:{resultEqualityCheck:Ff}}),Rq=[0,1],Gy=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:m}=e,h=ci(t,o);return h&&u==null?WT(0,n.length):m==="category"?Eq(r,e,h):i==="expand"?Rq:l}},Fy=F([yt,Ue,By,Wf,wc,gt,kq],Gy),gD=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(uc(o));return u in zl?u:"point"}}},Co=F([yt,Ue,rD,Oy,gt],gD);function Mq(e){if(e!=null){if(e in zl)return zl[e]();var t="scale".concat(uc(e));if(t in zl)return zl[t]()}}function Vy(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=Mq(t);if(i!=null){var o=i.domain(n).range(r);return ZU(o),o}}}var Yy=(e,t,n)=>{var r=$y(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ns(e))return tq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ns(e))return nq(e,t.tickCount,t.allowDecimals)}},Wy=F([Fy,Sc,Co],Yy),Xy=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ns(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},Iq=F([yt,Fy,Wy,gt],Xy),Lq=F(Wf,yt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(No(e.map(u=>u.value))).sort((u,m)=>u-m);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),pD=F(Lq,Ue,FC,Bt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!fn(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=dn(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),Bq=(e,t)=>{var n=xa(e,t);return n==null||typeof n.padding!="string"?0:pD(e,"xAxis",t,n.padding)},Uq=(e,t)=>{var n=wa(e,t);return n==null||typeof n.padding!="string"?0:pD(e,"yAxis",t,n.padding)},$q=F(xa,Bq,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),zq=F(wa,Uq,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),qq=F([Bt,$q,Df,Cf,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),Kq=F([Bt,Ue,zq,Df,Cf,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ec=(e,t,n,r)=>{var i;switch(t){case"xAxis":return qq(e,n,r);case"yAxis":return Kq(e,n,r);case"zAxis":return(i=ky(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return XC(e);case"radiusAxis":return JC(e,n);default:return}},vD=F([yt,Ec],Kf),Do=F([yt,Co,Iq,vD],Vy);F([jc,Xf,gt],_q);function yD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Jf=(e,t)=>t,Zf=(e,t,n)=>n,Hq=F(Nf,Jf,Zf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(yD)),Gq=F(Tf,Jf,Zf,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(yD)),bD=(e,t)=>({width:e.width,height:t.height}),Fq=(e,t)=>{var n=typeof t.width=="number"?t.width:mc;return{width:n,height:e.height}},xD=F(Bt,xa,bD),Vq=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Yq=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Wq=F(ya,Bt,Hq,Jf,Zf,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var m=bD(t,u);l==null&&(l=Vq(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(h)*m.height,l+=(h?-1:1)*m.height}),o}),Xq=F(va,Bt,Gq,Jf,Zf,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var m=Fq(t,u);l==null&&(l=Yq(t,r,e));var h=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(h)*m.width,l+=(h?-1:1)*m.width}),o}),Jq=(e,t)=>{var n=xa(e,t);if(n!=null)return Wq(e,n.orientation,n.mirror)},Zq=F([Bt,xa,Jq,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Qq=(e,t)=>{var n=wa(e,t);if(n!=null)return Xq(e,n.orientation,n.mirror)},eK=F([Bt,wa,Qq,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),wD=F(Bt,wa,(e,t)=>{var n=typeof t.width=="number"?t.width:mc;return{width:n,height:e.height}}),eA=(e,t,n)=>{switch(t){case"xAxis":return xD(e,n).width;case"yAxis":return wD(e,n).height;default:return}},_D=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=ci(e,r),m=t.map(h=>h.value);if(l&&u&&o==="category"&&i&&I2(m))return m}},Jy=F([Ue,Wf,yt,gt],_D),SD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=ci(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},Zy=F([Ue,Wf,Sc,gt],SD),tA=F([Ue,mq,Co,Do,Jy,Zy,Ec,Wy,gt],(e,t,n,r,i,o,l,u,m)=>{if(t==null)return null;var h=ci(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:o,duplicateDomain:i,isCategorical:h,niceTicks:u,range:l,realScaleType:n,scale:r}}),tK=(e,t,n,r,i,o,l,u,m)=>{if(!(t==null||r==null)){var h=ci(e,m),{type:g,ticks:p,tickCount:y}=t,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=g==="category"&&r.bandwidth?r.bandwidth()/b:0;S=m==="angleAxis"&&o!=null&&o.length>=2?Ft(o[0]-o[1])*2*S:S;var _=p||i;if(_){var j=_.map((O,A)=>{var T=l?l.indexOf(O):O;return{index:A,coordinate:r(T)+S,value:O,offset:S}});return j.filter(O=>!mr(O.coordinate))}return h&&u?u.map((O,A)=>({coordinate:r(O)+S,value:O,index:A,offset:S})):r.ticks?r.ticks(y).map(O=>({coordinate:r(O)+S,value:O,offset:S})):r.domain().map((O,A)=>({coordinate:r(O)+S,value:l?l[O]:O,index:A,offset:S}))}},jD=F([Ue,Sc,Co,Do,Wy,Ec,Jy,Zy,gt],tK),nK=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ci(e,l),{tickCount:m}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Ft(r[0]-r[1])*2*h:h,u&&o?o.map((g,p)=>({coordinate:n(g)+h,value:g,index:p,offset:h})):n.ticks?n.ticks(m).map(g=>({coordinate:n(g)+h,value:g,offset:h})):n.domain().map((g,p)=>({coordinate:n(g)+h,value:i?i[g]:g,index:p,offset:h}))}},ri=F([Ue,Sc,Do,Ec,Jy,Zy,gt],nK),ai=F(yt,Do,(e,t)=>{if(!(e==null||t==null))return ef(ef({},e),{},{scale:t})}),rK=F([yt,Co,Fy,vD],Vy);F((e,t,n)=>ky(e,n),rK,(e,t)=>{if(!(e==null||t==null))return ef(ef({},e),{},{scale:t})});var aK=F([Ue,Nf,Tf],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),ED=e=>e.options.defaultTooltipEventType,OD=e=>e.options.validateTooltipEventTypes;function AD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Qy(e,t){var n=ED(e),r=OD(e);return AD(t,n,r)}function iK(e){return ge(t=>Qy(t,e))}var ND=(e,t)=>{var n,r=Number(t);if(!(mr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},sK=e=>e.tooltip.settings,ei={active:!1,index:null,dataKey:void 0,coordinate:void 0},oK={itemInteraction:{click:ei,hover:ei},axisInteraction:{click:ei,hover:ei},keyboardInteraction:ei,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},TD=Xn({name:"tooltip",initialState:oK,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:gn()},removeTooltipEntrySettings:{reducer(e,t){var n=ua(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:gn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:lK,removeTooltipEntrySettings:cK,setTooltipSettingsState:uK,setActiveMouseOverItemIndex:CD,mouseLeaveItem:dK,mouseLeaveChart:DD,setActiveClickItemIndex:fK,setMouseOverAxisIndex:PD,setMouseClickAxisIndex:hK,setSyncInteraction:i0,setKeyboardInteraction:s0}=TD.actions,mK=TD.reducer;function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){gK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gK(e,t,n){return(t=pK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yK(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function bK(e){return e.index!=null}var kD=(e,t,n,r)=>{if(t==null)return ei;var i=yK(e,t,n);if(i==null)return ei;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(bK(i)){if(o)return md(md({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return md(md({},ei),{},{coordinate:i.coordinate})},eb=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!fn(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},RD=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var m=l[0],h=m==null?void 0:u(m.positions,o);if(h!=null)return h;var g=i==null?void 0:i[Number(o)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},MD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Oc=e=>e.options.tooltipPayloadSearcher,Po=e=>e.tooltip;function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){xK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xK(e,t,n){return(t=wK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SK(e,t){return e??t}var ID=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:m,dataStartIndex:h,dataEndIndex:g}=n,p=[];return e.reduce((y,b)=>{var S,{dataDefinedOnItem:_,settings:j}=b,O=SK(_,u),A=Array.isArray(O)?AT(O,h,g):O,T=(S=j==null?void 0:j.dataKey)!==null&&S!==void 0?S:r,P=j==null?void 0:j.nameKey,N;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?N=L2(A,r,i):N=o(A,t,m,P),Array.isArray(N))N.forEach(k=>{var z=aA(aA({},j),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});y.push(kE({tooltipEntrySettings:z,dataKey:k.dataKey,payload:k.payload,value:st(k.payload,k.dataKey),name:k.name}))});else{var C;y.push(kE({tooltipEntrySettings:j,dataKey:T,payload:N,value:st(N,T),name:(C=st(N,P))!==null&&C!==void 0?C:j==null?void 0:j.name}))}return y},p)}},tb=F([zt,Ue,rD,Oy,$t],gD),jK=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),EK=F([$t,Ao],Ry),Ac=F([jK,zt,EK],My,{memoizeOptions:{resultEqualityCheck:Vf}}),OK=F([Ac],e=>e.filter(Gf)),AK=F([Ac],Iy,{memoizeOptions:{resultEqualityCheck:Vf}}),ko=F([AK,hi],Ly),NK=F([OK,hi,zt],eD),nb=F([ko,zt,Ac],Uy),LD=F([zt],$y),TK=F([zt],e=>e.allowDataOverflow),BD=F([LD,TK],CC),CK=F([Ac],e=>e.filter(Gf)),DK=F([NK,CK,wc],oD),PK=F([DK,hi,$t,BD],lD),kK=F([Ac],iD),RK=F([ko,zt,kK,Xf,$t],Ky,{memoizeOptions:{resultEqualityCheck:Ff}}),MK=F([cD,$t,Ao],To),IK=F([MK,$t],fD),LK=F([uD,$t,Ao],To),BK=F([LK,$t],hD),UK=F([dD,$t,Ao],To),$K=F([UK,$t],mD),zK=F([IK,$K,BK],tf),qK=F([zt,LD,BD,PK,RK,zK,Ue,$t],Hy),UD=F([zt,Ue,ko,nb,wc,$t,qK],Gy),KK=F([UD,zt,tb],Yy),HK=F([zt,UD,KK,$t],Xy),$D=e=>{var t=$t(e),n=Ao(e),r=!1;return Ec(e,t,n,r)},zD=F([zt,$D],Kf),qD=F([zt,tb,HK,zD],Vy),GK=F([Ue,nb,zt,$t],_D),FK=F([Ue,nb,zt,$t],SD),VK=(e,t,n,r,i,o,l,u)=>{if(t){var{type:m}=t,h=ci(e,u);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=m==="category"&&r.bandwidth?r.bandwidth()/g:0;return p=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ft(i[0]-i[1])*2*p:p,h&&l?l.map((y,b)=>({coordinate:r(y)+p,value:y,index:b,offset:p})):r.domain().map((y,b)=>({coordinate:r(y)+p,value:o?o[y]:y,index:b,offset:p}))}}},_a=F([Ue,zt,tb,qD,$D,GK,FK,$t],VK),rb=F([ED,OD,sK],(e,t,n)=>AD(n.shared,e,t)),KD=e=>e.tooltip.settings.trigger,ab=e=>e.tooltip.settings.defaultIndex,Qf=F([Po,rb,KD,ab],kD),ii=F([Qf,ko],eb),HD=F([_a,ii],ND),GD=F([Qf],e=>{if(e)return e.dataKey}),FD=F([Po,rb,KD,ab],MD),YK=F([va,ya,Ue,Bt,_a,ab,FD,Oc],RD),WK=F([Qf,YK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),XK=F([Qf],e=>e.active),JK=F([FD,ii,hi,QC,HD,Oc,rb],ID),ZK=F([JK],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){QK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QK(e,t,n){return(t=e7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e7(e){var t=t7(e,"string");return typeof t=="symbol"?t:t+""}function t7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n7=()=>ge(zt),r7=()=>{var e=n7(),t=ge(_a),n=ge(qD);return tc(sA(sA({},e),{},{scale:n}),t)},a7=()=>ge(Oy),ib=(e,t)=>t,VD=(e,t,n)=>n,sb=(e,t,n,r)=>r,i7=F(_a,e=>_f(e,t=>t.coordinate)),ob=F([Po,ib,VD,sb],kD),YD=F([ob,ko],eb),s7=(e,t,n)=>{if(t!=null){var r=Po(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},WD=F([Po,ib,VD,sb],MD),nf=F([va,ya,Ue,Bt,_a,sb,WD,Oc],RD),o7=F([ob,nf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),XD=F(_a,YD,ND),l7=F([WD,YD,hi,QC,XD,Oc,ib],ID),c7=F([ob],e=>({isActive:e.active,activeIndex:e.index})),u7=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o)){var m=c5(e.chartX,e.chartY,t,n,u);if(m){var h=d5(m,t),g=XU(h,l,o,r,i),p=u5(t,o,g,m);return{activeIndex:String(g),activeCoordinate:p}}}};function o0(){return o0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o0.apply(null,arguments)}function oA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(n),!0).forEach(function(r){d7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function d7(e,t,n){return(t=f7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:m,chartName:h}=e,g=t,p=n,y=r;if(!u||!g||h!=="ScatterChart"&&m!=="axis")return null;var b,S;if(h==="ScatterChart")b=g,S=A6;else if(h==="BarChart")b=N6(l,g,i,o),S=GT;else if(l==="radial"){var{cx:_,cy:j,radius:O,startAngle:A,endAngle:T}=FT(g);b={cx:_,cy:j,startAngle:A,endAngle:T,innerRadius:O,outerRadius:O},S=YT}else b={points:d8(l,g,i)},S=Q0;var P=typeof u=="object"&&"className"in u?u.className:void 0,N=gd(gd(gd(gd({stroke:"#ccc",pointerEvents:"none"},i),b),Zi(u)),{},{payload:p,payloadIndex:y,className:qe("recharts-tooltip-cursor",P)});return w.isValidElement(u)?w.cloneElement(u,N):w.createElement(S,N)}function g7(e){var t=r7(),n=IT(),r=kf(),i=a7();return w.createElement(m7,o0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var JD=w.createContext(null),p7=()=>w.useContext(JD),Yp={exports:{}},lA;function v7(){return lA||(lA=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(m,h,g){this.fn=m,this.context=h,this.once=g||!1}function o(m,h,g,p,y){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new i(g,p||m,y),S=n?n+h:h;return m._events[S]?m._events[S].fn?m._events[S]=[m._events[S],b]:m._events[S].push(b):(m._events[S]=b,m._eventsCount++),m}function l(m,h){--m._eventsCount===0?m._events=new r:delete m._events[h]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],g,p;if(this._eventsCount===0)return h;for(p in g=this._events)t.call(g,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(g)):h},u.prototype.listeners=function(h){var g=n?n+h:h,p=this._events[g];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,b=p.length,S=new Array(b);y<b;y++)S[y]=p[y].fn;return S},u.prototype.listenerCount=function(h){var g=n?n+h:h,p=this._events[g];return p?p.fn?1:p.length:0},u.prototype.emit=function(h,g,p,y,b,S){var _=n?n+h:h;if(!this._events[_])return!1;var j=this._events[_],O=arguments.length,A,T;if(j.fn){switch(j.once&&this.removeListener(h,j.fn,void 0,!0),O){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,g),!0;case 3:return j.fn.call(j.context,g,p),!0;case 4:return j.fn.call(j.context,g,p,y),!0;case 5:return j.fn.call(j.context,g,p,y,b),!0;case 6:return j.fn.call(j.context,g,p,y,b,S),!0}for(T=1,A=new Array(O-1);T<O;T++)A[T-1]=arguments[T];j.fn.apply(j.context,A)}else{var P=j.length,N;for(T=0;T<P;T++)switch(j[T].once&&this.removeListener(h,j[T].fn,void 0,!0),O){case 1:j[T].fn.call(j[T].context);break;case 2:j[T].fn.call(j[T].context,g);break;case 3:j[T].fn.call(j[T].context,g,p);break;case 4:j[T].fn.call(j[T].context,g,p,y);break;default:if(!A)for(N=1,A=new Array(O-1);N<O;N++)A[N-1]=arguments[N];j[T].fn.apply(j[T].context,A)}}return!0},u.prototype.on=function(h,g,p){return o(this,h,g,p,!1)},u.prototype.once=function(h,g,p){return o(this,h,g,p,!0)},u.prototype.removeListener=function(h,g,p,y){var b=n?n+h:h;if(!this._events[b])return this;if(!g)return l(this,b),this;var S=this._events[b];if(S.fn)S.fn===g&&(!y||S.once)&&(!p||S.context===p)&&l(this,b);else{for(var _=0,j=[],O=S.length;_<O;_++)(S[_].fn!==g||y&&!S[_].once||p&&S[_].context!==p)&&j.push(S[_]);j.length?this._events[b]=j.length===1?j[0]:j:l(this,b)}return this},u.prototype.removeAllListeners=function(h){var g;return h?(g=n?n+h:h,this._events[g]&&l(this,g)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Yp)),Yp.exports}var y7=v7();const b7=Nr(y7);var lc=new b7,l0="recharts.syncEvent.tooltip",cA="recharts.syncEvent.brush";function lb(e,t){if(t){var n=Number.parseInt(t,10);if(!mr(n))return e==null?void 0:e[n]}}var x7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},ZD=Xn({name:"options",initialState:x7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),w7=ZD.reducer,{createEventEmitter:_7}=ZD.actions;function S7(e){return e.tooltip.syncInteraction}var j7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},QD=Xn({name:"chartData",initialState:j7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:uA,setDataStartEndIndexes:E7,setComputedData:uJ}=QD.actions,O7=QD.reducer,A7=["x","y"];function dA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dA(Object(n),!0).forEach(function(r){N7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N7(e,t,n){return(t=T7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D7(e,t){if(e==null)return{};var n,r,i=P7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var eP=()=>{};function k7(){var e=ge(Ay),t=ge(Ny),n=mt(),r=ge(VC),i=ge(_a),o=kf(),l=Pf(),u=ge(m=>m.rootProps.className);w.useEffect(()=>{if(e==null)return eP;var m=(h,g,p)=>{if(t!==p&&e===h){if(r==="index"){var y;if(l&&g!==null&&g!==void 0&&(y=g.payload)!==null&&y!==void 0&&y.coordinate&&g.payload.sourceViewBox){var b=g.payload.coordinate,{x:S,y:_}=b,j=D7(b,A7),{x:O,y:A,width:T,height:P}=g.payload.sourceViewBox,N=to(to({},j),{},{x:l.x+(T?(S-O)/T:0)*l.width,y:l.y+(P?(_-A)/P:0)*l.height});n(to(to({},g),{},{payload:to(to({},g.payload),{},{coordinate:N})}))}else n(g);return}if(i!=null){var C;if(typeof r=="function"){var k={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},z=r(i,k);C=i[z]}else r==="value"&&(C=i.find(B=>String(B.value)===g.payload.label));var{coordinate:V}=g.payload;if(C==null||g.payload.active===!1||V==null||l==null){n(i0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:ie,y:ee}=V,I=Math.min(ie,l.x+l.width),q=Math.min(ee,l.y+l.height),W={x:o==="horizontal"?C.coordinate:I,y:o==="horizontal"?q:C.coordinate},Q=i0({active:g.payload.active,coordinate:W,dataKey:g.payload.dataKey,index:String(C.index),label:g.payload.label,sourceViewBox:g.payload.sourceViewBox});n(Q)}}};return lc.on(l0,m),()=>{lc.off(l0,m)}},[u,n,t,e,r,i,o,l])}function R7(){var e=ge(Ay),t=ge(Ny),n=mt();w.useEffect(()=>{if(e==null)return eP;var r=(i,o,l)=>{t!==l&&e===i&&n(E7(o))};return lc.on(cA,r),()=>{lc.off(cA,r)}},[n,t,e])}function M7(){var e=mt();w.useEffect(()=>{e(_7())},[e]),k7(),R7()}function I7(e,t,n,r,i,o){var l=ge(b=>s7(b,e,t)),u=ge(Ny),m=ge(Ay),h=ge(VC),g=ge(S7),p=g==null?void 0:g.active,y=Pf();w.useEffect(()=>{if(!p&&m!=null&&u!=null){var b=i0({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y});lc.emit(l0,m,b,u)}},[p,n,l,i,r,u,m,h,o,y])}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){L7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7(e,t,n){return(t=B7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B7(e){var t=U7(e,"string");return typeof t=="symbol"?t:t+""}function U7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $7(e){return e.dataKey}function z7(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(i6,t)}var mA=[],q7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ui.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ti(e){var t=rn(e,q7),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:l,filterNull:u,isAnimationActive:m,offset:h,payloadUniqBy:g,position:p,reverseDirection:y,useTranslate3d:b,wrapperStyle:S,cursor:_,shared:j,trigger:O,defaultIndex:A,portal:T,axisId:P}=t,N=mt(),C=typeof A=="number"?String(A):A;w.useEffect(()=>{N(uK({shared:j,trigger:O,axisId:P,active:n,defaultIndex:C}))},[N,j,O,P,n,C]);var k=Pf(),z=$T(),V=iK(j),{activeIndex:ie,isActive:ee}=ge(ce=>c7(ce,V,O,C)),I=ge(ce=>l7(ce,V,O,C)),q=ge(ce=>XD(ce,V,O,C)),W=ge(ce=>o7(ce,V,O,C)),Q=I,B=p7(),K=n??ee,[oe,ue]=Q2([Q,K]),J=V==="axis"?q:void 0;I7(V,O,W,J,ie,K);var R=T??B;if(R==null)return null;var L=Q??mA;K||(L=mA),u&&L.length&&(L=Y2(Q.filter(ce=>ce.value!=null&&(ce.hide!==!0||t.includeHidden)),g,$7));var re=L.length>0,le=w.createElement(f6,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:m,active:K,coordinate:W,hasPayload:re,offset:h,position:p,reverseDirection:y,useTranslate3d:b,viewBox:k,wrapperStyle:S,lastBoundingBox:oe,innerRef:ue,hasPortalFromProps:!!T},z7(l,hA(hA({},t),{},{payload:L,label:J,active:K,coordinate:W,accessibilityLayer:z})));return w.createElement(w.Fragment,null,v2.createPortal(le,R),K&&w.createElement(g7,{cursor:_,tooltipEventType:V,coordinate:W,payload:Q,index:ie}))}var as=e=>null;as.displayName="Cell";function K7(e,t,n){return(t=H7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7(e){var t=G7(e,"string");return typeof t=="symbol"?t:t+""}function G7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class F7{constructor(t){K7(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function gA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(n),!0).forEach(function(r){Y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y7(e,t,n){return(t=W7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J7={cacheSize:2e3,enableCache:!0},tP=V7({},J7),pA=new F7(tP.cacheSize),Z7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vA="recharts_measurement_span";function Q7(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var yA=(e,t)=>{try{var n=document.getElementById(vA);n||(n=document.createElement("span"),n.setAttribute("id",vA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Z7,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ui.isSsr)return{width:0,height:0};if(!tP.enableCache)return yA(t,n);var r=Q7(t,n),i=pA.get(r);if(i)return i;var o=yA(t,n);return pA.set(r,o),o},bA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nP={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nH=Object.keys(nP),ao="NaN";function rH(e,t){return e*nP[t]}class Nn{static parse(t){var n,[,r,i]=(n=tH.exec(t))!==null&&n!==void 0?n:[];return new Nn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,mr(t)&&(this.unit=""),n!==""&&!eH.test(n)&&(this.num=NaN,this.unit=""),nH.includes(n)&&(this.num=rH(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Nn(NaN,""):new Nn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return mr(this.num)}}function rP(e){if(e.includes(ao))return ao;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=bA.exec(t))!==null&&n!==void 0?n:[],l=Nn.parse(r??""),u=Nn.parse(o??""),m=i==="*"?l.multiply(u):l.divide(u);if(m.isNaN())return ao;t=t.replace(bA,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,g,p,y]=(h=xA.exec(t))!==null&&h!==void 0?h:[],b=Nn.parse(g??""),S=Nn.parse(y??""),_=p==="+"?b.add(S):b.subtract(S);if(_.isNaN())return ao;t=t.replace(xA,_.toString())}return t}var wA=/\(([^()]*)\)/;function aH(e){for(var t=e,n;(n=wA.exec(t))!=null;){var[,r]=n;t=t.replace(wA,rP(r))}return t}function iH(e){var t=e.replace(/\s+/g,"");return t=aH(t),t=rP(t),t}function sH(e){try{return iH(e)}catch{return ao}}function Wp(e){var t=sH(e.slice(5,-1));return t===ao?"":t}var oH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lH=["dx","dy","angle","className","breakAll"];function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(null,arguments)}function _A(e,t){if(e==null)return{};var n,r,i=cH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aP=/[ \f\n\r\t\v\u2028\u2029]+/,iP=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ht(t)||(n?i=t.toString().split(""):i=t.toString().split(aP));var o=i.map(u=>({word:u,width:Gl(u,r).width})),l=n?0:Gl("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},uH=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:m}=e,h=_e(o),g=l,p=function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ee.reduce((I,q)=>{var{word:W,width:Q}=q,B=I[I.length-1];if(B&&(r==null||i||B.width+Q+n<Number(r)))B.words.push(W),B.width+=Q+n;else{var K={words:[W],width:Q};I.push(K)}return I},[])},y=p(t),b=ie=>ie.reduce((ee,I)=>ee.width>I.width?ee:I);if(!h||i)return y;var S=y.length>o||b(y).width>Number(r);if(!S)return y;for(var _="",j=ie=>{var ee=g.slice(0,ie),I=iP({breakAll:m,style:u,children:ee+_}).wordsWithComputedWidth,q=p(I),W=q.length>o||b(q).width>Number(r);return[W,q]},O=0,A=g.length-1,T=0,P;O<=A&&T<=g.length-1;){var N=Math.floor((O+A)/2),C=N-1,[k,z]=j(C),[V]=j(N);if(!k&&!V&&(O=N+1),k&&V&&(A=N-1),!k&&V){P=z;break}T++}return P||y},SA=e=>{var t=ht(e)?[]:e.toString().split(aP);return[{words:t}]},dH=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!ui.isSsr){var u,m,h=iP({breakAll:o,children:r,style:i});if(h){var{wordsWithComputedWidth:g,spaceWidth:p}=h;u=g,m=p}else return SA(r);return uH({breakAll:o,children:r,maxLines:l,style:i},u,m,t,n)}return SA(r)},jA="#808080",eh=w.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:m="end",fill:h=jA}=e,g=_A(e,oH),p=w.useMemo(()=>dH({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:l,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,l,g.style,g.width]),{dx:y,dy:b,angle:S,className:_,breakAll:j}=g,O=_A(g,lH);if(!Lr(n)||!Lr(r)||p.length===0)return null;var A=n+(_e(y)?y:0),T=r+(_e(b)?b:0),P;switch(m){case"start":P=Wp("calc(".concat(o,")"));break;case"middle":P=Wp("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:P=Wp("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(l){var C=p[0].width,{width:k}=g;N.push("scale(".concat(_e(k)?k/C:1,")"))}return S&&N.push("rotate(".concat(S,", ").concat(A,", ").concat(T,")")),N.length&&(O.transform=N.join(" ")),w.createElement("text",c0({},bn(O),{ref:t,x:A,y:T,className:qe("recharts-text",_),textAnchor:u,fill:h.includes("url")?jA:h}),p.map((z,V)=>{var ie=z.words.join(j?"":" ");return w.createElement("tspan",{x:A,dy:V===0?P:i,key:"".concat(ie,"-").concat(V)},ie)}))});eh.displayName="Text";var fH=["labelRef"];function hH(e,t){if(e==null)return{};var n,r,i=mH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){gH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=vH(e,"string");return typeof t=="symbol"?t:t+""}function vH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia.apply(null,arguments)}var sP=w.createContext(null),yH=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,l=w.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return w.createElement(sP.Provider,{value:l},o)},oP=()=>{var e=w.useContext(sP),t=Pf();return e||t},bH=w.createContext(null),xH=()=>{var e=w.useContext(bH),t=ge(ZC);return e||t},wH=e=>{var{value:t,formatter:n}=e,r=ht(e.children)?t:e.children;return typeof n=="function"?n(r):r},cb=e=>e!=null&&typeof e=="function",_H=(e,t)=>{var n=Ft(t-e),r=Math.min(Math.abs(t-e),360);return n*r},SH=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:m,innerRadius:h,outerRadius:g,startAngle:p,endAngle:y,clockWise:b}=i,S=(h+g)/2,_=_H(p,y),j=_>=0?1:-1,O,A;switch(t){case"insideStart":O=p+j*o,A=b;break;case"insideEnd":O=y-j*o,A=!b;break;case"end":O=y+j*o,A=b;break;default:throw new Error("Unsupported position ".concat(t))}A=_<=0?A:!A;var T=Dt(u,m,S,O),P=Dt(u,m,S,O+(A?1:-1)*359),N="M".concat(T.x,",").concat(T.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),C=ht(e.id)?Jl("recharts-radial-line-"):e.id;return w.createElement("text",ia({},r,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",l)}),w.createElement("defs",null,w.createElement("path",{id:C,d:N})),w.createElement("textPath",{xlinkHref:"#".concat(C)},n))},jH=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:m}=e,h=(u+m)/2;if(n==="outside"){var{x:g,y:p}=Dt(r,i,l+t,h);return{x:g,y:p,textAnchor:g>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+l)/2,{x:b,y:S}=Dt(r,i,y,h);return{x:b,y:S,textAnchor:"middle",verticalAnchor:"middle"}},lP=e=>"cx"in e&&_e(e.cx),EH=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!lP(n)&&(o=n);var{x:l,y:u,width:m,height:h}=t,g=h>=0?1:-1,p=g*r,y=g>0?"end":"start",b=g>0?"start":"end",S=m>=0?1:-1,_=S*r,j=S>0?"end":"start",O=S>0?"start":"end";if(i==="top"){var A={x:l+m/2,y:u-g*r,textAnchor:"middle",verticalAnchor:y};return Et(Et({},A),o?{height:Math.max(u-o.y,0),width:m}:{})}if(i==="bottom"){var T={x:l+m/2,y:u+h+p,textAnchor:"middle",verticalAnchor:b};return Et(Et({},T),o?{height:Math.max(o.y+o.height-(u+h),0),width:m}:{})}if(i==="left"){var P={x:l-_,y:u+h/2,textAnchor:j,verticalAnchor:"middle"};return Et(Et({},P),o?{width:Math.max(P.x-o.x,0),height:h}:{})}if(i==="right"){var N={x:l+m+_,y:u+h/2,textAnchor:O,verticalAnchor:"middle"};return Et(Et({},N),o?{width:Math.max(o.x+o.width-N.x,0),height:h}:{})}var C=o?{width:m,height:h}:{};return i==="insideLeft"?Et({x:l+_,y:u+h/2,textAnchor:O,verticalAnchor:"middle"},C):i==="insideRight"?Et({x:l+m-_,y:u+h/2,textAnchor:j,verticalAnchor:"middle"},C):i==="insideTop"?Et({x:l+m/2,y:u+p,textAnchor:"middle",verticalAnchor:b},C):i==="insideBottom"?Et({x:l+m/2,y:u+h-p,textAnchor:"middle",verticalAnchor:y},C):i==="insideTopLeft"?Et({x:l+_,y:u+p,textAnchor:O,verticalAnchor:b},C):i==="insideTopRight"?Et({x:l+m-_,y:u+p,textAnchor:j,verticalAnchor:b},C):i==="insideBottomLeft"?Et({x:l+_,y:u+h-p,textAnchor:O,verticalAnchor:y},C):i==="insideBottomRight"?Et({x:l+m-_,y:u+h-p,textAnchor:j,verticalAnchor:y},C):i&&typeof i=="object"&&(_e(i.x)||fa(i.x))&&(_e(i.y)||fa(i.y))?Et({x:l+dn(i.x,m),y:u+dn(i.y,h),textAnchor:"end",verticalAnchor:"end"},C):Et({x:l+m/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},C)},OH={offset:5};function Ja(e){var t=rn(e,OH),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:m,labelRef:h}=t,g=xH(),p=oP(),y=r==="center"?p:g??p,b=n||y;if(!b||ht(i)&&ht(o)&&!w.isValidElement(l)&&typeof l!="function")return null;var S=Et(Et({},t),{},{viewBox:b});if(w.isValidElement(l)){var{labelRef:_}=S,j=hH(S,fH);return w.cloneElement(l,j)}var O;if(typeof l=="function"){if(O=w.createElement(l,S),w.isValidElement(O))return O}else O=wH(t);var A=lP(b),T=bn(t);if(A&&(r==="insideStart"||r==="insideEnd"||r==="end"))return SH(t,r,O,T,b);var P=A?jH(b,t.offset,t.position):EH(t,b);return w.createElement(eh,ia({ref:h,className:qe("recharts-label",u)},T,P,{breakAll:m}),O)}Ja.displayName="Label";var AH=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?w.createElement(Ja,ia({key:"label-implicit"},r)):Lr(e)?w.createElement(Ja,ia({key:"label-implicit",value:e},r)):w.isValidElement(e)?e.type===Ja?w.cloneElement(e,Et({key:"label-implicit"},r)):w.createElement(Ja,ia({key:"label-implicit",content:e},r)):cb(e)?w.createElement(Ja,ia({key:"label-implicit",content:e},r)):e&&typeof e=="object"?w.createElement(Ja,ia({},e,{key:"label-implicit"},r)):null};function NH(e){var{label:t,labelRef:n}=e,r=oP();return AH(t,r,n)||null}var Xp={},Jp={},OA;function TH(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Jp)),Jp}var Zp={},AA;function CH(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Zp)),Zp}var NA;function DH(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TH(),n=CH(),r=z0();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(Xp)),Xp}var Qp,TA;function PH(){return TA||(TA=1,Qp=DH().last),Qp}var kH=PH();const RH=Nr(kH);var MH=["valueAccessor"],IH=["dataKey","clockWise","id","textBreakAll"];function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rf.apply(null,arguments)}function CA(e,t){if(e==null)return{};var n,r,i=LH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BH=e=>Array.isArray(e.value)?RH(e.value):e.value,cP=w.createContext(void 0),uP=cP.Provider,dP=w.createContext(void 0),UH=dP.Provider;function $H(){return w.useContext(cP)}function zH(){return w.useContext(dP)}function xd(e){var{valueAccessor:t=BH}=e,n=CA(e,MH),{dataKey:r,clockWise:i,id:o,textBreakAll:l}=n,u=CA(n,IH),m=$H(),h=zH(),g=m||h;return!g||!g.length?null:w.createElement(nn,{className:"recharts-label-list"},g.map((p,y)=>{var b,S=ht(r)?t(p,y):st(p&&p.payload,r),_=ht(o)?{}:{id:"".concat(o,"-").concat(y)};return w.createElement(Ja,rf({key:"label-".concat(y)},bn(p),u,_,{fill:(b=n.fill)!==null&&b!==void 0?b:p.fill,parentViewBox:p.parentViewBox,value:S,textBreakAll:l,viewBox:p.viewBox,index:y}))}))}xd.displayName="LabelList";function ub(e){var{label:t}=e;return t?t===!0?w.createElement(xd,{key:"labelList-implicit"}):w.isValidElement(t)||cb(t)?w.createElement(xd,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(xd,rf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(null,arguments)}var fP=e=>{var{cx:t,cy:n,r,className:i}=e,o=qe("recharts-dot",i);return t===+t&&n===+n&&r===+r?w.createElement("circle",u0({},Yn(e),B0(e),{className:o,cx:t,cy:n,r})):null},hP=e=>e.graphicalItems.polarItems,qH=F([gt,_c],Ry),th=F([hP,yt,qH],My),KH=F([th],Iy),nh=F([KH,Sy],Ly),HH=F([nh,yt,th],Uy);F([nh,yt,th],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=st(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:st(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var DA=()=>{},GH=F([nh,yt,th,Xf,gt],Ky),FH=F([yt,zy,qy,DA,GH,DA,Ue,gt],Hy),mP=F([yt,Ue,nh,HH,wc,gt,FH],Gy),VH=F([mP,yt,Co],Yy);F([yt,mP,VH,gt],Xy);var YH={radiusAxis:{},angleAxis:{}},gP=Xn({name:"polarAxis",initialState:YH,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:dJ,removeRadiusAxis:fJ,addAngleAxis:hJ,removeAngleAxis:mJ}=gP.actions,WH=gP.reducer;function PA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(n),!0).forEach(function(r){XH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XH(e,t,n){return(t=JH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QH=(e,t)=>t,db=F([hP,QH],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),e9=[],fb=(e,t,n)=>(n==null?void 0:n.length)===0?e9:n,pP=F([Sy,db,fb],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>kA(kA({},t.presentationProps),o.props))),i!=null)return i}}),t9=F([pP,db,fb],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,l=st(r,t.nameKey,t.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:So(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),n9=F([pP,db,fb,Bt],(e,t,n,r)=>{if(!(t==null||e==null))return nG({offset:r,pieSettings:t,displayedData:e,cells:n})}),ev={exports:{}},tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RA;function r9(){if(RA)return tt;RA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function S(_){if(typeof _=="object"&&_!==null){var j=_.$$typeof;switch(j){case e:switch(_=_.type,_){case n:case i:case r:case m:case h:case y:return _;default:switch(_=_&&_.$$typeof,_){case l:case u:case p:case g:return _;case o:return _;default:return j}}case t:return j}}}return tt.ContextConsumer=o,tt.ContextProvider=l,tt.Element=e,tt.ForwardRef=u,tt.Fragment=n,tt.Lazy=p,tt.Memo=g,tt.Portal=t,tt.Profiler=i,tt.StrictMode=r,tt.Suspense=m,tt.SuspenseList=h,tt.isContextConsumer=function(_){return S(_)===o},tt.isContextProvider=function(_){return S(_)===l},tt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},tt.isForwardRef=function(_){return S(_)===u},tt.isFragment=function(_){return S(_)===n},tt.isLazy=function(_){return S(_)===p},tt.isMemo=function(_){return S(_)===g},tt.isPortal=function(_){return S(_)===t},tt.isProfiler=function(_){return S(_)===i},tt.isStrictMode=function(_){return S(_)===r},tt.isSuspense=function(_){return S(_)===m},tt.isSuspenseList=function(_){return S(_)===h},tt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===i||_===r||_===m||_===h||typeof _=="object"&&_!==null&&(_.$$typeof===p||_.$$typeof===g||_.$$typeof===l||_.$$typeof===o||_.$$typeof===u||_.$$typeof===b||_.getModuleId!==void 0)},tt.typeOf=S,tt}var MA;function a9(){return MA||(MA=1,ev.exports=r9()),ev.exports}var i9=a9(),IA=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",LA=null,tv=null,vP=e=>{if(e===LA&&Array.isArray(tv))return tv;var t=[];return w.Children.forEach(e,n=>{ht(n)||(i9.isFragment(n)?t=t.concat(vP(n.props.children)):t.push(n))}),tv=t,LA=e,t};function hb(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>IA(i)):r=[IA(t)],vP(e).forEach(i=>{var o=Qi(i,"type.displayName")||Qi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var yP=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,nv={},BA;function s9(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(nv)),nv}var rv,UA;function o9(){return UA||(UA=1,rv=s9().isPlainObject),rv}var l9=o9();const c9=Nr(l9);function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){u9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u9(e,t,n){return(t=d9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d9(e){var t=f9(e,"string");return typeof t=="symbol"?t:t+""}function f9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},af.apply(null,arguments)}var qA=(e,t,n,r,i)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+i),l+="L ".concat(e+n-o/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},h9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m9=e=>{var t=rn(e,h9),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:m,animationDuration:h,animationBegin:g,isUpdateAnimationActive:p}=t,y=w.useRef(null),[b,S]=w.useState(-1),_=w.useRef(i),j=w.useRef(o),O=w.useRef(l),A=w.useRef(n),T=w.useRef(r),P=pc(e,"trapezoid-");if(w.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var W=y.current.getTotalLength();W&&S(W)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var N=qe("recharts-trapezoid",u);if(!p)return w.createElement("g",null,w.createElement("path",af({},bn(t),{className:N,d:qA(n,r,i,o,l)})));var C=_.current,k=j.current,z=O.current,V=A.current,ie=T.current,ee="0px ".concat(b===-1?1:b,"px"),I="".concat(b,"px 0px"),q=zT(["strokeDasharray"],h,m);return w.createElement(gc,{animationId:P,key:P,canBegin:b>0,duration:h,easing:m,isActive:p,begin:g},W=>{var Q=_t(C,i,W),B=_t(k,o,W),K=_t(z,l,W),oe=_t(V,n,W),ue=_t(ie,r,W);y.current&&(_.current=Q,j.current=B,O.current=K,A.current=oe,T.current=ue);var J=W>0?{transition:q,strokeDasharray:I}:{strokeDasharray:ee};return w.createElement("path",af({},bn(t),{className:N,d:qA(oe,ue,Q,B,K),ref:y,style:zA(zA({},J),t.style)}))})},g9=["option","shapeType","propTransformer","activeClassName","isActive"];function p9(e,t){if(e==null)return{};var n,r,i=v9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){y9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y9(e,t,n){return(t=b9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w9(e,t){return sf(sf({},t),e)}function _9(e,t){return e==="symbols"}function HA(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return w.createElement(GT,n);case"trapezoid":return w.createElement(m9,n);case"sector":return w.createElement(YT,n);case"symbols":if(_9(t))return w.createElement(L0,n);break;default:return null}}function S9(e){return w.isValidElement(e)?e.props:e}function bP(e){var{option:t,shapeType:n,propTransformer:r=w9,activeClassName:i="recharts-active-shape",isActive:o}=e,l=p9(e,g9),u;if(w.isValidElement(t))u=w.cloneElement(t,sf(sf({},l),S9(t)));else if(typeof t=="function")u=t(l);else if(c9(t)&&typeof t!="boolean"){var m=r(t,l);u=w.createElement(HA,{shapeType:n,elementProps:m})}else{var h=l;u=w.createElement(HA,{shapeType:n,elementProps:h})}return o?w.createElement(nn,{className:i},u):u}var mb=(e,t)=>{var n=mt();return(r,i)=>o=>{e==null||e(r,i,o),n(CD({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},gb=e=>{var t=mt();return(n,r)=>i=>{e==null||e(n,r,i),t(dK())}},pb=(e,t)=>{var n=mt();return(r,i)=>o=>{e==null||e(r,i,o),n(fK({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function vb(e){var{fn:t,args:n}=e,r=mt(),i=xn();return w.useLayoutEffect(()=>{if(!i){var o=t(n);return r(lK(o)),()=>{r(cK(o))}}},[t,n,r,i]),null}var xP=()=>{};function wP(e){var{legendPayload:t}=e,n=mt(),r=xn();return w.useLayoutEffect(()=>r?xP:(n(BT(t)),()=>{n(UT(t))}),[n,r,t]),null}function j9(e){var{legendPayload:t}=e,n=mt(),r=ge(Ue);return w.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?xP:(n(BT(t)),()=>{n(UT(t))}),[n,r,t]),null}var av,E9=()=>{var[e]=w.useState(()=>Jl("uid-"));return e},O9=(av=PM.useId)!==null&&av!==void 0?av:E9;function A9(e,t){var n=O9();return t||(e?"".concat(e,"-").concat(n):n)}var N9=w.createContext(void 0),yb=e=>{var{id:t,type:n,children:r}=e,i=A9("recharts-".concat(n),t);return w.createElement(N9.Provider,{value:i},r(i))},T9={cartesianItems:[],polarItems:[]},_P=Xn({name:"graphicalItems",initialState:T9,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:gn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=ua(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:gn()},removeCartesianGraphicalItem:{reducer(e,t){var n=ua(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:gn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:gn()},removePolarGraphicalItem:{reducer(e,t){var n=ua(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:gn()}}}),{addCartesianGraphicalItem:C9,replaceCartesianGraphicalItem:D9,removeCartesianGraphicalItem:P9,addPolarGraphicalItem:k9,removePolarGraphicalItem:R9}=_P.actions,M9=_P.reducer;function SP(e){var t=mt(),n=w.useRef(null);return w.useLayoutEffect(()=>{n.current===null?t(C9(e)):n.current!==e&&t(D9({prev:n.current,next:e})),n.current=e},[t,e]),w.useLayoutEffect(()=>()=>{n.current&&(t(P9(n.current)),n.current=null)},[t]),null}function I9(e){var t=mt();return w.useLayoutEffect(()=>(t(k9(e)),()=>{t(R9(e))}),[t,e]),null}var L9=["onMouseEnter","onClick","onMouseLeave"],B9=["id"],U9=["id"];function bb(e,t){if(e==null)return{};var n,r,i=$9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){z9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z9(e,t,n){return(t=q9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},si.apply(null,arguments)}function H9(e){var t=w.useMemo(()=>hb(e.children,as),[e.children]),n=ge(r=>t9(r,e.id,t));return n==null?null:w.createElement(j9,{legendPayload:n})}function G9(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:u,hide:m,tooltipType:h}=e;return{dataDefinedOnItem:r.map(g=>g.tooltipPayload),positions:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:So(u,t),hide:m,type:h,color:l,unit:""}}}var F9=(e,t)=>e>t?"start":e<t?"end":"middle",V9=(e,t,n)=>dn(typeof t=="function"?t(e):t,n,n*.8),Y9=(e,t,n)=>{var{top:r,left:i,width:o,height:l}=t,u=OT(o,l),m=i+dn(e.cx,o,o/2),h=r+dn(e.cy,l,l/2),g=dn(e.innerRadius,u,0),p=V9(n,e.outerRadius,u),y=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:m,cy:h,innerRadius:g,outerRadius:p,maxRadius:y}},W9=(e,t)=>{var n=Ft(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function X9(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var J9=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var n=qe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return w.createElement(Q0,si({},t,{type:"linear",className:n}))},Z9=(e,t,n)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),w.isValidElement(r)))return r;var i=qe("recharts-pie-label-text",X9(e));return w.createElement(eh,si({},t,{alignmentBaseline:"middle",className:i}),r)};function Q9(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!t)return null;var u=Yn(n),m=Zi(i),h=Zi(o),g=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,p=t.map((y,b)=>{var S=(y.startAngle+y.endAngle)/2,_=Dt(y.cx,y.cy,y.outerRadius+g,S),j=dt(dt(dt(dt({},u),y),{},{stroke:"none"},m),{},{index:b,textAnchor:F9(_.x,y.cx)},_),O=dt(dt(dt(dt({},u),y),{},{fill:"none",stroke:y.fill},h),{},{index:b,points:[Dt(y.cx,y.cy,y.outerRadius,S),_],key:"line"});return w.createElement(nn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},o&&J9(o,O),Z9(i,j,st(y,l)))});return w.createElement(nn,{className:"recharts-pie-labels"},p)}function eG(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?w.createElement(ub,{label:i}):w.createElement(Q9,{sectors:t,props:n,showLabels:r})}function tG(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=ge(ii),{onMouseEnter:l,onClick:u,onMouseLeave:m}=i,h=bb(i,L9),g=mb(l,i.dataKey),p=gb(m),y=pb(u,i.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((b,S)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&t.length!==1)return null;var _=n&&String(S)===o,j=o?r:null,O=_?n:j,A=dt(dt({},b),{},{stroke:b.stroke,tabIndex:-1,[DT]:S,[PT]:i.dataKey});return w.createElement(nn,si({key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},dc(h,b,S),{onMouseEnter:g(b,S),onMouseLeave:p(b,S),onClick:y(b,S)}),w.createElement(bP,si({option:O,isActive:_,shapeType:"sector"},A)))}))}function nG(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:l,startAngle:u,endAngle:m,dataKey:h,nameKey:g,tooltipType:p}=n,y=Math.abs(n.minAngle),b=W9(u,m),S=Math.abs(b),_=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,j=r.filter(C=>st(C,h,0)!==0).length,O=(S>=360?j:j-1)*_,A=S-j*y-O,T=r.reduce((C,k)=>{var z=st(k,h,0);return C+(_e(z)?z:0)},0),P;if(T>0){var N;P=r.map((C,k)=>{var z=st(C,h,0),V=st(C,g,k),ie=Y9(n,o,C),ee=(_e(z)?z:0)/T,I,q=dt(dt({},C),i&&i[k]&&i[k].props);k?I=N.endAngle+Ft(b)*_*(z!==0?1:0):I=u;var W=I+Ft(b)*((z!==0?y:0)+ee*A),Q=(I+W)/2,B=(ie.innerRadius+ie.outerRadius)/2,K=[{name:V,value:z,payload:q,dataKey:h,type:p}],oe=Dt(ie.cx,ie.cy,B,Q);return N=dt(dt(dt(dt({},n.presentationProps),{},{percent:ee,cornerRadius:l,name:V,tooltipPayload:K,midAngle:Q,middleRadius:B,tooltipPosition:oe},q),ie),{},{value:z,startAngle:I,endAngle:W,payload:q,paddingAngle:Ft(b)*_}),N})}return P}function rG(e){var{showLabels:t,sectors:n,children:r}=e,i=w.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return w.createElement(UH,{value:t?i:void 0},r)}function aG(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:m,inactiveShape:h,onAnimationStart:g,onAnimationEnd:p}=t,y=pc(t,"recharts-pie-"),b=n.current,[S,_]=w.useState(!1),j=w.useCallback(()=>{typeof p=="function"&&p(),_(!1)},[p]),O=w.useCallback(()=>{typeof g=="function"&&g(),_(!0)},[g]);return w.createElement(rG,{showLabels:!S,sectors:r},w.createElement(gc,{animationId:y,begin:o,duration:l,isActive:i,easing:u,onAnimationStart:O,onAnimationEnd:j,key:y},A=>{var T=[],P=r&&r[0],N=P==null?void 0:P.startAngle;return r==null||r.forEach((C,k)=>{var z=b&&b[k],V=k>0?Qi(C,"paddingAngle",0):0;if(z){var ie=_t(z.endAngle-z.startAngle,C.endAngle-C.startAngle,A),ee=dt(dt({},C),{},{startAngle:N+V,endAngle:N+ie+V});T.push(ee),N=ee.endAngle}else{var{endAngle:I,startAngle:q}=C,W=_t(0,I-q,A),Q=dt(dt({},C),{},{startAngle:N+V,endAngle:N+W+V});T.push(Q),N=Q.endAngle}}),n.current=T,w.createElement(nn,null,w.createElement(tG,{sectors:T,activeShape:m,inactiveShape:h,allOtherPieProps:t}))}),w.createElement(eG,{showLabels:!S,sectors:r,props:t}),t.children)}var iG={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ui.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function sG(e){var{id:t}=e,n=bb(e,B9),{hide:r,className:i,rootTabIndex:o}=e,l=w.useMemo(()=>hb(e.children,as),[e.children]),u=ge(g=>n9(g,t,l)),m=w.useRef(null),h=qe("recharts-pie",i);return r||u==null?(m.current=null,w.createElement(nn,{tabIndex:o,className:h})):w.createElement(w.Fragment,null,w.createElement(vb,{fn:G9,args:dt(dt({},e),{},{sectors:u})}),w.createElement(nn,{tabIndex:o,className:h},w.createElement(aG,{props:dt(dt({},n),{},{sectors:u}),previousSectorsRef:m})))}function xb(e){var t=rn(e,iG),{id:n}=t,r=bb(t,U9),i=Yn(r);return w.createElement(yb,{id:n,type:"pie"},o=>w.createElement(w.Fragment,null,w.createElement(I9,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),w.createElement(H9,si({},r,{id:o})),w.createElement(sG,si({},r,{id:o}))))}xb.displayName="Pie";function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){oG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oG(e,t,n){return(t=lG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uG={xAxis:{},yAxis:{},zAxis:{}},jP=Xn({name:"cartesianAxis",initialState:uG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:gn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:gn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:gn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:gn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:gn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:gn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);e.yAxis[n]=VA(VA({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:dG,removeXAxis:fG,addYAxis:hG,removeYAxis:mG,addZAxis:gJ,removeZAxis:pJ,updateYAxisWidth:gG}=jP.actions,pG=jP.reducer,vG=F([Bt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),yG=F([vG,va,ya],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),wb=()=>ge(yG),bG=()=>ge(ZK);function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){xG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xG(e,t,n){return(t=wG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SG=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l=WA(WA({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Zi(i)),B0(i)),u;return w.isValidElement(i)?u=w.cloneElement(i,l):typeof i=="function"?u=i(l):u=w.createElement(fP,l),w.createElement(nn,{className:"recharts-active-dot"},u)};function jG(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,o=ge(ii),l=bG();if(t==null||l==null)return null;var u=t.find(m=>l.includes(m.payload));return ht(u)?null:SG({point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var EG="Invariant failed";function OG(e,t){throw new Error(EG)}var AG=["x","y"];function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(null,arguments)}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){NG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NG(e,t,n){return(t=TG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DG(e,t){if(e==null)return{};var n,r,i=PG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function kG(e,t){var{x:n,y:r}=e,i=DG(e,AG),o="".concat(n),l=parseInt(o,10),u="".concat(r),m=parseInt(u,10),h="".concat(t.height||i.height),g=parseInt(h,10),p="".concat(t.width||i.width),y=parseInt(p,10);return Ll(Ll(Ll(Ll(Ll({},t),i),l?{x:l}:{}),m?{y:m}:{}),{},{height:g,width:y,name:t.name,radius:t.radius})}function _b(e){return w.createElement(bP,d0({shapeType:"rectangle",propTransformer:kG,activeClassName:"recharts-active-bar"},e))}var RG=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(_e(t))return t;var o=_e(r)||ht(r);return o?t(r,i):(o||OG(),n)}},MG={},EP=Xn({name:"errorBars",initialState:MG,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:vJ,replaceErrorBar:yJ,removeErrorBar:bJ}=EP.actions,IG=EP.reducer,LG=["children"];function BG(e,t){if(e==null)return{};var n,r,i=UG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $G={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},zG=w.createContext($G);function OP(e){var{children:t}=e,n=BG(e,LG);return w.createElement(zG.Provider,{value:n},t)}function Sb(e,t){var n,r,i=ge(h=>xa(h,e)),o=ge(h=>wa(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:$n.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:zn.allowDataOverflow,m=l||u;return{needClip:m,needClipX:l,needClipY:u}}function AP(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=wb(),{needClipX:o,needClipY:l,needClip:u}=Sb(t,n);if(!u)return null;var{x:m,y:h,width:g,height:p}=i;return w.createElement("clipPath",{id:"clipPath-".concat(r)},w.createElement("rect",{x:o?m:m-g/2,y:l?h:h-p/2,width:o?g:g*2,height:l?p:p*2}))}var qG=["onMouseEnter","onMouseLeave","onClick"],KG=["value","background","tooltipPosition"],HG=["id"],GG=["onMouseEnter","onClick","onMouseLeave"];function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oi.apply(null,arguments)}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){FG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FG(e,t,n){return(t=VG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function of(e,t){if(e==null)return{};var n,r,i=WG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function WG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XG=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:So(n,t),payload:e}]};function JG(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:So(o,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function ZG(e){var t=ge(ii),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:m}=o,h=of(o,qG),g=mb(l,r),p=gb(u),y=pb(m,r);if(!i||n==null)return null;var b=Zi(i);return w.createElement(w.Fragment,null,n.map((S,_)=>{var{value:j,background:O,tooltipPosition:A}=S,T=of(S,KG);if(!O)return null;var P=g(S,_),N=p(S,_),C=y(S,_),k=pn(pn(pn(pn(pn({option:i,isActive:String(_)===t},T),{},{fill:"#eee"},O),b),dc(h,S,_)),{},{onMouseEnter:P,onMouseLeave:N,onClick:C,dataKey:r,index:_,className:"recharts-bar-background-rectangle"});return w.createElement(_b,oi({key:"background-bar-".concat(_)},k))}))}function QG(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return pn(pn({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return w.createElement(uP,{value:t?i:void 0},n)}function eF(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=ge(ii),m=ge(GD),h=n&&String(o)===u&&(m==null||l===m),g=h?n:t;return w.createElement(_b,oi({},r,{name:String(r.name)},i,{isActive:h,option:g,index:o,dataKey:l}))}function tF(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return w.createElement(_b,oi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function nF(e){var{data:t,props:n}=e,r=Yn(n),{id:i}=r,o=of(r,HG),{shape:l,dataKey:u,activeBar:m}=n,{onMouseEnter:h,onClick:g,onMouseLeave:p}=n,y=of(n,GG),b=mb(h,u),S=gb(p),_=pb(g,u);return t?w.createElement(w.Fragment,null,t.map((j,O)=>w.createElement(nn,oi({key:"rectangle-".concat(j==null?void 0:j.x,"-").concat(j==null?void 0:j.y,"-").concat(j==null?void 0:j.value,"-").concat(O),className:"recharts-bar-rectangle"},dc(y,j,O),{onMouseEnter:b(j,O),onMouseLeave:S(j,O),onClick:_(j,O)}),m?w.createElement(eF,{shape:l,activeBar:m,baseProps:o,entry:j,index:O,dataKey:u}):w.createElement(tF,{shape:l,baseProps:o,entry:j,index:O,dataKey:u})))):null}function rF(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:m,onAnimationEnd:h,onAnimationStart:g}=t,p=n.current,y=pc(t,"recharts-bar-"),[b,S]=w.useState(!1),_=!b,j=w.useCallback(()=>{typeof h=="function"&&h(),S(!1)},[h]),O=w.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]);return w.createElement(QG,{showLabels:_,rects:r},w.createElement(gc,{animationId:y,begin:l,duration:u,isActive:o,easing:m,onAnimationEnd:j,onAnimationStart:O,key:y},A=>{var T=A===1?r:r==null?void 0:r.map((P,N)=>{var C=p&&p[N];if(C)return pn(pn({},P),{},{x:_t(C.x,P.x,A),y:_t(C.y,P.y,A),width:_t(C.width,P.width,A),height:_t(C.height,P.height,A)});if(i==="horizontal"){var k=_t(0,P.height,A);return pn(pn({},P),{},{y:P.y+P.height-k,height:k})}var z=_t(0,P.width,A);return pn(pn({},P),{},{width:z})});return A>0&&(n.current=T??null),T==null?null:w.createElement(nn,null,w.createElement(nF,{props:t,data:T}))}),w.createElement(ub,{label:t.label}),t.children)}function aF(e){var t=w.useRef(null);return w.createElement(rF,{previousRectanglesRef:t,props:e})}var NP=0,iF=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:st(e,t)}};class sF extends w.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:m,id:h}=this.props;if(t||n==null)return null;var g=qe("recharts-bar",i),p=h;return w.createElement(nn,{className:g,id:h},u&&w.createElement("defs",null,w.createElement(AP,{clipPathId:p,xAxisId:o,yAxisId:l})),w.createElement(nn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},w.createElement(ZG,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),w.createElement(aF,this.props)))}}var oF={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ui.isSsr,legendType:"rect",minPointSize:NP,xAxisId:0,yAxisId:0};function lF(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:m,animationEasing:h,isAnimationActive:g}=e,{needClip:p}=Sb(t,n),y=kf(),b=xn(),S=hb(e.children,as),_=ge(A=>IF(A,t,n,b,e.id,S));if(y!=="vertical"&&y!=="horizontal")return null;var j,O=_==null?void 0:_[0];return O==null||O.height==null||O.width==null?j=0:j=y==="vertical"?O.height/2:O.width/2,w.createElement(OP,{xAxisId:t,yAxisId:n,data:_,dataPointFormatter:iF,errorBarOffset:j},w.createElement(sF,oi({},e,{layout:y,needClip:p,data:_,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:m,animationEasing:h,isAnimationActive:g})))}function cF(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:m,yAxisTicks:h,stackedData:g,displayedData:p,offset:y,cells:b,parentViewBox:S}=e,_=t==="horizontal"?u:l,j=g?_.scale.domain():null,O=i5({numericAxis:_});return p.map((A,T)=>{var P,N,C,k,z,V;g?P=QU(g[T],j):(P=st(A,n),Array.isArray(P)||(P=[O,P]));var ie=RG(r,NP)(P[1],T);if(t==="horizontal"){var ee,[I,q]=[u.scale(P[0]),u.scale(P[1])];N=CE({axis:l,ticks:m,bandSize:o,offset:i.offset,entry:A,index:T}),C=(ee=q??I)!==null&&ee!==void 0?ee:void 0,k=i.size;var W=I-q;if(z=mr(W)?0:W,V={x:N,y:y.top,width:k,height:y.height},Math.abs(ie)>0&&Math.abs(z)<Math.abs(ie)){var Q=Ft(z||ie)*(Math.abs(ie)-Math.abs(z));C-=Q,z+=Q}}else{var[B,K]=[l.scale(P[0]),l.scale(P[1])];if(N=B,C=CE({axis:u,ticks:h,bandSize:o,offset:i.offset,entry:A,index:T}),k=K-B,z=i.size,V={x:y.left,y:C,width:y.width,height:z},Math.abs(ie)>0&&Math.abs(k)<Math.abs(ie)){var oe=Ft(k||ie)*(Math.abs(ie)-Math.abs(k));k+=oe}}if(N==null||C==null||k==null||z==null)return null;var ue=pn(pn({},A),{},{x:N,y:C,width:k,height:z,value:g?P:P[1],payload:A,background:V,tooltipPosition:{x:N+k/2,y:C+z/2},parentViewBox:S},b&&b[T]&&b[T].props);return ue}).filter(Boolean)}function uF(e){var t=rn(e,oF),n=xn();return w.createElement(yb,{id:t.id,type:"bar"},r=>w.createElement(w.Fragment,null,w.createElement(wP,{legendPayload:XG(t)}),w.createElement(vb,{fn:JG,args:t}),w.createElement(SP,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:a5(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),w.createElement(lF,oi({},t,{id:r}))))}var Fl=w.memo(uF);Fl.displayName="Bar";function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){dF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dF(e,t,n){return(t=fF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mF=(e,t)=>t,gF=(e,t,n)=>n,pF=(e,t,n,r)=>r,vF=(e,t,n,r,i)=>i,Nc=F([Yf,vF],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),yF=F([Nc],e=>e==null?void 0:e.maxBarSize),bF=(e,t,n,r,i,o)=>o,QA=(e,t,n)=>{var r=n??e;if(!ht(r))return dn(r,t,0)},xF=F([Ue,Yf,mF,gF,pF],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),wF=(e,t,n,r)=>{var i=Ue(e);return i==="horizontal"?a0(e,"yAxis",n,r):a0(e,"xAxis",t,r)},_F=(e,t,n)=>{var r=Ue(e);return r==="horizontal"?eA(e,"xAxis",t):eA(e,"yAxis",n)},SF=(e,t,n)=>{var r={},i=e.filter(Gf),o=e.filter(h=>h.stackId==null),l=i.reduce((h,g)=>(h[g.stackId]||(h[g.stackId]=[]),h[g.stackId].push(g),h),r),u=Object.entries(l).map(h=>{var[g,p]=h,y=p.map(S=>S.dataKey),b=QA(t,n,p[0].barSize);return{stackId:g,dataKeys:y,barSize:b}}),m=o.map(h=>{var g=[h.dataKey].filter(y=>y!=null),p=QA(t,n,h.barSize);return{stackId:void 0,dataKeys:g,barSize:p}});return[...u,...m]},jF=F([xF,aq,_F],SF),EF=(e,t,n,r,i)=>{var o,l,u=Nc(e,t,n,r,i);if(u!=null){var m=Ue(e),h=GC(e),{maxBarSize:g}=u,p=ht(g)?h:g,y,b;return m==="horizontal"?(y=ai(e,"xAxis",t,r),b=ri(e,"xAxis",t,r)):(y=ai(e,"yAxis",n,r),b=ri(e,"yAxis",n,r)),(o=(l=tc(y,b,!0))!==null&&l!==void 0?l:p)!==null&&o!==void 0?o:0}},TP=(e,t,n,r)=>{var i=Ue(e),o,l;return i==="horizontal"?(o=ai(e,"xAxis",t,r),l=ri(e,"xAxis",t,r)):(o=ai(e,"yAxis",n,r),l=ri(e,"yAxis",n,r)),tc(o,l)};function OF(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=dn(e,n,0,!0),u,m=[];if(fn(r[0].barSize)){var h=!1,g=n/o,p=r.reduce((O,A)=>O+(A.barSize||0),0);p+=(o-1)*l,p>=n&&(p-=(o-1)*l,l=0),p>=n&&g>0&&(h=!0,g*=.9,p=o*g);var y=(n-p)/2>>0,b={offset:y-l,size:0};u=r.reduce((O,A)=>{var T,P={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:b.offset+b.size+l,size:h?g:(T=A.barSize)!==null&&T!==void 0?T:0}},N=[...O,P];return b=N[N.length-1].position,N},m)}else{var S=dn(t,n,0,!0);n-2*S-(o-1)*l<=0&&(l=0);var _=(n-2*S-(o-1)*l)/o;_>1&&(_>>=0);var j=fn(i)?Math.min(_,i):_;u=r.reduce((O,A,T)=>[...O,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:S+(_+l)*T+(_-j)/2,size:j}}],m)}return u}}var AF=(e,t,n,r,i,o,l)=>{var u=ht(l)?t:l,m=OF(n,r,i!==o?i:o,e,u);return i!==o&&m!=null&&(m=m.map(h=>pd(pd({},h),{},{position:pd(pd({},h.position),{},{offset:h.position.offset-i/2})}))),m},NF=F([jF,GC,rq,FC,EF,TP,yF],AF),TF=(e,t,n,r)=>ai(e,"xAxis",t,r),CF=(e,t,n,r)=>ai(e,"yAxis",n,r),DF=(e,t,n,r)=>ri(e,"xAxis",t,r),PF=(e,t,n,r)=>ri(e,"yAxis",n,r),kF=F([NF,Nc],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),RF=(e,t)=>{var n=Py(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},MF=F([wF,Nc],RF),IF=F([Bt,Y0,TF,CF,DF,PF,kF,Ue,zf,TP,MF,Nc,bF],(e,t,n,r,i,o,l,u,m,h,g,p,y)=>{var{chartData:b,dataStartIndex:S,dataEndIndex:_}=m;if(!(p==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||h==null)){var{data:j}=p,O;if(j!=null&&j.length>0?O=j:O=b==null?void 0:b.slice(S,_+1),O!=null)return cF({layout:u,barSettings:p,pos:l,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:g,displayedData:O,offset:e,cells:y})}}),CP=e=>{var{chartData:t}=e,n=mt(),r=xn();return w.useEffect(()=>r?()=>{}:(n(uA(t)),()=>{n(uA(void 0))}),[t,n,r]),null},eN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},DP=Xn({name:"brush",initialState:eN,reducers:{setBrushSettings(e,t){return t.payload==null?eN:t.payload}}}),{setBrushSettings:xJ}=DP.actions,LF=DP.reducer;function BF(e,t,n){return(t=UF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UF(e){var t=$F(e,"string");return typeof t=="symbol"?t:t+""}function $F(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jb{static create(t){return new jb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}BF(jb,"EPS",1e-4);function zF(e){return(e%180+180)%180}var qF=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=zF(i),l=o*Math.PI/180,u=Math.atan(r/n),m=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(m)},KF={dots:[],areas:[],lines:[]},PP=Xn({name:"referenceElements",initialState:KF,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ua(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ua(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ua(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:wJ,removeDot:_J,addArea:SJ,removeArea:jJ,addLine:EJ,removeLine:OJ}=PP.actions,HF=PP.reducer,GF=w.createContext(void 0),FF=e=>{var{children:t}=e,[n]=w.useState("".concat(Jl("recharts"),"-clip")),r=wb();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return w.createElement(GF.Provider,{value:n},w.createElement("defs",null,w.createElement("clipPath",{id:n},w.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function yo(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function kP(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function VF(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return qF(r,n)}function YF(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function lf(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function WF(e,t){return kP(e,t+1)}function XF(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,m=0,h=1,g=l,p=function(){var S=r==null?void 0:r[m];if(S===void 0)return{v:kP(r,h)};var _=m,j,O=()=>(j===void 0&&(j=n(S,_)),j),A=S.coordinate,T=m===0||lf(e,A,O,g,u);T||(m=0,g=l,h+=1),T&&(g=A+e*(O()/2+i),m+=h)},y;h<=o.length;)if(y=p(),y)return y.v;return[]}function tN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(n),!0).forEach(function(r){JF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JF(e,t,n){return(t=ZF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZF(e){var t=QF(e,"string");return typeof t=="symbol"?t:t+""}function QF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eV(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:m}=t,h=function(y){var b=o[y],S,_=()=>(S===void 0&&(S=n(b,y)),S);if(y===l-1){var j=e*(b.coordinate+e*_()/2-m);o[y]=b=cn(cn({},b),{},{tickCoord:j>0?b.coordinate-j*e:b.coordinate})}else o[y]=b=cn(cn({},b),{},{tickCoord:b.coordinate});var O=lf(e,b.tickCoord,_,u,m);O&&(m=b.tickCoord-e*(_()/2+i),o[y]=cn(cn({},b),{},{isShow:!0}))},g=l-1;g>=0;g--)h(g);return o}function tV(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:m,end:h}=t;if(o){var g=r[u-1],p=n(g,u-1),y=e*(g.coordinate+e*p/2-h);l[u-1]=g=cn(cn({},g),{},{tickCoord:y>0?g.coordinate-y*e:g.coordinate});var b=lf(e,g.tickCoord,()=>p,m,h);b&&(h=g.tickCoord-e*(p/2+i),l[u-1]=cn(cn({},g),{},{isShow:!0}))}for(var S=o?u-1:u,_=function(A){var T=l[A],P,N=()=>(P===void 0&&(P=n(T,A)),P);if(A===0){var C=e*(T.coordinate-e*N()/2-m);l[A]=T=cn(cn({},T),{},{tickCoord:C<0?T.coordinate-C*e:T.coordinate})}else l[A]=T=cn(cn({},T),{},{tickCoord:T.coordinate});var k=lf(e,T.tickCoord,N,m,h);k&&(m=T.tickCoord+e*(N()/2+i),l[A]=cn(cn({},T),{},{isShow:!0}))},j=0;j<S;j++)_(j);return l}function Eb(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:m,tickFormatter:h,unit:g,angle:p}=e;if(!i||!i.length||!r)return[];if(_e(m)||ui.isSsr){var y;return(y=WF(i,_e(m)?m:0))!==null&&y!==void 0?y:[]}var b=[],S=u==="top"||u==="bottom"?"width":"height",_=g&&S==="width"?Gl(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=(T,P)=>{var N=typeof h=="function"?h(T.value,P):T.value;return S==="width"?VF(Gl(N,{fontSize:t,letterSpacing:n}),_,p):Gl(N,{fontSize:t,letterSpacing:n})[S]},O=i.length>=2?Ft(i[1].coordinate-i[0].coordinate):1,A=YF(o,O,S);return m==="equidistantPreserveStart"?XF(O,A,j,i,l):(m==="preserveStart"||m==="preserveStartEnd"?b=tV(O,A,j,i,l,m==="preserveStartEnd"):b=eV(O,A,j,i,l),b.filter(T=>T.isShow))}var nV=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(g=>{if(g){var p=g.getBoundingClientRect();p.width>l&&(l=p.width)}});var u=n?n.getBoundingClientRect().width:0,m=i+o,h=l+m+u+(n?r:0);return Math.round(h)}return 0},rV=["axisLine","width","height","className","hide","ticks"],aV=["viewBox"],iV=["viewBox"];function f0(e,t){if(e==null)return{};var n,r,i=sV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function is(){return is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},is.apply(null,arguments)}function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){oV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oV(e,t,n){return(t=lV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lV(e){var t=cV(e,"string");return typeof t=="symbol"?t:t+""}function cV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ob={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function uV(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:m}=e;if(!u)return null;var h=It(It(It({},m),Yn(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var g=+(o==="top"&&!l||o==="bottom"&&l);h=It(It({},h),{},{x1:t,y1:n+g*i,x2:t+r,y2:n+g*i})}else{var p=+(o==="left"&&!l||o==="right"&&l);h=It(It({},h),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return w.createElement("line",is({},h,{className:qe("recharts-cartesian-axis-line",Qi(u,"className"))}))}function dV(e,t,n,r,i,o,l,u,m){var h,g,p,y,b,S,_=u?-1:1,j=e.tickSize||l,O=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":h=g=e.coordinate,y=n+ +!u*i,p=y-_*j,S=p-_*m,b=O;break;case"left":p=y=e.coordinate,g=t+ +!u*r,h=g-_*j,b=h-_*m,S=O;break;case"right":p=y=e.coordinate,g=t+ +u*r,h=g+_*j,b=h+_*m,S=O;break;default:h=g=e.coordinate,y=n+ +u*i,p=y+_*j,S=p+_*m,b=O;break}return{line:{x1:h,y1:p,x2:g,y2:y},tick:{x:b,y:S}}}function fV(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function hV(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function mV(e){var{option:t,tickProps:n,value:r}=e,i,o=qe(n.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))i=w.cloneElement(t,It(It({},n),{},{className:o}));else if(typeof t=="function")i=t(It(It({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=qe(l,t==null?void 0:t.className)),i=w.createElement(eh,is({},n,{className:l}),r)}return i}function gV(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:m,orientation:h,mirror:g,x:p,y,width:b,height:S,tickSize:_,tickMargin:j,fontSize:O,letterSpacing:A,getTicksConfig:T,events:P}=e,N=Eb(It(It({},T),{},{ticks:t}),O,A),C=fV(h,g),k=hV(h,g),z=Yn(T),V=Zi(n),ie={};typeof r=="object"&&(ie=r);var ee=It(It({},z),{},{fill:"none"},ie),I=N.map((q,W)=>{var{line:Q,tick:B}=dV(q,p,y,b,S,h,_,g,j),K=It(It(It(It({textAnchor:C,verticalAnchor:k},z),{},{stroke:"none",fill:i},V),B),{},{index:W,payload:q,visibleTicksCount:N.length,tickFormatter:o,padding:u},m);return w.createElement(nn,is({className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},dc(P,q,W)),r&&w.createElement("line",is({},ee,Q,{className:qe("recharts-cartesian-axis-tick-line",Qi(r,"className"))})),n&&w.createElement(mV,{option:n,tickProps:K,value:"".concat(typeof o=="function"?o(q.value,W):q.value).concat(l||"")}))});return I.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},I):null}var pV=w.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u}=e,m=f0(e,rV),[h,g]=w.useState(""),[p,y]=w.useState(""),b=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return nV({ticks:b.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=w.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=j;var O=j[0];if(O){var A=window.getComputedStyle(O),T=A.fontSize,P=A.letterSpacing;(T!==h||P!==p)&&(g(T),y(P))}}},[h,p]);return l||r!=null&&r<=0||i!=null&&i<=0?null:w.createElement(nn,{className:qe("recharts-cartesian-axis",o),ref:S},w.createElement(uV,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Yn(e)}),w.createElement(gV,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:h,letterSpacing:p,getTicksConfig:e,events:m}),w.createElement(yH,{x:e.x,y:e.y,width:e.width,height:e.height},w.createElement(NH,{label:e.label,labelRef:e.labelRef}),e.children))}),vV=w.memo(pV,(e,t)=>{var{viewBox:n}=e,r=f0(e,aV),{viewBox:i}=t,o=f0(t,iV);return yo(n,i)&&yo(r,o)}),Ab=w.forwardRef((e,t)=>{var n=rn(e,Ob);return w.createElement(vV,is({},n,{ref:t}))});Ab.displayName="CartesianAxis";var yV=["x1","y1","x2","y2","key"],bV=["offset"],xV=["xAxisId","yAxisId"],wV=["xAxisId","yAxisId"];function rN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(n),!0).forEach(function(r){_V(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _V(e,t,n){return(t=SV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SV(e){var t=jV(e,"string");return typeof t=="symbol"?t:t+""}function jV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hi.apply(null,arguments)}function cf(e,t){if(e==null)return{};var n,r,i=EV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OV=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return w.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RP(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:l,key:u}=t,m=cf(t,yV),h=Yn(m),{offset:g}=h,p=cf(h,bV);n=w.createElement("line",Hi({},p,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:u}))}return n}function AV(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=cf(e,xV),m=i.map((h,g)=>{var p=un(un({},u),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(g),index:g});return RP(r,p)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function NV(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=cf(e,wV),m=i.map((h,g)=>{var p=un(un({},u),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(g),index:g});return RP(r,p)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function TV(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var h=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var g=h.map((p,y)=>{var b=!h[y+1],S=b?i+l-p:h[y+1]-p;if(S<=0)return null;var _=y%t.length;return w.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:S,width:o,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function CV(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var h=m.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==h[0]&&h.unshift(0);var g=h.map((p,y)=>{var b=!h[y+1],S=b?i+l-p:h[y+1]-p;if(S<=0)return null;var _=y%n.length;return w.createElement("rect",{key:"react-".concat(y),x:p,y:o,width:S,height:u,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var DV=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return NT(Eb(un(un(un({},Ob),n),{},{ticks:TT(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},PV=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return NT(Eb(un(un(un({},Ob),n),{},{ticks:TT(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},kV={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Gi(e){var t=X0(),n=J0(),r=IT(),i=un(un({},rn(e,kV)),{},{x:_e(e.x)?e.x:r.left,y:_e(e.y)?e.y:r.top,width:_e(e.width)?e.width:r.width,height:_e(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:m,width:h,height:g,syncWithTicks:p,horizontalValues:y,verticalValues:b}=i,S=xn(),_=ge(V=>tA(V,"xAxis",o,S)),j=ge(V=>tA(V,"yAxis",l,S));if(!_e(h)||h<=0||!_e(g)||g<=0||!_e(u)||u!==+u||!_e(m)||m!==+m)return null;var O=i.verticalCoordinatesGenerator||DV,A=i.horizontalCoordinatesGenerator||PV,{horizontalPoints:T,verticalPoints:P}=i;if((!T||!T.length)&&typeof A=="function"){var N=y&&y.length,C=A({yAxis:j?un(un({},j),{},{ticks:N?y:j.ticks}):void 0,width:t,height:n,offset:r},N?!0:p);$d(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(T=C)}if((!P||!P.length)&&typeof O=="function"){var k=b&&b.length,z=O({xAxis:_?un(un({},_),{},{ticks:k?b:_.ticks}):void 0,width:t,height:n,offset:r},k?!0:p);$d(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(P=z)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(OV,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),w.createElement(TV,Hi({},i,{horizontalPoints:T})),w.createElement(CV,Hi({},i,{verticalPoints:P})),w.createElement(AV,Hi({},i,{offset:r,horizontalPoints:T,xAxis:_,yAxis:j})),w.createElement(NV,Hi({},i,{offset:r,verticalPoints:P,xAxis:_,yAxis:j})))}Gi.displayName="CartesianGrid";var MP=(e,t,n,r)=>ai(e,"xAxis",t,r),IP=(e,t,n,r)=>ri(e,"xAxis",t,r),LP=(e,t,n,r)=>ai(e,"yAxis",n,r),BP=(e,t,n,r)=>ri(e,"yAxis",n,r),RV=F([Ue,MP,LP,IP,BP],(e,t,n,r,i)=>ci(e,"xAxis")?tc(t,r,!1):tc(n,i,!1)),MV=(e,t,n,r,i)=>i;function IV(e){return e.type==="line"}var LV=F([Yf,MV],(e,t)=>e.filter(IV).find(n=>n.id===t)),BV=F([Ue,MP,LP,IP,BP,LV,RV,zf],(e,t,n,r,i,o,l,u)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:g}=u;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:p,data:y}=o,b;if(y!=null&&y.length>0?b=y:b=m==null?void 0:m.slice(h,g+1),b!=null)return oY({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:b})}});function UV(e){var t=Zi(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var $V=["id"],zV=["type","layout","connectNulls","needClip"],qV=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){KV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KV(e,t,n){return(t=HV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nb(e,t){if(e==null)return{};var n,r,i=FV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(null,arguments)}var VV=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:So(n,t),payload:e}]};function YV(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:So(l,t),hide:u,type:e.tooltipType,color:e.stroke,unit:m}}}var UP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function WV(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var XV=(e,t,n)=>{var r=n.reduce((p,y)=>p+y);if(!r)return UP(t,e);for(var i=Math.floor(e/r),o=e%r,l=t-e,u=[],m=0,h=0;m<n.length;h+=n[m],++m)if(h+n[m]>o){u=[...n.slice(0,m),o-h];break}var g=u.length%2===0?[0,l]:[l];return[...WV(n,i),...u,...g].map(p=>"".concat(p,"px")).join(", ")};function JV(e,t){var n;if(w.isValidElement(e))n=w.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=qe("recharts-line-dot",typeof e!="boolean"?e.className:"");n=w.createElement(fP,ss({},t,{className:r}))}return n}function ZV(e,t){return e==null?!1:t?!0:e.length===1}function QV(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:l}=r;if(!ZV(n,i))return null;var{id:u}=r,m=Nb(r,$V),h=yP(i),g=Yn(m),p=q3(i),y=n.map((S,_)=>{var j=Kn(Kn(Kn({key:"dot-".concat(_),r:3},g),p),{},{index:_,cx:S.x,cy:S.y,dataKey:o,value:S.value,payload:S.payload,points:n});return JV(i,j)}),b={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(t,")"):void 0};return w.createElement(nn,ss({className:"recharts-line-dots",key:"dots"},b),y)}function eY(e){var{showLabels:t,children:n,points:r}=e,i=w.useMemo(()=>r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:0,height:0};return Kn(Kn({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return w.createElement(uP,{value:t?i:null},n)}function iN(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:l,layout:u,connectNulls:m,needClip:h}=o,g=Nb(o,zV),p=Kn(Kn({},bn(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:m,strokeDasharray:i??o.strokeDasharray});return w.createElement(w.Fragment,null,(r==null?void 0:r.length)>1&&w.createElement(Q0,ss({},p,{pathRef:n})),w.createElement(QV,{points:r,clipPathId:t,props:o}))}function tY(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function nY(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:l,strokeDasharray:u,isAnimationActive:m,animationBegin:h,animationDuration:g,animationEasing:p,animateNewValues:y,width:b,height:S,onAnimationEnd:_,onAnimationStart:j}=n,O=i.current,A=pc(n,"recharts-line-"),[T,P]=w.useState(!1),N=!T,C=w.useCallback(()=>{typeof _=="function"&&_(),P(!1)},[_]),k=w.useCallback(()=>{typeof j=="function"&&j(),P(!0)},[j]),z=tY(r.current),V=o.current;return w.createElement(eY,{points:l,showLabels:N},n.children,w.createElement(gc,{animationId:A,begin:h,duration:g,isActive:m,easing:p,onAnimationEnd:C,onAnimationStart:k,key:A},ie=>{var ee=_t(V,z+V,ie),I=Math.min(ee,z),q;if(m)if(u){var W="".concat(u).split(/[,\s]+/gim).map(K=>parseFloat(K));q=XV(I,z,W)}else q=UP(z,I);else q=u==null?void 0:String(u);if(O){var Q=O.length/l.length,B=ie===1?l:l.map((K,oe)=>{var ue=Math.floor(oe*Q);if(O[ue]){var J=O[ue];return Kn(Kn({},K),{},{x:_t(J.x,K.x,ie),y:_t(J.y,K.y,ie)})}return y?Kn(Kn({},K),{},{x:_t(b*2,K.x,ie),y:_t(S/2,K.y,ie)}):Kn(Kn({},K),{},{x:K.x,y:K.y})});return i.current=B,w.createElement(iN,{props:n,points:B,clipPathId:t,pathRef:r,strokeDasharray:q})}return ie>0&&z>0&&(i.current=l,o.current=I),w.createElement(iN,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:q})}),w.createElement(ub,{label:n.label}))}function rY(e){var{clipPathId:t,props:n}=e,r=w.useRef(null),i=w.useRef(0),o=w.useRef(null);return w.createElement(nY,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var aY=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:st(e.payload,t)});class iY extends w.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:l,top:u,left:m,width:h,height:g,id:p,needClip:y}=this.props;if(t)return null;var b=qe("recharts-line",i),S=p,{r:_,strokeWidth:j}=UV(n),O=yP(n),A=_*2+j;return w.createElement(w.Fragment,null,w.createElement(nn,{className:b},y&&w.createElement("defs",null,w.createElement(AP,{clipPathId:S,xAxisId:o,yAxisId:l}),!O&&w.createElement("clipPath",{id:"clipPath-dots-".concat(S)},w.createElement("rect",{x:m-A/2,y:u-A/2,width:h+A,height:g+A}))),w.createElement(OP,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:aY,errorBarOffset:0},w.createElement(rY,{props:this.props,clipPathId:S}))),w.createElement(jG,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var $P={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ui.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function sY(e){var t=rn(e,$P),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:m,hide:h,isAnimationActive:g,label:p,legendType:y,xAxisId:b,yAxisId:S,id:_}=t,j=Nb(t,qV),{needClip:O}=Sb(b,S),A=wb(),T=kf(),P=xn(),N=ge(ie=>BV(ie,b,S,P,_));if(T!=="horizontal"&&T!=="vertical"||N==null||A==null)return null;var{height:C,width:k,x:z,y:V}=A;return w.createElement(iY,ss({},j,{id:_,connectNulls:u,dot:m,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,isAnimationActive:g,hide:h,label:p,legendType:y,xAxisId:b,yAxisId:S,points:N,layout:T,height:C,width:k,left:z,top:V,needClip:O}))}function oY(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:l,bandSize:u,displayedData:m}=e;return m.map((h,g)=>{var p=st(h,l);if(t==="horizontal"){var y=TE({axis:n,ticks:i,bandSize:u,entry:h,index:g}),b=ht(p)?null:r.scale(p);return{x:y,y:b,value:p,payload:h}}var S=ht(p)?null:n.scale(p),_=TE({axis:r,ticks:o,bandSize:u,entry:h,index:g});return S==null||_==null?null:{x:S,y:_,value:p,payload:h}}).filter(Boolean)}function lY(e){var t=rn(e,$P),n=xn();return w.createElement(yb,{id:t.id,type:"line"},r=>w.createElement(w.Fragment,null,w.createElement(wP,{legendPayload:VV(t)}),w.createElement(vb,{fn:YV,args:t}),w.createElement(SP,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),w.createElement(sY,ss({},t,{id:r}))))}var uf=w.memo(lY);uf.displayName="Line";var cY=["dangerouslySetInnerHTML","ticks"],uY=["id"],dY=["domain"],fY=["domain"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h0.apply(null,arguments)}function df(e,t){if(e==null)return{};var n,r,i=hY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mY(e){var t=mt();return w.useLayoutEffect(()=>(t(dG(e)),()=>{t(fG(e))}),[e,t]),null}var gY=e=>{var{xAxisId:t,className:n}=e,r=ge(Y0),i=xn(),o="xAxis",l=ge(j=>Do(j,o,t,i)),u=ge(j=>jD(j,o,t,i)),m=ge(j=>xD(j,t)),h=ge(j=>Zq(j,t)),g=ge(j=>tD(j,t));if(m==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:p,ticks:y}=e,b=df(e,cY),{id:S}=g,_=df(g,uY);return w.createElement(Ab,h0({},b,_,{scale:l,x:h.x,y:h.y,width:m.width,height:m.height,className:qe("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},pY={allowDataOverflow:$n.allowDataOverflow,allowDecimals:$n.allowDecimals,allowDuplicatedCategory:$n.allowDuplicatedCategory,height:$n.height,hide:!1,mirror:$n.mirror,orientation:$n.orientation,padding:$n.padding,reversed:$n.reversed,scale:$n.scale,tickCount:$n.tickCount,type:$n.type,xAxisId:0},vY=e=>{var t,n,r,i,o,l=rn(e,pY);return w.createElement(w.Fragment,null,w.createElement(mY,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),w.createElement(gY,l))},yY=(e,t)=>{var{domain:n}=e,r=df(e,dY),{domain:i}=t,o=df(t,fY);return yo(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:yo({domain:n},{domain:i}):!1},Fi=w.memo(vY,yY);Fi.displayName="XAxis";var bY=["dangerouslySetInnerHTML","ticks"],xY=["id"],wY=["domain"],_Y=["domain"];function m0(){return m0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m0.apply(null,arguments)}function ff(e,t){if(e==null)return{};var n,r,i=SY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jY(e){var t=mt();return w.useLayoutEffect(()=>(t(hG(e)),()=>{t(mG(e))}),[e,t]),null}var EY=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=w.useRef(null),l=w.useRef(null),u=ge(Y0),m=xn(),h=mt(),g="yAxis",p=ge(N=>Do(N,g,t,m)),y=ge(N=>wD(N,t)),b=ge(N=>eK(N,t)),S=ge(N=>jD(N,g,t,m)),_=ge(N=>nD(N,t));if(w.useLayoutEffect(()=>{if(!(r!=="auto"||!y||cb(i)||w.isValidElement(i)||_==null)){var N=o.current;if(N){var C=N.getCalculatedWidth();Math.round(y.width)!==Math.round(C)&&h(gG({id:t,width:C}))}}},[S,y,h,i,t,r,_]),y==null||b==null||_==null)return null;var{dangerouslySetInnerHTML:j,ticks:O}=e,A=ff(e,bY),{id:T}=_,P=ff(_,xY);return w.createElement(Ab,m0({},A,P,{ref:o,labelRef:l,scale:p,x:b.x,y:b.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:qe("recharts-".concat(g," ").concat(g),n),viewBox:u,ticks:S}))},OY={allowDataOverflow:zn.allowDataOverflow,allowDecimals:zn.allowDecimals,allowDuplicatedCategory:zn.allowDuplicatedCategory,hide:!1,mirror:zn.mirror,orientation:zn.orientation,padding:zn.padding,reversed:zn.reversed,scale:zn.scale,tickCount:zn.tickCount,type:zn.type,width:zn.width,yAxisId:0},AY=e=>{var t,n,r,i,o,l=rn(e,OY);return w.createElement(w.Fragment,null,w.createElement(jY,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),w.createElement(EY,l))},NY=(e,t)=>{var{domain:n}=e,r=ff(e,wY),{domain:i}=t,o=ff(t,_Y);return yo(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:yo({domain:n},{domain:i}):!1},Vi=w.memo(AY,NY);Vi.displayName="YAxis";var iv={exports:{}},sv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sN;function TY(){if(sN)return sv;sN=1;var e=bo();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return sv.useSyncExternalStoreWithSelector=function(m,h,g,p,y){var b=i(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=l(function(){function j(N){if(!O){if(O=!0,A=N,N=p(N),y!==void 0&&S.hasValue){var C=S.value;if(y(C,N))return T=C}return T=N}if(C=T,n(A,N))return C;var k=p(N);return y!==void 0&&y(C,k)?(A=N,C):(A=N,T=k)}var O=!1,A,T,P=g===void 0?null:g;return[function(){return j(h())},P===null?void 0:function(){return j(P())}]},[h,g,p,y]);var _=r(m,b[0],b[1]);return o(function(){S.hasValue=!0,S.value=_},[_]),u(_),_},sv}var oN;function CY(){return oN||(oN=1,iv.exports=TY()),iv.exports}CY();function DY(e){e()}function PY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){DY(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var lN={notify(){},get:()=>[]};function kY(e,t){let n,r=lN,i=0,o=!1;function l(_){g();const j=r.subscribe(_);let O=!1;return()=>{O||(O=!0,j(),p())}}function u(){r.notify()}function m(){S.onStateChange&&S.onStateChange()}function h(){return o}function g(){i++,n||(n=e.subscribe(m),r=PY())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=lN)}function y(){o||(o=!0,g())}function b(){o&&(o=!1,p())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:h,trySubscribe:y,tryUnsubscribe:b,getListeners:()=>r};return S}var RY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MY=RY(),IY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",LY=IY(),BY=()=>MY||LY?w.useLayoutEffect:w.useEffect,UY=BY(),ov=Symbol.for("react-redux-context"),lv=typeof globalThis<"u"?globalThis:{};function $Y(){if(!w.createContext)return{};const e=lv[ov]??(lv[ov]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var zY=$Y();function qY(e){const{children:t,context:n,serverState:r,store:i}=e,o=w.useMemo(()=>{const m=kY(i);return{store:i,subscription:m,getServerState:r?()=>r:void 0}},[i,r]),l=w.useMemo(()=>i.getState(),[i]);UY(()=>{const{subscription:m}=o;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),l!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[o,l]);const u=n||zY;return w.createElement(u.Provider,{value:o},t)}var KY=qY,HY=(e,t)=>t,Tb=F([HY,Ue,ZC,$t,zD,_a,i7,Bt],u7),Cb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},zP=gr("mouseClick"),qP=hc();qP.startListening({actionCreator:zP,effect:(e,t)=>{var n=e.payload,r=Tb(t.getState(),Cb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(hK({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var g0=gr("mouseMove"),KP=hc();KP.startListening({actionCreator:g0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Qy(r,r.tooltip.settings.shared),o=Tb(r,Cb(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(PD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(DD()))}});var cN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},HP=Xn({name:"rootProps",initialState:cN,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:cN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),GY=HP.reducer,{updateOptions:FY}=HP.actions,GP=Xn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:VY}=GP.actions,YY=GP.reducer,FP=gr("keyDown"),VP=gr("focus"),Db=hc();Db.startListening({actionCreator:FP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(eb(i,ko(n))),u=_a(n);if(o==="Enter"){var m=nf(n,"axis","hover",String(i.index));t.dispatch(s0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:m}));return}var h=aK(n),g=h==="left-to-right"?1:-1,p=o==="ArrowRight"?1:-1,y=l+p*g;if(!(u==null||y>=u.length||y<0)){var b=nf(n,"axis","hover",String(y));t.dispatch(s0({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});Db.startListening({actionCreator:VP,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=nf(n,"axis","hover",String(o));t.dispatch(s0({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var dr=gr("externalEvent"),YP=hc();YP.startListening({actionCreator:dr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:WK(n),activeDataKey:GD(n),activeIndex:ii(n),activeLabel:HD(n),activeTooltipIndex:ii(n),isTooltipActive:XK(n)};e.payload.handler(r,e.payload.reactEvent)}}});var WY=F([Po],e=>e.tooltipItemPayloads),XY=F([WY,Oc,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),WP=gr("touchMove"),XP=hc();XP.startListening({actionCreator:WP,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Qy(r,r.tooltip.settings.shared);if(i==="axis"){var o=Tb(r,Cb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(PD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(DT),g=(l=m.getAttribute(PT))!==null&&l!==void 0?l:void 0,p=XY(t.getState(),h,g);t.dispatch(CD({activeDataKey:g,activeIndex:h,activeCoordinate:p}))}}});var JY=tT({brush:LF,cartesianAxis:pG,chartData:O7,errorBars:IG,graphicalItems:M9,layout:LU,legend:K5,options:w7,polarAxis:WH,polarOptions:YY,referenceElements:HF,rootProps:GY,tooltip:mK}),ZY=function(t){return lU({reducer:JY,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([qP.middleware,KP.middleware,Db.middleware,YP.middleware,XP.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(hT({type:"raf"}))},devTools:ui.devToolsEnabled})};function JP(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=xn(),o=w.useRef(null);if(i)return n;o.current==null&&(o.current=ZY(t));var l=q0;return w.createElement(KY,{context:l,store:o.current},n)}function ZP(e){var{layout:t,margin:n}=e,r=mt(),i=xn();return w.useEffect(()=>{i||(r(RU(t)),r(kU(n)))},[r,i,t,n]),null}function QP(e){var t=mt();return w.useEffect(()=>{t(FY(e))},[t,e]),null}var QY=["children"];function eW(e,t){if(e==null)return{};var n,r,i=tW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hf.apply(null,arguments)}var nW={width:"100%",height:"100%",display:"block"},rW=w.forwardRef((e,t)=>{var n=X0(),r=J0(),i=$T();if(!fo(n)||!fo(r))return null;var{children:o,otherAttributes:l,title:u,desc:m}=e,h,g;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?g=l.role:g=i?"application":void 0,w.createElement(C0,hf({},l,{title:u,desc:m,role:g,tabIndex:h,width:n,height:r,style:nW,ref:t}),o)}),aW=e=>{var{children:t}=e,n=ge(Df);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return w.createElement(C0,{width:r,height:i,x:l,y:o},t)},uN=w.forwardRef((e,t)=>{var{children:n}=e,r=eW(e,QY),i=xn();return i?w.createElement(aW,null,n):w.createElement(rW,hf({ref:t},r),n)});function iW(){var e=mt(),[t,n]=w.useState(null),r=ge(f5);return w.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;fn(o)&&o!==r&&e(IU(o))}},[t,e,r]),n}function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){oW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oW(e,t,n){return(t=lW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},os.apply(null,arguments)}var uW=()=>(M7(),null);function mf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var dW=w.forwardRef((e,t)=>{var n,r,i=w.useRef(null),[o,l]=w.useState({containerWidth:mf((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:mf((r=e.style)===null||r===void 0?void 0:r.height)}),u=w.useCallback((h,g)=>{l(p=>{var y=Math.round(h),b=Math.round(g);return p.containerWidth===y&&p.containerHeight===b?p:{containerWidth:y,containerHeight:b}})},[]),m=w.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:g,height:p}=h.getBoundingClientRect();u(g,p);var y=S=>{var{width:_,height:j}=S[0].contentRect;u(_,j)},b=new ResizeObserver(y);b.observe(h),i.current=b}},[t,u]);return w.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[u]),w.createElement(w.Fragment,null,w.createElement(Rf,{width:o.containerWidth,height:o.containerHeight}),w.createElement("div",os({ref:m},e)))}),fW=w.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=w.useState({containerWidth:mf(n),containerHeight:mf(r)}),l=w.useCallback((m,h)=>{o(g=>{var p=Math.round(m),y=Math.round(h);return g.containerWidth===p&&g.containerHeight===y?g:{containerWidth:p,containerHeight:y}})},[]),u=w.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:h,height:g}=m.getBoundingClientRect();l(h,g)}},[t,l]);return w.createElement(w.Fragment,null,w.createElement(Rf,{width:i.containerWidth,height:i.containerHeight}),w.createElement("div",os({ref:u},e)))}),hW=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return w.createElement(w.Fragment,null,w.createElement(Rf,{width:n,height:r}),w.createElement("div",os({ref:t},e)))}),mW=w.forwardRef((e,t)=>{var{width:n,height:r}=e;return fa(n)||fa(r)?w.createElement(fW,os({},e,{ref:t})):w.createElement(hW,os({},e,{ref:t}))});function gW(e){return e===!0?dW:mW}var pW=w.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:m,onMouseEnter:h,onMouseLeave:g,onMouseMove:p,onMouseUp:y,onTouchEnd:b,onTouchMove:S,onTouchStart:_,style:j,width:O,responsive:A,dispatchTouchEvents:T=!0}=e,P=w.useRef(null),N=mt(),[C,k]=w.useState(null),[z,V]=w.useState(null),ie=iW(),ee=W0(),I=(ee==null?void 0:ee.width)>0?ee.width:O,q=(ee==null?void 0:ee.height)>0?ee.height:i,W=w.useCallback(X=>{ie(X),typeof t=="function"&&t(X),k(X),V(X),X!=null&&(P.current=X)},[ie,t,k,V]),Q=w.useCallback(X=>{N(zP(X)),N(dr({handler:o,reactEvent:X}))},[N,o]),B=w.useCallback(X=>{N(g0(X)),N(dr({handler:h,reactEvent:X}))},[N,h]),K=w.useCallback(X=>{N(DD()),N(dr({handler:g,reactEvent:X}))},[N,g]),oe=w.useCallback(X=>{N(g0(X)),N(dr({handler:p,reactEvent:X}))},[N,p]),ue=w.useCallback(()=>{N(VP())},[N]),J=w.useCallback(X=>{N(FP(X.key))},[N]),R=w.useCallback(X=>{N(dr({handler:l,reactEvent:X}))},[N,l]),L=w.useCallback(X=>{N(dr({handler:u,reactEvent:X}))},[N,u]),re=w.useCallback(X=>{N(dr({handler:m,reactEvent:X}))},[N,m]),le=w.useCallback(X=>{N(dr({handler:y,reactEvent:X}))},[N,y]),ce=w.useCallback(X=>{N(dr({handler:_,reactEvent:X}))},[N,_]),xe=w.useCallback(X=>{T&&N(WP(X)),N(dr({handler:S,reactEvent:X}))},[N,T,S]),de=w.useCallback(X=>{N(dr({handler:b,reactEvent:X}))},[N,b]),ye=gW(A);return w.createElement(JD.Provider,{value:C},w.createElement(y2.Provider,{value:z},w.createElement(ye,{width:I??(j==null?void 0:j.width),height:q??(j==null?void 0:j.height),className:qe("recharts-wrapper",r),style:sW({position:"relative",cursor:"default",width:I,height:q},j),onClick:Q,onContextMenu:R,onDoubleClick:L,onFocus:ue,onKeyDown:J,onMouseDown:re,onMouseEnter:B,onMouseLeave:K,onMouseMove:oe,onMouseUp:le,onTouchEnd:de,onTouchMove:xe,onTouchStart:ce,ref:W},w.createElement(uW,null),n)))}),vW=["width","height","responsive","children","className","style","compact","title","desc"];function yW(e,t){if(e==null)return{};var n,r,i=bW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ek=w.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:m,title:h,desc:g}=e,p=yW(e,vW),y=Yn(p);return m?w.createElement(w.Fragment,null,w.createElement(Rf,{width:n,height:r}),w.createElement(uN,{otherAttributes:y,title:h,desc:g},o)):w.createElement(pW,{className:l,style:u,width:n,height:r,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(uN,{otherAttributes:y,title:h,desc:g,ref:t},w.createElement(FF,null,o)))});function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(null,arguments)}var xW={top:5,right:5,bottom:5,left:5},wW={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xW,reverseStackOrder:!1,syncMethod:"index",responsive:!1},tk=w.forwardRef(function(t,n){var r,i=rn(t.categoricalChartProps,wW),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,categoricalChartProps:h}=t,g={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:m,eventEmitter:void 0};return w.createElement(JP,{preloadedState:{options:g},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:o},w.createElement(CP,{chartData:h.data}),w.createElement(ZP,{layout:i.layout,margin:i.margin}),w.createElement(QP,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(ek,p0({},i,{ref:n})))}),_W=["axis"],nk=w.forwardRef((e,t)=>w.createElement(tk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_W,tooltipPayloadSearcher:lb,categoricalChartProps:e,ref:t})),SW=["axis","item"],wd=w.forwardRef((e,t)=>w.createElement(tk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:SW,tooltipPayloadSearcher:lb,categoricalChartProps:e,ref:t}));function jW(e){var t=mt();return w.useEffect(()=>{t(VY(e))},[t,e]),null}var EW=["layout"];function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(null,arguments)}function OW(e,t){if(e==null)return{};var n,r,i=AW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var NW={top:5,right:5,bottom:5,left:5},TW={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:NW,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},CW=w.forwardRef(function(t,n){var r,i=rn(t.categoricalChartProps,TW),{layout:o}=i,l=OW(i,EW),{chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g}=t,p={chartName:u,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return w.createElement(JP,{preloadedState:{options:p},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},w.createElement(CP,{chartData:i.data}),w.createElement(ZP,{layout:o,margin:i.margin}),w.createElement(QP,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),w.createElement(jW,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),w.createElement(ek,v0({},l,{ref:n})))}),DW=["item"],PW={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},rk=w.forwardRef((e,t)=>{var n=rn(e,PW);return w.createElement(CW,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:DW,tooltipPayloadSearcher:lb,categoricalChartProps:n,ref:t})});const kW=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[d.jsx("path",{d:"m7.5 4.27 9 5.15"}),d.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),d.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),d.jsx("path",{d:"M12 22V12"})]}),RW=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[d.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),d.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),MW=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[d.jsx("path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"}),d.jsx("path",{d:"M17 15.5V6"}),d.jsx("path",{d:"M21 15.5V6"}),d.jsx("path",{d:"M13 15.5V6"}),d.jsx("path",{d:"m15.3 18.7 3.4 2.6 3.4-2.6"}),d.jsx("path",{d:"M18.7 21.3v-6.6"})]}),IW=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[d.jsx("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1V21c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5V3h5.5l3.5 3.5V21c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5V6.5L15.5 2z"}),d.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]}),LW=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),d.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),d.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),fN=({type:e})=>e==="positive"?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"inline mr-1",children:d.jsx("path",{d:"M12 5v14M18 11l-6-6-6 6"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"inline mr-1",children:d.jsx("path",{d:"M12 5v14M18 13l-6 6-6-6"})}),hN=["#8d5437","#b97a4d","#c8956f","#dcbca1"],y0=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),BW=({active:e,payload:t,label:n,totalSales:r})=>{if(e&&t&&t.length){const i=t[0].payload,o=r>0?(i.amount/r*100).toFixed(2):0;return d.jsxs("div",{className:"p-3 bg-white border border-brand-brown-200 rounded-lg shadow-lg",children:[d.jsx("p",{className:"font-bold text-brand-brown-800",children:`${n}`}),d.jsx("p",{className:"text-sm text-gray-700",children:`Sales: ${y0(i.amount)}`}),d.jsx("p",{className:"text-sm text-brand-green-700",children:`Contribution: ${o}%`})]})}return null},mN=Math.PI/180,UW=({cx:e,cy:t,midAngle:n,innerRadius:r,outerRadius:i,percent:o})=>{const l=r+(i-r)*.5,u=e+l*Math.cos(-n*mN),m=t+l*Math.sin(-n*mN);return o<.05?null:d.jsx("text",{x:u,y:m,fill:"#5d3a2b",textAnchor:"middle",dominantBaseline:"central",fontWeight:"bold",fontSize:"14px",children:`${(o*100).toFixed(0)}%`})},$W=({data:e})=>{const[t,n]=w.useState(""),[r,i]=w.useState(!0),[o,l]=w.useState(!0),[u,m]=w.useState([]),{t:h}=Re(),[g,p]=w.useState([]),[y,b]=w.useState([]),[S,_]=w.useState([]),[j,O]=w.useState([]),[A,T]=w.useState([]),P=w.useCallback(async()=>{l(!0);const[L,re,le,ce,xe]=await Promise.all([e.stock.getAll(),e.sales.getAll(),e.purchaseOrders.getAll(),e.alertSettings.getAll(),e.warehouseLogs.getAll()]);p(L),b(re),_(le),O(ce),T(xe),l(!1)},[e]);w.useEffect(()=>{P()},[P]);const N=w.useCallback(async()=>{if(g.length===0)return;i(!0);const L=await U3();n(L),i(!1)},[g,y,S]);w.useEffect(()=>{o||N()},[o,N]);const C=w.useMemo(()=>{const L=new Date,re=new Date(new Date().setDate(L.getDate()-30)),le=new Date(new Date().setDate(L.getDate()-60)),ce=(be,Ce)=>{const Ge=y.filter(Me=>new Date(Me.saleDate)>=be&&new Date(Me.saleDate)<=Ce),qt=Ge.reduce((Me,Yt)=>Me+Yt.totalAmount,0),bt=Ge.reduce((Me,Yt)=>Me+Yt.items.reduce((an,Xe)=>an+Xe.quantityKg,0),0);return{revenue:qt,quantitySold:bt}},xe=ce(re,L),de=ce(le,new Date(re.getTime()-1)),ye=new Date(new Date().setDate(L.getDate()-7)),X=A.filter(be=>new Date(be.date)>=ye),we=g.filter(be=>be.type===Lt.GREEN_BEAN),je=we.map(be=>be.id),se=X.filter(be=>je.includes(be.itemId)).reduce((be,Ce)=>be+Ce.change,0),Fe=we.reduce((be,Ce)=>be+Ce.quantityKg,0),me=S.filter(be=>be.status===Ar.PENDING||be.status===Ar.APPROVED).reduce((be,Ce)=>be+Ce.items.reduce((Ge,qt)=>Ge+qt.pricePerKg*qt.quantityKg,0),0);return{currentPeriod:xe,previousPeriod:de,netStockChangeLast7Days:se,totalGreenBeanStock:Fe,pendingPOsValue:me}},[y,g,A,S]),k=(L,re)=>re===0?L>0?1/0:0:(L-re)/Math.abs(re)*100,z=(L,re="%")=>{const le=h("dashboard.trend_vsPrevDays");if(re==="kg"){const de=L>0?"+":"",ye=L===0?"neutral":L>0?"positive":"negative";return{text:h("dashboard.stockTrend_lastDays",{change:`${de}${L.toFixed(2)}`}),type:ye}}if(L===1/0)return{text:"+100%+",type:"positive"};if(isNaN(L)||L===0)return{text:le,type:"neutral"};const ce=L>0?"+":"",xe=L>0?"positive":"negative";return{text:`${ce}${L.toFixed(1)}% ${le}`,type:xe}},V=k(C.currentPeriod.revenue,C.previousPeriod.revenue),ie=k(C.currentPeriod.quantitySold,C.previousPeriod.quantitySold),ee=z(C.netStockChangeLast7Days,"kg"),I=z(V),q=z(ie),W=w.useMemo(()=>j.map(L=>{const re=g.filter(le=>le.variety===L.variety&&le.type===L.type).reduce((le,ce)=>le+ce.quantityKg,0);return re<=L.threshold?{...L,currentStock:re}:null}).filter(Boolean),[g,j]),{salesChartData:Q,totalSalesValue:B,stockDistributionData:K,varietyColors:oe}=w.useMemo(()=>{const L=y.flatMap(de=>de.items).reduce((de,ye)=>{const X=ye.quantityKg*ye.pricePerKg;return de[ye.variety]=(de[ye.variety]||0)+X,de},{}),re=Object.values(L).reduce((de,ye)=>de+ye,0),le=Object.entries(L).map(([de,ye])=>({name:de,amount:parseFloat(ye.toFixed(2))})),ce=g.filter(de=>de.type===Lt.GREEN_BEAN).map(de=>({name:de.variety,value:de.quantityKg})),xe={};return ce.forEach((de,ye)=>{xe[de.name]=hN[ye%hN.length]}),{salesChartData:le,totalSalesValue:re,stockDistributionData:ce,varietyColors:xe}},[y,g]),ue=w.useMemo(()=>K.filter(L=>!u.includes(L.name)),[K,u]),J=L=>m(re=>re.includes(L.value)?re.filter(le=>le!==L.value):[...re,L.value]),R=L=>d.jsx("span",{style:{color:u.includes(L)?"#A0A0A0":"#333"},children:L});return o?d.jsx("div",{className:"text-center p-8",children:"Loading dashboard data..."}):d.jsxs("div",{className:"space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:h("dashboard.title")}),d.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[d.jsx(Mt,{title:h("dashboard.card_totalStock"),value:`${C.totalGreenBeanStock.toFixed(2)} kg`,icon:d.jsx(kW,{}),change:d.jsx(d.Fragment,{children:ee.text}),changeType:ee.type}),d.jsx(Mt,{title:h("dashboard.card_revenue"),value:y0(C.currentPeriod.revenue),icon:d.jsx(RW,{}),change:d.jsxs(d.Fragment,{children:[I.type!=="neutral"&&d.jsx(fN,{type:I.type})," ",I.text]}),changeType:I.type}),d.jsx(Mt,{title:h("dashboard.card_quantitySold"),value:`${C.currentPeriod.quantitySold.toFixed(2)} kg`,icon:d.jsx(MW,{}),change:d.jsxs(d.Fragment,{children:[q.type!=="neutral"&&d.jsx(fN,{type:q.type})," ",q.text]}),changeType:q.type}),d.jsx(Mt,{title:h("dashboard.card_pendingPO"),value:y0(C.pendingPOsValue),icon:d.jsx(IW,{}),change:d.jsx(d.Fragment,{children:h("dashboard.pendingPO_description")}),changeType:"neutral"})]}),W.length>0&&d.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl shadow-lg",children:[d.jsxs("h2",{className:"text-xl font-semibold text-red-800 mb-4 flex items-center",children:[d.jsx(LW,{}),d.jsx("span",{className:"ml-2",children:h("dashboard.lowStock_title")})]}),d.jsx("ul",{className:"space-y-2",children:W.map(L=>L&&d.jsx("li",{className:"text-red-700",children:d.jsx("strong",{children:h("dashboard.lowStock_alert",{variety:L.variety,type:h(`enums.stockType.${L.type.replace(/\s/g,"")}`),currentStock:L.currentStock.toFixed(2),threshold:L.threshold})})},L.id))})]}),d.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[d.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 mb-4",children:h("dashboard.salesByVariety_title")}),d.jsx(Qa,{width:"100%",height:300,children:d.jsxs(wd,{data:Q,children:[d.jsx(Gi,{strokeDasharray:"3 3"}),d.jsx(Fi,{dataKey:"name"}),d.jsx(Vi,{tickFormatter:L=>`Rp${L/1e6} Jt`}),d.jsx(ti,{content:d.jsx(BW,{totalSales:B}),cursor:{fill:"rgba(233, 220, 207, 0.5)"}}),d.jsx(mo,{}),d.jsx(Fl,{dataKey:"amount",fill:"#8d5437"})]})})]}),d.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 mb-4",children:h("dashboard.greenBeanDistribution_title")}),d.jsx(Qa,{width:"100%",height:300,children:d.jsxs(rk,{children:[d.jsx(xb,{data:ue,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",labelLine:!1,label:UW,children:ue.map(L=>d.jsx(as,{fill:oe[L.name]},`cell-${L.name}`))}),d.jsx(ti,{formatter:L=>`${L.toFixed(2)} kg`}),d.jsx(mo,{verticalAlign:"bottom",wrapperStyle:{paddingTop:"15px"},onClick:J,formatter:R})]})})]})]}),d.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800",children:h("dashboard.ai_title")}),d.jsx("button",{onClick:N,disabled:r,className:"mt-4 sm:mt-0 px-6 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:h(r?"dashboard.ai_button_loading":"dashboard.ai_button_refresh")})]}),r&&!t?d.jsxs("div",{className:"text-center p-4",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-brown-700 mx-auto"}),d.jsx("p",{className:"mt-2 text-gray-500",children:h("dashboard.ai_loadingMessage")})]}):t?d.jsx("div",{className:"prose prose-sm max-w-none p-4 bg-brand-brown-50 rounded-lg border border-brand-brown-200 text-brand-brown-900",dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br />")}}):!r&&d.jsx("p",{className:"text-gray-500",children:h("dashboard.ai_prompt")})]})]})},gf=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),zW=e=>{switch(e){case Ar.PENDING:return"bg-yellow-100 text-yellow-800";case Ar.APPROVED:return"bg-blue-100 text-blue-800";case Ar.COMPLETED:return"bg-green-100 text-green-800";case Ar.REJECTED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},qW=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),KW=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},HW=({data:e})=>{const{purchaseOrders:t,suppliers:n}=e,[r,i]=w.useState(!1),[o,l]=w.useState(null),{t:u}=Re(),[m,h]=w.useState([]),[g,p]=w.useState([]),[y,b]=w.useState(!0),S=w.useCallback(async()=>{b(!0);const[N,C]=await Promise.all([t.getAll(),n.getAll()]);h(N),p(C),b(!1)},[t,n]);w.useEffect(()=>{S()},[S]);const _=w.useMemo(()=>g.reduce((N,C)=>(N[C.id]=C.name,N),{}),[g]),j=()=>{l(null),i(!0)},O=N=>{l(N),i(!0)},A=async N=>{window.confirm(u("common.confirmDelete"))&&(await t.remove(N),await S())},T=async N=>{o?await t.update(o.id,N):await t.add(N),i(!1),l(null),await S()},P=()=>{const N=m.map(C=>({ID:C.id,Supplier:_[C.supplierId]||"Unknown","Order Date":C.orderDate,"Expected Delivery":C.expectedDeliveryDate,"Total Value":C.items.reduce((k,z)=>k+z.quantityKg*z.pricePerKg,0),Status:C.status,Items:C.items.map(k=>`${k.quantityKg}kg of ${k.variety} @ ${gf(k.pricePerKg)}/kg`).join("; ")}));KW(N,"purchase_orders")};return y?d.jsx("div",{className:"text-center p-8",children:u("common.loading")}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:u("purchaseOrders.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:P,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(qW,{}),u("purchaseOrders.exportButton")]}),d.jsx("button",{onClick:j,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:u("purchaseOrders.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_id")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_supplier")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_orderDate")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_totalValue")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_status")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_actions")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:m.map(N=>{const C=N.items.reduce((k,z)=>k+z.quantityKg*z.pricePerKg,0);return d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-brown-900",children:N.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:_[N.supplierId]||"Unknown"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:N.orderDate}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-semibold",children:gf(C)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${zW(N.status)}`,children:u(`enums.poStatus.${N.status}`,{})})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>O(N),className:"text-brand-brown-600 hover:text-brand-brown-900 mr-4",children:u("common.edit")}),d.jsx("button",{onClick:()=>A(N.id),className:"text-red-600 hover:text-red-900",children:u("common.delete")})]})]},N.id)})})]})})}),r&&d.jsx(GW,{po:o,suppliers:g,onSave:T,onClose:()=>i(!1)})]})},GW=({po:e,suppliers:t,onSave:n,onClose:r})=>{const{t:i}=Re(),[o,l]=w.useState({supplierId:(e==null?void 0:e.supplierId)||"",orderDate:(e==null?void 0:e.orderDate)||new Date().toISOString().split("T")[0],expectedDeliveryDate:(e==null?void 0:e.expectedDeliveryDate)||"",items:e!=null&&e.items.length?e.items:[{variety:vt.ARABICA,quantityKg:0,pricePerKg:0}],status:(e==null?void 0:e.status)||Ar.PENDING}),u=w.useMemo(()=>o.items.reduce((y,b)=>y+(b.quantityKg||0)*(b.pricePerKg||0),0),[o.items]),m=(y,b,S)=>{const _=[...o.items];_[y][b]=S,l(j=>({...j,items:_}))},h=()=>{l(y=>({...y,items:[...y.items,{variety:vt.ARABICA,quantityKg:0,pricePerKg:0}]}))},g=y=>{const b=o.items.filter((S,_)=>_!==y);l(S=>({...S,items:b}))},p=async y=>{y.preventDefault(),await n(o)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:i(e?"purchaseOrders.modal_title_edit":"purchaseOrders.modal_title_create")}),d.jsxs("form",{onSubmit:p,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("purchaseOrders.modal_supplier")}),d.jsxs("select",{value:o.supplierId,onChange:y=>l({...o,supplierId:y.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-brand-brown-500 focus:border-brand-brown-500",children:[d.jsx("option",{value:"",children:i("purchaseOrders.modal_selectSupplier")}),t.map(y=>d.jsx("option",{value:y.id,children:y.name},y.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("purchaseOrders.modal_orderDate")}),d.jsx("input",{type:"date",value:o.orderDate,onChange:y=>l({...o,orderDate:y.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("purchaseOrders.modal_expectedDelivery")}),d.jsx("input",{type:"date",value:o.expectedDeliveryDate,onChange:y=>l({...o,expectedDeliveryDate:y.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("purchaseOrders.modal_items")}),o.items.map((y,b)=>d.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2 items-center",children:[d.jsx("select",{value:y.variety,onChange:S=>m(b,"variety",S.target.value),className:"col-span-3 p-2 border border-gray-300 rounded-md",children:Object.values(vt).filter(S=>S!==vt.BLEND).map(S=>d.jsx("option",{value:S,children:S},S))}),d.jsx("input",{type:"number",placeholder:i("purchaseOrders.modal_qtyPlaceholder"),value:y.quantityKg||"",onChange:S=>m(b,"quantityKg",parseFloat(S.target.value)||0),className:"col-span-2 p-2 border border-gray-300 rounded-md"}),d.jsx("input",{type:"number",placeholder:i("purchaseOrders.modal_pricePlaceholder"),value:y.pricePerKg||"",onChange:S=>m(b,"pricePerKg",parseFloat(S.target.value)||0),className:"col-span-3 p-2 border border-gray-300 rounded-md"}),d.jsx("div",{className:"col-span-3 text-sm text-gray-600 font-medium truncate",children:gf((y.quantityKg||0)*(y.pricePerKg||0))}),d.jsx("button",{type:"button",onClick:()=>g(b),className:"col-span-1 text-red-500 hover:text-red-700 font-bold",children:""})]},b)),d.jsx("button",{type:"button",onClick:h,className:"text-sm text-brand-brown-600 hover:text-brand-brown-800 font-semibold",children:i("purchaseOrders.modal_addItem")})]}),d.jsxs("div",{className:"text-right font-bold text-xl text-brand-brown-900 pt-2 border-t mt-4",children:[i("purchaseOrders.modal_grandTotal"),": ",gf(u)]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("purchaseOrders.modal_status")}),d.jsx("select",{value:o.status,onChange:y=>l({...o,status:y.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(Ar).map(y=>d.jsx("option",{value:y,children:i(`enums.poStatus.${y}`)},y))})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:i("common.cancel")}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:i("common.save")})]})]})]})})},FW=e=>{switch(e){case Xl.ACCEPTED:return"bg-green-100 text-green-800";case Xl.RETURNED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},VW=({data:e})=>{const{grades:t,purchaseOrders:n}=e,[r,i]=w.useState(!1),[o,l]=w.useState(!1),[u,m]=w.useState(null),{t:h}=Re(),[g,p]=w.useState([]),[y,b]=w.useState([]),[S,_]=w.useState(!0),j=w.useCallback(async()=>{_(!0);const[N,C]=await Promise.all([t.getAll(),n.getAll()]);p(N),b(C.filter(k=>k.status!=="Rejected")),_(!1)},[t,n]);w.useEffect(()=>{j()},[j]);const O=()=>{m(null),i(!0)},A=N=>{m(N),l(!0)},T=async N=>{u?await t.update(u.id,N):await t.add(N),await P(),await j()},P=async()=>{i(!1),l(!1),m(null)};return S?d.jsx("div",{className:"text-center p-8",children:h("common.loading")}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:h("grading.title")}),d.jsx("button",{onClick:O,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:h("grading.addButton")})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("grading.table_poId")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("grading.table_variety")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("grading.table_moisture")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("grading.table_defects")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("grading.table_status")}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:h("grading.table_actions")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:g.map(N=>d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-brand-brown-900",children:["#",N.poId.slice(0,5),"..."]}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N.variety}),d.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[N.physicalAnalysis.moistureContent,"%"]}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N.physicalAnalysis.defectCount}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${FW(N.status)}`,children:h(`enums.gradeStatus.${N.status}`)})}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>A(N),className:"text-brand-brown-600 hover:text-brand-brown-900",children:h("common.viewDetails")})})]},N.id))})]}),g.length===0&&d.jsx("p",{className:"p-4 text-center text-gray-500",children:h("grading.noRecords")})]})}),r&&d.jsx(WW,{grade:u,purchaseOrders:y,onSave:T,onClose:P}),o&&u&&d.jsx(YW,{grade:u,onClose:P})]})},YW=({grade:e,onClose:t})=>{const{t:n}=Re();return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:n("grading.details_title",{batchId:e.batchId})}),d.jsxs("p",{className:"text-sm text-gray-500",children:[e.gradingDate," - ",e.variety]})]}),d.jsx("button",{type:"button",onClick:t,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),d.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("grading.details_physicalAnalysis")}),d.jsxs("dl",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_screenSize")}),d.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:e.physicalAnalysis.screenSize})]}),d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_moisture")}),d.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[e.physicalAnalysis.moistureContent,"%"]})]}),d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_density")}),d.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[e.physicalAnalysis.density," g/L"]})]}),d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_defects")}),d.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:e.physicalAnalysis.defectCount})]}),d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_waterActivity")}),d.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[e.physicalAnalysis.waterActivity," aw"]})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("grading.details_notes")}),d.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg border",children:e.notes||n("grading.details_noNotes")})]})]}),d.jsx("div",{className:"flex justify-end pt-6 mt-auto border-t",children:d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.close")})})]})})},WW=({grade:e,purchaseOrders:t,onSave:n,onClose:r})=>{const{t:i}=Re(),[o,l]=w.useState({poId:(e==null?void 0:e.poId)||"",batchId:(e==null?void 0:e.batchId)||`B-${Date.now()}`,variety:(e==null?void 0:e.variety)||vt.ARABICA,gradingDate:(e==null?void 0:e.gradingDate)||new Date().toISOString().split("T")[0],status:(e==null?void 0:e.status)||Xl.ACCEPTED,physicalAnalysis:(e==null?void 0:e.physicalAnalysis)||{screenSize:"",moistureContent:11,density:680,defectCount:0,waterActivity:.55},notes:(e==null?void 0:e.notes)||""}),u=g=>{const p=g.target.value,y=t.find(b=>b.id===p);l(b=>{var S;return{...b,poId:p,variety:((S=y==null?void 0:y.items[0])==null?void 0:S.variety)||vt.ARABICA}})},m=(g,p)=>{l(y=>({...y,physicalAnalysis:{...y.physicalAnalysis,[g]:p}}))},h=async g=>{g.preventDefault(),await n(o)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:i(e?"grading.modal_title_edit":"grading.modal_title_create")}),d.jsxs("form",{onSubmit:h,className:"space-y-6",children:[d.jsxs("select",{value:o.poId,onChange:u,className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[d.jsx("option",{value:"",children:i("grading.modal_selectPO")}),t.map(g=>d.jsxs("option",{value:g.id,children:["PO #",g.id.slice(0,5)," - ",g.items[0].variety]},g.id))]}),d.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[d.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:i("grading.modal_physicalAnalysis")}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_screenSize")}),d.jsx("input",{type:"text",value:o.physicalAnalysis.screenSize,onChange:g=>m("screenSize",g.target.value),className:"mt-1 w-full p-2 border border-gray-300 rounded-md",placeholder:i("grading.modal_screenSizePlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_moisture")}),d.jsx("input",{type:"number",step:"0.1",value:o.physicalAnalysis.moistureContent,onChange:g=>m("moistureContent",parseFloat(g.target.value)),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_density")}),d.jsx("input",{type:"number",value:o.physicalAnalysis.density,onChange:g=>m("density",parseInt(g.target.value)),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_defectCount")}),d.jsx("input",{type:"number",value:o.physicalAnalysis.defectCount,onChange:g=>m("defectCount",parseInt(g.target.value)),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_waterActivity")}),d.jsx("input",{type:"number",step:"0.01",value:o.physicalAnalysis.waterActivity,onChange:g=>m("waterActivity",parseFloat(g.target.value)),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_notes")}),d.jsx("textarea",{value:o.notes,onChange:g=>l(p=>({...p,notes:g.target.value})),rows:2,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:i("grading.modal_notesPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_qcStatus")}),d.jsx("select",{value:o.status,onChange:g=>l({...o,status:g.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(Xl).map(g=>d.jsx("option",{value:g,children:i(`enums.gradeStatus.${g}`)},g))})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:i("common.cancel")}),d.jsxs("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:[i("common.save")," Grade"]})]})]})]})})},XW=e=>{switch(e){case Lt.GREEN_BEAN:return"bg-green-100 text-green-800";case Lt.ROASTED_BEAN:return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},JW=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),ZW=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},QW=({data:e})=>{const{stock:t,warehouseLogs:n,alertSettings:r}=e,[i,o]=w.useState(!1),[l,u]=w.useState(!1),[m,h]=w.useState(!1),[g,p]=w.useState(null),{t:y}=Re(),[b,S]=w.useState([]),[_,j]=w.useState([]);w.useEffect(()=>{Promise.all([t.getAll(),n.getAll()]).then(([C,k])=>{S(C),j(k)})},[t,n,l,i]);const O=C=>{p(C),o(!0)},A=()=>{p(null),u(!0)},T=C=>{p(C),o(!1),u(!0)},P=()=>{o(!1),u(!1),h(!1),p(null)},N=async C=>{const{notes:k,...z}=C;if("id"in z){const V=await t.getById(z.id);if(!V)return;const ie=z.quantityKg-V.quantityKg;if(await t.update(z.id,{...z,lastUpdated:new Date().toISOString().split("T")[0]}),ie!==0){const ee=`Manual stock adjustment: ${z.variety} (${z.type})`,I=k.trim()?`${ee} - ${k.trim()}`:ee;await n.add({itemId:z.id,date:new Date().toISOString().split("T")[0],change:ie,notes:I})}}else{const V=await t.add({...z,lastUpdated:new Date().toISOString().split("T")[0]});if(V){const ie=`Manual stock addition: ${V.variety} (${V.type})`,ee=k.trim()?`${ie} - ${k.trim()}`:ie;await n.add({itemId:V.id,date:new Date().toISOString().split("T")[0],change:V.quantityKg,notes:ee})}}P()};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:y("warehouse.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:()=>ZW(b,"warehouse_stock"),className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(JW,{}),y("warehouse.exportButton")]}),d.jsx("button",{onClick:()=>h(!0),className:"px-5 py-2 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 transition-colors",children:y("warehouse.alertsButton")}),d.jsx("button",{onClick:A,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:y("warehouse.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:y("warehouse.table_id")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:y("warehouse.table_type")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:y("warehouse.table_variety")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:y("warehouse.table_qty")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:y("warehouse.table_location")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:y("warehouse.table_actions")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:b.map(C=>d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-brown-900",children:C.id}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${XW(C.type)}`,children:y(`enums.stockType.${C.type.replace(/\s/g,"")}`)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:C.variety}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-bold",children:C.quantityKg.toFixed(2)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:C.location}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>O(C),className:"text-brand-brown-600 hover:text-brand-brown-900",children:y("common.details")})})]},C.id))})]})})}),i&&g&&d.jsx(eX,{item:g,logs:_,onEdit:()=>T(g),onClose:P}),l&&d.jsx(tX,{itemToEdit:g,onSave:N,onClose:P}),m&&d.jsx(nX,{data:r,onClose:P})]})},eX=({item:e,logs:t,onEdit:n,onClose:r})=>{const{t:i}=Re(),o=w.useMemo(()=>t.filter(m=>m.itemId===e.id).sort((m,h)=>new Date(h.date).getTime()-new Date(m.date).getTime()),[e,t]),l=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-500",children:[d.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),d.jsx("polyline",{points:"5 12 12 5 19 12"})]}),u=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500",children:[d.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),d.jsx("polyline",{points:"19 12 12 19 5 12"})]});return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:i("warehouse.details_title",{itemId:e.id})}),d.jsxs("p",{className:"text-sm text-gray-500",children:[e.variety," - ",i(`enums.stockType.${e.type.replace(/\s/g,"")}`)]})]}),d.jsx("button",{type:"button",onClick:r,className:"p-2 -m-2 text-gray-500 hover:text-gray-800",children:""})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4 mb-6 border-b pb-6",children:[d.jsxs("div",{children:[d.jsxs("span",{className:"font-semibold text-gray-700",children:[i("warehouse.details_currentQty"),":"]}),d.jsxs("span",{className:"ml-2 text-brand-brown-800 font-bold",children:[e.quantityKg.toFixed(2)," kg"]})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"font-semibold text-gray-700",children:[i("warehouse.details_location"),":"]}),d.jsx("span",{className:"ml-2",children:e.location})]}),d.jsxs("div",{children:[d.jsxs("span",{className:"font-semibold text-gray-700",children:[i("warehouse.details_lastUpdated"),":"]}),d.jsx("span",{className:"ml-2",children:e.lastUpdated})]})]}),d.jsx("h3",{className:"text-lg font-semibold text-brand-brown-800 mb-4",children:i("warehouse.details_logsTitle")}),d.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:o.length>0?d.jsx("ul",{className:"space-y-3",children:o.map(m=>d.jsxs("li",{className:`p-3 bg-brand-brown-50 rounded-lg border-l-4 ${m.change>0?"border-green-400":"border-red-400"}`,children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("p",{className:`flex items-center font-bold ${m.change>0?"text-green-600":"text-red-600"}`,children:[m.change>0?d.jsx(l,{}):d.jsx(u,{}),d.jsxs("span",{className:"ml-2",children:[m.change>0?"+":"",m.change.toFixed(2)," kg"]})]}),d.jsx("p",{className:"text-xs text-gray-500",children:m.date})]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.notes})]},m.id))}):d.jsx("p",{className:"text-center text-gray-500 py-4",children:i("warehouse.details_noLogs")})}),d.jsxs("div",{className:"flex justify-end pt-6 mt-auto border-t gap-4",children:[d.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:i("common.close")}),d.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-brand-brown-600 text-white font-semibold rounded-lg hover:bg-brand-brown-700",children:i("common.edit")})]})]})})},tX=({itemToEdit:e,onSave:t,onClose:n})=>{const{t:r}=Re(),[i,o]=w.useState({type:Lt.GREEN_BEAN,variety:vt.ARABICA,quantityKg:0,location:""}),[l,u]=w.useState("");w.useEffect(()=>{e&&(o({type:e.type,variety:e.variety,quantityKg:e.quantityKg,location:e.location}),u(""))},[e]);const m=h=>{if(h.preventDefault(),!i.location.trim()||i.quantityKg<0){alert("Please fill in a valid location and a non-negative quantity.");return}t(e?{...e,...i,notes:l}:{...i,notes:l})};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r(e?"warehouse.modal_editTitle":"warehouse.modal_addTitle")}),d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_stockType")}),d.jsx("select",{value:i.type,onChange:h=>o({...i,type:h.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",children:Object.values(Lt).map(h=>d.jsx("option",{value:h,children:h},h))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_beanVariety")}),d.jsx("select",{value:i.variety,onChange:h=>o({...i,variety:h.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",children:Object.values(vt).map(h=>d.jsx("option",{value:h,children:h},h))})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_qty")}),d.jsx("input",{type:"number",step:"0.01",value:i.quantityKg||"",onChange:h=>o({...i,quantityKg:parseFloat(h.target.value)||0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_location")}),d.jsx("input",{type:"text",value:i.location,onChange:h=>o({...i,location:h.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",placeholder:r("warehouse.modal_locationPlaceholder")})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_logNotes")}),d.jsx("textarea",{value:l,onChange:h=>u(h.target.value),rows:2,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",placeholder:r("warehouse.modal_logNotesPlaceholder")})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),d.jsxs("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:[r("common.save")," Item"]})]})]})]})})},nX=({data:e,onClose:t})=>{const{t:n}=Re(),[r,i]=w.useState([]),[o,l]=w.useState({variety:vt.ARABICA,type:Lt.GREEN_BEAN,threshold:0});w.useEffect(()=>{e.getAll().then(i)},[e]);const u=async h=>{if(h.preventDefault(),(await e.getAll()).find(b=>b.variety===o.variety&&b.type===o.type)){alert(`An alert for ${o.variety} (${o.type}) already exists.`);return}await e.add(o);const y=await e.getAll();i(y)},m=async h=>{await e.remove(h);const g=await e.getAll();i(g)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:n("warehouse.alerts_title")}),d.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-brand-brown-800",children:n("warehouse.alerts_existing")}),r.length>0?d.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(h=>d.jsxs("li",{className:"py-3 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold",children:h.variety})," (",n(`enums.stockType.${h.type.replace(/\s/g,"")}`),")"]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("span",{className:"text-sm text-gray-500",children:[n("warehouse.alerts_threshold"),": ",d.jsxs("span",{className:"font-bold",children:[h.threshold,"kg"]})]}),d.jsx("button",{onClick:()=>m(h.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:n("warehouse.alerts_remove")})]})]},h.id))}):d.jsx("p",{className:"text-gray-500",children:n("warehouse.alerts_noAlerts")})]}),d.jsxs("form",{onSubmit:u,className:"space-y-4 border-t pt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-brand-brown-800",children:n("warehouse.alerts_addNew")}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n("warehouse.alerts_variety")}),d.jsx("select",{value:o.variety,onChange:h=>l({...o,variety:h.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(vt).map(h=>d.jsx("option",{value:h,children:h},h))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n("warehouse.alerts_type")}),d.jsx("select",{value:o.type,onChange:h=>l({...o,type:h.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(Lt).map(h=>d.jsx("option",{value:h,children:h},h))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n("warehouse.alerts_thresholdKg")}),d.jsx("input",{type:"number",value:o.threshold||"",onChange:h=>l({...o,threshold:parseInt(h.target.value)||0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]})]}),d.jsx("button",{type:"submit",className:"w-full px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:n("warehouse.alerts_addButton")})]}),d.jsx("div",{className:"mt-6 text-right",children:d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.close")})})]})})},rX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),aX=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},iX=({data:e})=>{const{suppliers:t}=e,[n,r]=w.useState(!1),[i,o]=w.useState(!1),[l,u]=w.useState(null),{t:m}=Re(),[h,g]=w.useState([]),[p,y]=w.useState(!0),b=w.useCallback(async()=>{y(!0);const N=await t.getAll();g(N),y(!1)},[t]);w.useEffect(()=>{b()},[b]);const S=N=>{u(N),r(!0)},_=()=>{u(null),o(!0)},j=N=>{u(N),o(!0)},O=async N=>{window.confirm(m("common.confirmDelete"))&&(await t.remove(N),await b())},A=async N=>{"id"in N?await t.update(N.id,N):await t.add(N),T(),await b()},T=()=>{r(!1),o(!1),u(null)},P=()=>{const N=h.map(C=>({...C,specialties:C.specialties.join(", ")}));aX(N,"suppliers")};return p?d.jsx("div",{className:"text-center p-8",children:m("common.loading")}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:m("suppliers.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:P,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(rX,{}),m("suppliers.exportButton")]}),d.jsx("button",{onClick:_,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:m("suppliers.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:m("suppliers.table_name")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:m("suppliers.table_origin")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:m("suppliers.table_contact")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:m("suppliers.table_phone")}),d.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:m("suppliers.table_actions")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:h.map(N=>d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-brown-900",children:N.name}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:N.origin}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:N.contactPerson}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:N.phone}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[d.jsx("button",{onClick:()=>S(N),className:"text-blue-600 hover:text-blue-900",children:m("common.view")}),d.jsx("button",{onClick:()=>j(N),className:"text-brand-brown-600 hover:text-brand-brown-900",children:m("common.edit")}),d.jsx("button",{onClick:()=>O(N.id),className:"text-red-600 hover:text-red-900",children:m("common.delete")})]})]},N.id))})]})})}),n&&l&&d.jsx(sX,{supplier:l,onClose:T}),i&&d.jsx(oX,{supplier:l,onSave:A,onClose:T})]})},sX=({supplier:e,onClose:t})=>{const{t:n}=Re();return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:n("suppliers.details_title")}),d.jsx("p",{className:"text-sm text-gray-500",children:e.name})]}),d.jsx("button",{type:"button",onClick:t,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_origin")}),d.jsx("p",{className:"text-lg text-brand-brown-800",children:e.origin})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_specialties")}),d.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.specialties.map(r=>d.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-white bg-brand-brown-600 rounded-full",children:r},r))})]}),d.jsx("div",{className:"border-t my-4"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_contact")}),d.jsx("p",{className:"text-lg text-brand-brown-800",children:e.contactPerson})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_phone")}),d.jsx("p",{className:"text-lg text-brand-brown-800",children:e.phone})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_email")}),d.jsx("p",{className:"text-lg text-brand-brown-800",children:e.email})]})]}),d.jsx("div",{className:"flex justify-end pt-6 mt-4 border-t",children:d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.close")})})]})})},oX=({supplier:e,onSave:t,onClose:n})=>{const{t:r}=Re(),[i,o]=w.useState({name:(e==null?void 0:e.name)||"",contactPerson:(e==null?void 0:e.contactPerson)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",origin:(e==null?void 0:e.origin)||"",specialties:(e==null?void 0:e.specialties)||[]}),l=h=>{const{name:g,value:p}=h.target;o(y=>({...y,[g]:p}))},u=h=>{o(g=>{const p=g.specialties;return p.includes(h)?{...g,specialties:p.filter(y=>y!==h)}:{...g,specialties:[...p,h]}})},m=async h=>{h.preventDefault(),e?await t({...e,...i}):await t(i)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r(e?"suppliers.modal_editTitle":"suppliers.modal_addTitle")}),d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_name")}),d.jsx("input",{type:"text",name:"name",value:i.name,onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_origin")}),d.jsx("input",{type:"text",name:"origin",value:i.origin,placeholder:r("suppliers.modal_originPlaceholder"),onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_contact")}),d.jsx("input",{type:"text",name:"contactPerson",value:i.contactPerson,onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_phone")}),d.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_email")}),d.jsx("input",{type:"email",name:"email",value:i.email,onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_specialties")}),d.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:Object.values(vt).filter(h=>h!==vt.BLEND).map(h=>d.jsxs("label",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",checked:i.specialties.includes(h),onChange:()=>u(h),className:"h-4 w-4 rounded border-gray-300 text-brand-brown-600 focus:ring-brand-brown-500"}),d.jsx("span",{children:h})]},h))})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),d.jsxs("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:[r("common.save")," Supplier"]})]})]})]})})},Rr=e=>{if(isNaN(e)||e<0)return"0:00";const t=Math.floor(e/60),n=e%60;return`${t}:${n<10?"0":""}${n}`},ak=e=>isNaN(e)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),lX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),cX=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},uX=({data:e})=>{const{roasts:t,stock:n}=e,[r,i]=w.useState(!1),[o,l]=w.useState(!1),[u,m]=w.useState(null),{t:h}=Re(),[g,p]=w.useState([]),[y,b]=w.useState([]),[S,_]=w.useState(!0),j=w.useCallback(async()=>{_(!0);const[N,C]=await Promise.all([t.getAll(),n.getAll()]);p(N),b(C.filter(k=>k.type===Lt.GREEN_BEAN&&k.quantityKg>0)),_(!1)},[t,n]);w.useEffect(()=>{j()},[j]);const O=()=>{m(null),i(!0)},A=N=>{m(N),l(!0)},T=async()=>{i(!1),m(null),await j()},P=()=>{i(!1),l(!1),m(null)};return S?d.jsx("div",{className:"text-center p-8",children:h("common.loading")}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:h("roasting.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:()=>cX(g,"roast-profiles"),className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(lX,{}),h("roasting.exportButton")]}),d.jsx("button",{onClick:O,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:y.length===0,children:y.length===0?h("roasting.addButton_disabled"):h("roasting.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("roasting.table_batchId")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("roasting.table_date")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("roasting.table_variety")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("roasting.table_input")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("roasting.table_output")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("roasting.table_roastTime")}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:h("roasting.table_actions")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:g.map(N=>d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-brand-brown-900",children:N.batchId}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N.roastDate}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N.greenBeanVariety}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N.greenBeanWeightKg.toFixed(2)}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N.roastedWeightKg.toFixed(2)}),d.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[(N.totalRoastTime/60).toFixed(2)," min"]}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>A(N),className:"text-brand-brown-600 hover:text-brand-brown-900",children:h("common.viewDetails")})})]},N.id))})]}),g.length===0&&d.jsx("p",{className:"p-4 text-center text-gray-500",children:h("roasting.noRecords")})]})}),r&&d.jsx(fX,{roast:u,greenBeanStock:y,onSave:T,onClose:P,data:e}),o&&u&&d.jsx(dX,{roast:u,onClose:P})]})},dX=({roast:e,onClose:t})=>{const{t:n}=Re(),r=(e.greenBeanWeightKg-e.roastedWeightKg)/e.greenBeanWeightKg*100;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:n("roasting.details_title",{batchId:e.batchId})}),d.jsxs("p",{className:"text-sm text-gray-500",children:[e.roastDate," - ",e.greenBeanVariety]})]}),d.jsx("button",{type:"button",onClick:t,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),d.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n("roasting.details_roaster")}),d.jsx("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:e.roasterName})]}),d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n("roasting.details_ambientTemp")}),d.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[e.ambientTemp,"C"]})]}),d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n("roasting.details_chargeWeight")}),d.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[e.greenBeanWeightKg.toFixed(2)," kg"]})]}),d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n("roasting.details_roastedWeight")}),d.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[e.roastedWeightKg.toFixed(2)," kg"]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("roasting.details_milestones")}),d.jsxs("dl",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("roasting.details_chargeTemp")}),d.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[e.chargeTemp,"C"]})]}),d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("roasting.details_turnaround")}),d.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[Rr(e.turnaroundTime)," @ ",e.turnaroundTemp,"C"]})]}),d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("roasting.details_dryingEnd")}),d.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:Rr(e.dryingPhaseEndTime)})]}),d.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("roasting.details_firstCrack")}),d.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:Rr(e.firstCrackTime)})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("roasting.details_postRoast")}),d.jsxs("dl",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[d.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-blue-500",children:n("roasting.details_totalTime")}),d.jsx("dd",{className:"mt-1 font-semibold text-blue-800",children:Rr(e.totalRoastTime)})]}),d.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-blue-500",children:n("roasting.details_dropTemp")}),d.jsxs("dd",{className:"mt-1 font-semibold text-blue-800",children:[e.dropTemp,"C"]})]}),d.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-blue-500",children:n("roasting.details_devTime")}),d.jsx("dd",{className:"mt-1 font-semibold text-blue-800",children:Rr(e.developmentTime)})]}),d.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-blue-500",children:n("roasting.details_weightLoss")}),d.jsxs("dd",{className:"mt-1 font-semibold text-blue-800",children:[r.toFixed(2),"%"]})]}),d.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-green-500",children:n("roasting.details_roastingCost")}),d.jsxs("dd",{className:"mt-1 font-semibold text-green-800",children:[ak(e.internalRoastingCostPerKg),"/kg"]})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("roasting.details_notes")}),d.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg border",children:e.notes||n("roasting.details_noNotes")})]})]}),d.jsx("div",{className:"flex justify-end pt-6 mt-auto border-t",children:d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.close")})})]})})},fX=({roast:e,greenBeanStock:t,onSave:n,onClose:r,data:i})=>{const{stock:o,warehouseLogs:l,roasts:u,purchaseOrders:m}=i,{t:h}=Re(),[g,p]=w.useState((e==null?void 0:e.greenBeanStockId)||""),y=w.useMemo(()=>t.find(I=>I.id===g),[g,t]),[b,S]=w.useState([]),[_,j]=w.useState([]);w.useEffect(()=>{(async()=>{const[q,W]=await Promise.all([l.getAll(),m.getAll()]);S(q),j(W)})()},[l,m]);const[O,A]=w.useState({roastDate:(e==null?void 0:e.roastDate)||new Date().toISOString().split("T")[0],roasterName:(e==null?void 0:e.roasterName)||"Admin",ambientTemp:(e==null?void 0:e.ambientTemp)||0,greenBeanWeightKg:(e==null?void 0:e.greenBeanWeightKg)||0,chargeTemp:(e==null?void 0:e.chargeTemp)||0,turnaroundTime:(e==null?void 0:e.turnaroundTime)||0,turnaroundTemp:(e==null?void 0:e.turnaroundTemp)||0,dryingPhaseEndTime:(e==null?void 0:e.dryingPhaseEndTime)||0,firstCrackTime:(e==null?void 0:e.firstCrackTime)||0,totalRoastTime:(e==null?void 0:e.totalRoastTime)||0,dropTemp:(e==null?void 0:e.dropTemp)||0,roastedWeightKg:(e==null?void 0:e.roastedWeightKg)||0,colorScore:(e==null?void 0:e.colorScore)||"",internalRoastingCostPerKg:(e==null?void 0:e.internalRoastingCostPerKg)||0,notes:(e==null?void 0:e.notes)||""}),[T,P]=w.useState("R1"),N=w.useMemo(()=>{if(!y||b.length===0||_.length===0)return 0;const I=b.find(B=>B.itemId===y.id&&B.change>0&&B.notes.includes("Stock from PO"));if(!I)return 0;const q=I.notes.match(/Stock from PO #(\w+-\w+)/);if(!q)return 0;const W=_.find(B=>B.id===q[1]),Q=W==null?void 0:W.items.find(B=>B.variety===y.variety);return(Q==null?void 0:Q.pricePerKg)||0},[y,b,_]),C=w.useMemo(()=>{if(O.roastedWeightKg<=0)return 0;const I=N*O.greenBeanWeightKg,q=O.internalRoastingCostPerKg*O.greenBeanWeightKg;return(I+q)/O.roastedWeightKg},[O.roastedWeightKg,O.greenBeanWeightKg,O.internalRoastingCostPerKg,N]),k=w.useMemo(()=>O.greenBeanWeightKg>0&&O.roastedWeightKg>=0&&O.roastedWeightKg<=O.greenBeanWeightKg?(O.greenBeanWeightKg-O.roastedWeightKg)/O.greenBeanWeightKg*100:0,[O.greenBeanWeightKg,O.roastedWeightKg]),z=w.useMemo(()=>O.totalRoastTime>0&&O.firstCrackTime>0&&O.totalRoastTime>O.firstCrackTime?O.totalRoastTime-O.firstCrackTime:0,[O.totalRoastTime,O.firstCrackTime]),V=I=>{const q=I.target.value;p(q);const W=t.find(Q=>Q.id===q);W&&A(Q=>({...Q,greenBeanWeightKg:W.quantityKg}))},ie=(I,q)=>{A(W=>({...W,[I]:parseFloat(q)||0}))},ee=async I=>{if(I.preventDefault(),!y||O.greenBeanWeightKg<=0||O.greenBeanWeightKg>y.quantityKg){alert("Invalid green bean selection or weight is greater than available stock.");return}if(O.roastedWeightKg>O.greenBeanWeightKg){alert("Roasted weight cannot be greater than green bean weight.");return}const q={...O,batchId:`RB-${Date.now()}`,greenBeanStockId:y.id,greenBeanVariety:y.variety,developmentTime:z};await o.update(y.id,{quantityKg:y.quantityKg-O.greenBeanWeightKg}),await l.add({date:new Date().toISOString().split("T")[0],itemId:y.id,change:-O.greenBeanWeightKg,notes:`Used for roast batch ${q.batchId}`});const Q=(await o.getAll()).find(K=>K.type===Lt.ROASTED_BEAN&&K.variety===y.variety&&K.location===T);let B="";if(Q)B=Q.id,await o.update(Q.id,{quantityKg:Q.quantityKg+O.roastedWeightKg});else{const K=await o.add({type:Lt.ROASTED_BEAN,variety:y.variety,quantityKg:O.roastedWeightKg,location:T,lastUpdated:new Date().toISOString().split("T")[0]});B=K==null?void 0:K.id}B&&await l.add({date:new Date().toISOString().split("T")[0],itemId:B,change:O.roastedWeightKg,notes:`From roast batch ${q.batchId}`}),await u.add(q),await n()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:h(e?"roasting.modal_title_edit":"roasting.modal_title_add")}),d.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_sourceBatch")}),d.jsxs("select",{value:g,onChange:V,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[d.jsx("option",{value:"",children:h("roasting.modal_selectBatch")}),t.map(I=>d.jsxs("option",{value:I.id,children:[I.variety," - ",I.quantityKg.toFixed(2),"kg in ",I.location," (ID: ",I.id,")"]},I.id))]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[d.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:h("roasting.modal_preRoast")}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_roaster")}),d.jsx("input",{type:"text",value:O.roasterName,onChange:I=>A(q=>({...q,roasterName:I.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_ambientTemp")}),d.jsx("input",{type:"number",value:O.ambientTemp||"",onChange:I=>ie("ambientTemp",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_chargeWeight")}),d.jsx("input",{type:"number",step:"0.01",value:O.greenBeanWeightKg||"",max:y==null?void 0:y.quantityKg,onChange:I=>ie("greenBeanWeightKg",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_chargeTemp")}),d.jsx("input",{type:"number",value:O.chargeTemp||"",onChange:I=>ie("chargeTemp",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[d.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:h("roasting.modal_milestones")}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_turnaroundTime")}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"number",value:O.turnaroundTime||"",onChange:I=>ie("turnaroundTime",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),d.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",Rr(O.turnaroundTime),")"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_turnaroundTemp")}),d.jsx("input",{type:"number",value:O.turnaroundTemp||"",onChange:I=>ie("turnaroundTemp",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_dryingEnd")}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"number",value:O.dryingPhaseEndTime||"",onChange:I=>ie("dryingPhaseEndTime",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),d.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",Rr(O.dryingPhaseEndTime),")"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_firstCrack")}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"number",value:O.firstCrackTime||"",onChange:I=>ie("firstCrackTime",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),d.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",Rr(O.firstCrackTime),")"]})]})]})]})]}),d.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[d.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:h("roasting.modal_postRoast")}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_totalTime")}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"number",value:O.totalRoastTime||"",onChange:I=>ie("totalRoastTime",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),d.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",Rr(O.totalRoastTime),")"]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_dropTemp")}),d.jsx("input",{type:"number",value:O.dropTemp||"",onChange:I=>ie("dropTemp",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_roastedWeight")}),d.jsx("input",{type:"number",step:"0.01",value:O.roastedWeightKg||"",onChange:I=>ie("roastedWeightKg",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_colorScore")}),d.jsx("input",{type:"text",value:O.colorScore,onChange:I=>A(q=>({...q,colorScore:I.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"md:col-span-5 grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_opCost")}),d.jsx("input",{type:"number",value:O.internalRoastingCostPerKg||"",onChange:I=>ie("internalRoastingCostPerKg",I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:h("roasting.modal_opCostPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_roastedLocation")}),d.jsx("input",{type:"text",value:T,onChange:I=>P(I.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:h("roasting.modal_roastedLocationPlaceholder"),required:!0})]})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:h("roasting.modal_calc_weightLoss")}),d.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[k.toFixed(2),"%"]})]}),d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:h("roasting.modal_calc_devTime")}),d.jsx("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:Rr(z)})]}),d.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-green-600",children:h("roasting.modal_calc_finalCost")}),d.jsx("dd",{className:"mt-1 text-lg font-semibold text-green-800",children:ak(C)})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:h("roasting.modal_notes")}),d.jsx("textarea",{value:O.notes,onChange:I=>A(q=>({...q,notes:I.target.value})),rows:3,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:h("common.cancel")}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:h("common.save")})]})]})]})})},ik=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),hX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),mX=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},gX=({data:e})=>{const{externalRoasts:t,stock:n}=e,[r,i]=w.useState(!1),{t:o}=Re(),[l,u]=w.useState([]),[m,h]=w.useState([]),[g,p]=w.useState(!0),y=w.useCallback(async()=>{p(!0);const[_,j]=await Promise.all([t.getAll(),n.getAll()]);u(_),h(j.filter(O=>O.type===Lt.GREEN_BEAN&&O.quantityKg>0)),p(!1)},[t,n]);w.useEffect(()=>{y()},[y]);const b=async()=>{i(!1),await y()},S=()=>{const _=l.map(j=>({...j,totalCost:j.roastingCostPerKg*j.greenBeanWeightSentKg}));mX(_,"external_roasting_logs")};return g?d.jsx("div",{className:"text-center p-8",children:o("common.loading")}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:o("externalRoasting.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:S,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(hX,{}),o("externalRoasting.exportButton")]}),d.jsx("button",{onClick:()=>i(!0),className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:m.length===0,children:m.length===0?o("externalRoasting.addButton_disabled"):o("externalRoasting.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_roastery")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_dateSent")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_dateReceived")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_weightSent")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_weightReceived")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_totalCost")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:l.map(_=>{const j=_.roastingCostPerKg*_.greenBeanWeightSentKg;return d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 font-medium text-brand-brown-900",children:_.roasteryName}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.dateSent}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.dateReceived}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.greenBeanWeightSentKg.toFixed(2)}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.roastedBeanWeightReceivedKg.toFixed(2)}),d.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-brand-brown-800",children:ik(j)})]},_.id)})})]}),l.length===0&&d.jsx("p",{className:"p-4 text-center text-gray-500",children:o("externalRoasting.noRecords")})]})}),r&&d.jsx(pX,{onSave:b,greenBeanStock:m,data:e,onClose:()=>i(!1)})]})},pX=({onSave:e,onClose:t,greenBeanStock:n,data:r})=>{const{stock:i,warehouseLogs:o,externalRoasts:l}=r,{t:u}=Re(),[m,h]=w.useState({roasteryName:"",dateSent:new Date().toISOString().split("T")[0],dateReceived:new Date().toISOString().split("T")[0],greenBeanStockId:"",greenBeanWeightSentKg:0,roastedBeanWeightReceivedKg:0,roastingCostPerKg:0,notes:""}),[g,p]=w.useState("R-EXT"),y=w.useMemo(()=>n.find(A=>A.id===m.greenBeanStockId),[m.greenBeanStockId,n]),b=w.useMemo(()=>m.roastingCostPerKg*m.greenBeanWeightSentKg,[m.roastingCostPerKg,m.greenBeanWeightSentKg]),S=w.useMemo(()=>m.greenBeanWeightSentKg>0&&m.roastedBeanWeightReceivedKg>0?(m.greenBeanWeightSentKg-m.roastedBeanWeightReceivedKg)/m.greenBeanWeightSentKg*100:0,[m.greenBeanWeightSentKg,m.roastedBeanWeightReceivedKg]),_=A=>{const T=A.target.value,P=n.find(N=>N.id===T);P&&h(N=>({...N,greenBeanStockId:T,greenBeanWeightSentKg:P.quantityKg}))},j=async A=>{if(A.preventDefault(),!y||m.greenBeanWeightSentKg<=0||m.greenBeanWeightSentKg>y.quantityKg){alert("Invalid green bean selection or weight is greater than available stock.");return}if(m.roastedBeanWeightReceivedKg>m.greenBeanWeightSentKg){alert("Roasted weight cannot be greater than green bean weight sent.");return}if(!m.roasteryName.trim()){alert("Roastery Name is required.");return}const T={...m,greenBeanVariety:y.variety};await i.update(y.id,{quantityKg:y.quantityKg-m.greenBeanWeightSentKg}),await o.add({date:new Date().toISOString().split("T")[0],itemId:y.id,change:-m.greenBeanWeightSentKg,notes:`Sent to external roastery: ${m.roasteryName}`});const N=(await i.getAll()).find(k=>k.type===Lt.ROASTED_BEAN&&k.variety===y.variety&&k.location===g);let C="";if(N)C=N.id,await i.update(N.id,{quantityKg:N.quantityKg+m.roastedBeanWeightReceivedKg});else{const k=await i.add({type:Lt.ROASTED_BEAN,variety:y.variety,quantityKg:m.roastedBeanWeightReceivedKg,location:g,lastUpdated:new Date().toISOString().split("T")[0]});C=k==null?void 0:k.id}C&&await o.add({date:new Date().toISOString().split("T")[0],itemId:C,change:m.roastedBeanWeightReceivedKg,notes:`Received from external roastery: ${m.roasteryName}`}),await l.add(T),await e()},O=A=>{const{name:T,value:P}=A.target,N=A.target.type==="number";h(C=>({...C,[T]:N?parseFloat(P)||0:P}))};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:u("externalRoasting.modal_title")}),d.jsxs("form",{onSubmit:j,className:"space-y-4",children:[d.jsx("input",{type:"text",name:"roasteryName",placeholder:u("externalRoasting.modal_roastery"),onChange:O,className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_dateSent")}),d.jsx("input",{type:"date",name:"dateSent",value:m.dateSent,onChange:O,className:"mt-1 w-full p-2 border border-gray-300 rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_dateReceived")}),d.jsx("input",{type:"date",name:"dateReceived",value:m.dateReceived,onChange:O,className:"mt-1 w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_sourceBatch")}),d.jsxs("select",{name:"greenBeanStockId",value:m.greenBeanStockId,onChange:_,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[d.jsx("option",{value:"",children:u("externalRoasting.modal_selectBatch")}),n.map(A=>d.jsxs("option",{value:A.id,children:[A.variety," - ",A.quantityKg.toFixed(2),"kg in ",A.location," (ID: ",A.id,")"]},A.id))]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_weightSent")}),d.jsx("input",{type:"number",name:"greenBeanWeightSentKg",step:"0.01",value:m.greenBeanWeightSentKg||"",max:y==null?void 0:y.quantityKg,onChange:O,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_weightReceived")}),d.jsx("input",{type:"number",name:"roastedBeanWeightReceivedKg",step:"0.01",value:m.roastedBeanWeightReceivedKg||"",onChange:O,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_roastingCost")}),d.jsx("input",{type:"number",name:"roastingCostPerKg",value:m.roastingCostPerKg||"",onChange:O,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_roastedLocation")}),d.jsx("input",{type:"text",value:g,onChange:A=>p(A.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-center border-t pt-4 mt-4",children:[d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:u("externalRoasting.modal_calc_weightLoss")}),d.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[S.toFixed(2),"%"]})]}),d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:u("externalRoasting.modal_calc_totalCost")}),d.jsx("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:ik(b)})]})]}),d.jsx("textarea",{name:"notes",placeholder:u("externalRoasting.modal_notes"),value:m.notes,onChange:O,rows:2,className:"w-full p-2 border border-gray-300 rounded-md"}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:u("common.cancel")}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:u("common.save")})]})]})]})})},vX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),yX=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},bX=({data:e})=>{const{cuppings:t,roasts:n}=e,[r,i]=w.useState(!1),[o,l]=w.useState(!1),[u,m]=w.useState(null),{t:h}=Re(),[g,p]=w.useState([]),[y,b]=w.useState([]),[S,_]=w.useState(!0),j=w.useCallback(async()=>{_(!0);const[C,k]=await Promise.all([t.getAll(),n.getAll()]);p(C),b(k),_(!1)},[t,n]);w.useEffect(()=>{j()},[j]);const O=w.useMemo(()=>y.reduce((C,k)=>(C[k.id]=`${k.batchId} - ${k.greenBeanVariety}`,C),{}),[y]),A=async C=>{await t.add(C),P(),await j()},T=C=>{m(C),l(!0)},P=()=>{i(!1),l(!1),m(null)},N=()=>{const C=g.map(k=>({id:k.id,roastProfile:O[k.roastProfileId]||k.roastProfileId,sessionDate:k.sessionDate,roastLevel:k.roastLevel,fragranceDry:k.fragranceDry,fragranceBreak:k.fragranceBreak,flavor:k.flavor,aftertaste:k.aftertaste,acidity:k.acidity,body:k.body,balance:k.balance,sweetness:k.sweetness,cleanliness:k.cleanliness,uniformity:k.uniformity,defects_numberOfCups:k.defects.numberOfCups,defects_taints:k.defects.taints,defects_faults:k.defects.faults,finalScore:k.finalScore,notes:k.notes}));yX(C,"cupping_sessions")};return S?d.jsx("div",{className:"text-center p-8",children:h("common.loading")}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:h("cupping.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:N,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(vX,{}),h("cupping.exportButton")]}),d.jsx("button",{onClick:()=>i(!0),className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:y.length===0,children:y.length===0?h("cupping.addButton_disabled"):h("cupping.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("cupping.table_roastProfile")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("cupping.table_date")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("cupping.table_flavor")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("cupping.table_acidity")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("cupping.table_finalScore")}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:h("cupping.table_actions")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:g.map(C=>d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 text-sm font-medium text-brand-brown-900",children:O[C.roastProfileId]||"Unknown Roast"}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:C.sessionDate}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:C.flavor.toFixed(2)}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:C.acidity.toFixed(2)}),d.jsx("td",{className:"px-6 py-4 text-sm font-bold text-brand-brown-800",children:C.finalScore.toFixed(2)}),d.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:d.jsx("button",{onClick:()=>T(C),className:"text-brand-brown-600 hover:text-brand-brown-900",children:h("common.viewDetails")})})]},C.id))})]}),g.length===0&&d.jsx("p",{className:"p-4 text-center text-gray-500",children:h("cupping.noRecords")})]})}),r&&d.jsx(wX,{roasts:y,onSave:A,onClose:P}),o&&u&&d.jsx(xX,{cupping:u,roastName:O[u.roastProfileId],onClose:P})]})},xX=({cupping:e,roastName:t,onClose:n})=>{const{t:r}=Re(),i=["fragranceDry","fragranceBreak","flavor","aftertaste","acidity","body","balance","sweetness","cleanliness","uniformity"],o=i.reduce((u,m)=>u+e[m],0),l=e.defects.taints*2+e.defects.faults*4;return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:r("cupping.details_title")}),d.jsxs("p",{className:"text-sm text-gray-500",children:[e.sessionDate," - ",t," (",e.roastLevel,")"]})]}),d.jsx("button",{type:"button",onClick:n,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),d.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:i.map(u=>d.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[d.jsx("dt",{className:"text-xs font-medium text-gray-500 capitalize",children:u.toString().replace(/([A-Z])/g," $1").trim()}),d.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:e[u].toFixed(2)})]},u.toString()))}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[d.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-blue-500",children:r("cupping.details_totalScore")}),d.jsx("dd",{className:"mt-1 text-lg font-semibold text-blue-800",children:o.toFixed(2)})]}),d.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[d.jsx("dt",{className:"text-xs font-medium text-red-500",children:r("cupping.details_deductions")}),d.jsxs("dd",{className:"mt-1 text-lg font-semibold text-red-800",children:["-",l.toFixed(2)]})]}),d.jsxs("div",{className:"p-3 bg-brand-brown-100 rounded-lg",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-600",children:r("cupping.details_finalScore")}),d.jsx("dd",{className:"mt-1 text-2xl font-bold text-brand-brown-900",children:e.finalScore.toFixed(2)})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:r("cupping.details_notes")}),d.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg border",children:e.notes||r("cupping.details_noNotes")})]})]}),d.jsx("div",{className:"flex justify-end pt-6 mt-auto border-t",children:d.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.close")})})]})})},wX=({roasts:e,onSave:t,onClose:n})=>{const{t:r}=Re(),[i,o]=w.useState({roastProfileId:"",sessionDate:new Date().toISOString().split("T")[0],roastLevel:"City",fragranceDry:7.5,fragranceBreak:7.5,flavor:7.5,aftertaste:7.5,acidity:7.5,body:7.5,balance:7.5,sweetness:10,cleanliness:10,uniformity:10,defects:{numberOfCups:0,taints:0,faults:0},notes:""}),l=w.useMemo(()=>{const b=["fragranceDry","fragranceBreak","flavor","aftertaste","acidity","body","balance","sweetness","cleanliness","uniformity"].reduce((_,j)=>_+i[j],0),S=i.defects.taints*2+i.defects.faults*4;return b-S},[i]),u=async y=>{if(y.preventDefault(),!i.roastProfileId){alert("Please select a roast profile.");return}await t({...i,finalScore:l})},m=(y,b)=>{o(S=>({...S,[y]:parseFloat(b)}))},h=(y,b)=>{const S=parseInt(b,10)||0;o(_=>({..._,defects:{..._.defects,[y]:S}}))},g=["fragranceDry","fragranceBreak","flavor","aftertaste","acidity","body","balance","sweetness","cleanliness","uniformity"],p=["Cinnamon","Light","City","Full City","Dark"];return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r("cupping.modal_title")}),d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("select",{value:i.roastProfileId,onChange:y=>o(b=>({...b,roastProfileId:y.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[d.jsx("option",{value:"",children:r("cupping.modal_selectRoast")}),e.map(y=>d.jsxs("option",{value:y.id,children:[y.batchId," - ",y.greenBeanVariety]},y.id))]}),d.jsx("select",{value:i.roastLevel,onChange:y=>o(b=>({...b,roastLevel:y.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:p.map(y=>d.jsx("option",{value:y,children:y},y))})]}),d.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[d.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:r("cupping.modal_sensoryScores")}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.map(y=>d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize text-center",children:y.toString().replace(/([A-Z])/g," $1").trim()}),d.jsx("input",{type:"range",min:["sweetness","cleanliness","uniformity"].includes(y.toString())?"0":"6",max:"10",step:"0.25",value:i[y],onChange:b=>m(y,b.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2"}),d.jsx("span",{className:"text-center block text-sm font-bold text-brand-brown-800",children:i[y].toFixed(2)})]},y.toString()))})]}),d.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[d.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:r("cupping.modal_defectAnalysis")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("cupping.modal_numCups")}),d.jsx("input",{type:"number",value:i.defects.numberOfCups||"",onChange:y=>h("numberOfCups",y.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("cupping.modal_taints")}),d.jsx("input",{type:"number",min:"0",value:i.defects.taints||"",onChange:y=>h("taints",y.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("cupping.modal_faults")}),d.jsx("input",{type:"number",min:"0",value:i.defects.faults||"",onChange:y=>h("faults",y.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]})]})]}),d.jsxs("div",{className:"border-t pt-4 text-center",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-600",children:r("cupping.modal_finalScore")}),d.jsx("div",{className:"mt-1 p-3 bg-brand-brown-50 rounded-md text-2xl font-bold text-brand-brown-900",children:l.toFixed(2)})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("cupping.modal_tastingNotes")}),d.jsx("textarea",{value:i.notes,onChange:y=>o(b=>({...b,notes:y.target.value})),rows:3,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:r("cupping.modal_tastingNotesPlaceholder")})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),d.jsxs("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:[r("common.save")," Session"]})]})]})]})})},gN=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),_X=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),SX=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},jX=({data:e})=>{const{blends:t,stock:n}=e,[r,i]=w.useState(!1),{t:o}=Re(),[l,u]=w.useState([]),[m,h]=w.useState([]);w.useEffect(()=>{(async()=>{const b=await t.getAll(),S=await n.getAll();u(b),h(S.filter(_=>_.type===Lt.ROASTED_BEAN&&_.quantityKg>0&&_.variety!==vt.BLEND))})()},[t,n,r]);const g=()=>{i(!1)},p=()=>{const y=l.map(b=>({id:b.id,name:b.name,totalCostPerKg:b.totalCostPerKg,creationDate:b.creationDate,notes:b.notes,components:b.components.map(S=>`${S.percentage}% ${S.variety} (Stock ID: ${S.stockId})`).join("; ")}));SX(y,"blends")};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:o("blending.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(_X,{}),o("blending.exportButton")]}),d.jsx("button",{onClick:()=>i(!0),className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:m.length<2,children:m.length<2?o("blending.addButton_disabled"):o("blending.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("blending.table_name")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("blending.table_components")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("blending.table_date")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:l.map(y=>d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 font-medium text-brand-brown-900",children:y.name}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.components.map(b=>`${b.variety} (${b.percentage}%)`).join(", ")}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.creationDate})]},y.id))})]}),l.length===0&&d.jsx("p",{className:"p-4 text-center text-gray-500",children:o("blending.noRecords")})]})}),r&&d.jsx(EX,{onSave:g,roastedBeanStock:m,data:e,onClose:()=>i(!1)})]})},EX=({onSave:e,onClose:t,roastedBeanStock:n,data:r})=>{const{stock:i,warehouseLogs:o,blends:l,roasts:u,purchaseOrders:m}=r,{t:h}=Re(),[g,p]=w.useState(""),[y,b]=w.useState(""),[S,_]=w.useState(0),[j,O]=w.useState("B1"),[A,T]=w.useState([]),[P,N]=w.useState({allRoasts:[],allPOs:[],allLogs:[]});w.useEffect(()=>{(async()=>{const[W,Q,B]=await Promise.all([u.getAll(),m.getAll(),o.getAll()]);N({allRoasts:W,allPOs:Q,allLogs:B})})()},[u,m,o]);const C=q=>{const{allRoasts:W,allPOs:Q,allLogs:B}=P,K=B.find(X=>X.itemId===q&&X.change>0&&X.notes.includes("From roast batch"));if(!K)return 0;const oe=K.notes.match(/From roast batch (RB-[\w-]+)/);if(!oe)return 0;const ue=oe[1],J=W.find(X=>X.batchId===ue);if(!J)return 0;const R=J.greenBeanStockId,L=B.find(X=>X.itemId===R&&X.change>0&&X.notes.includes("Stock from PO"));if(!L)return 0;const re=L.notes.match(/Stock from PO #(\w+-\w+)/);if(!re)return 0;const le=re[1],ce=Q.find(X=>X.id===le),xe=ce==null?void 0:ce.items.find(X=>X.variety===J.greenBeanVariety);if(!xe)return 0;const de=xe.pricePerKg*J.greenBeanWeightKg;return J.roastedWeightKg===0?0:de/J.roastedWeightKg},k=w.useMemo(()=>A.reduce((q,W)=>q+(W.percentage||0),0),[A]),z=w.useMemo(()=>k===0?0:A.reduce((W,Q)=>W+Q.costPerKg*(Q.percentage/100),0),[A,k]),V=()=>{T([...A,{stockId:"",variety:vt.ARABICA,percentage:0,costPerKg:0}])},ie=(q,W,Q)=>{const B=[...A],K=B[q];if(W==="stockId"){const oe=n.find(ue=>ue.id===Q);K.stockId=Q,K.variety=(oe==null?void 0:oe.variety)||vt.ARABICA,K.costPerKg=oe?C(oe.id):0}else W==="percentage"&&(K.percentage=parseFloat(Q)||0);T(B)},ee=q=>{T(A.filter((W,Q)=>Q!==q))},I=async q=>{if(q.preventDefault(),!g.trim()){alert("Blend name is required.");return}if(k!==100){alert(`Total percentage must be 100%, but it is ${k}%.`);return}if(A.some(Q=>Q.stockId==="")){alert("Please select a stock item for all components.");return}for(const Q of A){const B=await i.getById(Q.stockId),K=S*(Q.percentage/100);if(!B||B.quantityKg<K){alert(`Not enough stock for ${Q.variety}. Required: ${K.toFixed(2)}kg, Available: ${(B==null?void 0:B.quantityKg.toFixed(2))||0}kg.`);return}}for(const Q of A){const B=await i.getById(Q.stockId);if(B){const K=S*(Q.percentage/100);await i.update(Q.stockId,{quantityKg:B.quantityKg-K}),await o.add({date:new Date().toISOString().split("T")[0],itemId:Q.stockId,change:-K,notes:`Used for blend: ${g} (${S}kg batch)`})}}const W=await i.add({type:Lt.ROASTED_BEAN,variety:vt.BLEND,quantityKg:S,location:j,lastUpdated:new Date().toISOString().split("T")[0]});W&&await o.add({date:new Date().toISOString().split("T")[0],itemId:W.id,change:W.quantityKg,notes:`Created blend: ${g} (${S}kg batch)`}),await l.add({name:g,components:A,totalCostPerKg:z,creationDate:new Date().toISOString().split("T")[0],notes:y}),e()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:h("blending.modal_title")}),d.jsxs("form",{onSubmit:I,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("input",{type:"text",placeholder:h("blending.modal_namePlaceholder"),value:g,onChange:q=>p(q.target.value),className:"p-2 border border-gray-300 rounded-md",required:!0}),d.jsx("input",{type:"number",placeholder:h("blending.modal_batchSizePlaceholder"),value:S||"",onChange:q=>_(parseFloat(q.target.value)||0),className:"p-2 border border-gray-300 rounded-md",required:!0})]}),d.jsxs("div",{className:"space-y-2 pt-2",children:[d.jsx("label",{className:"font-semibold text-gray-700",children:h("blending.modal_components")}),A.map((q,W)=>d.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[d.jsxs("select",{value:q.stockId,onChange:Q=>ie(W,"stockId",Q.target.value),className:"col-span-6 p-2 border border-gray-300 rounded-md",required:!0,children:[d.jsx("option",{value:"",children:h("blending.modal_selectStock")}),n.map(Q=>d.jsxs("option",{value:Q.id,children:[Q.variety," (",Q.quantityKg.toFixed(2),"kg available)"]},Q.id))]}),d.jsx("input",{type:"number",placeholder:"%",value:q.percentage||"",onChange:Q=>ie(W,"percentage",Q.target.value),className:"col-span-2 p-2 border border-gray-300 rounded-md",required:!0}),d.jsxs("div",{className:"col-span-3 text-sm text-gray-600 font-medium truncate",children:[gN(q.costPerKg),"/kg"]}),d.jsx("button",{type:"button",onClick:()=>ee(W),className:"col-span-1 text-red-500 hover:text-red-700 font-bold p-2 rounded-full",children:""})]},W))]}),d.jsx("button",{type:"button",onClick:V,className:"text-sm text-brand-brown-600 hover:text-brand-brown-800 font-semibold pt-2",children:h("blending.modal_addComponent")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4 mt-4",children:[d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg text-center",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:h("blending.modal_totalPercentage")}),d.jsxs("dd",{className:`mt-1 text-lg font-semibold ${k===100?"text-green-600":"text-red-600"}`,children:[k,"%"]})]}),d.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg text-center",children:[d.jsx("dt",{className:"text-sm font-medium text-gray-500",children:h("blending.modal_totalCost")}),d.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[gN(z),"/kg"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("input",{type:"text",placeholder:h("blending.modal_locationPlaceholder"),value:j,onChange:q=>O(q.target.value),className:"p-2 border border-gray-300 rounded-md",required:!0}),d.jsx("textarea",{placeholder:h("blending.modal_notesPlaceholder"),value:y,onChange:q=>b(q.target.value),rows:1,className:"p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:h("common.cancel")}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:h("blending.modal_createButton")})]})]})]})})},pf=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),OX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),AX=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},NX=({data:e})=>{const{sales:t,stock:n}=e,[r,i]=w.useState(!1),{t:o}=Re(),[l,u]=w.useState([]),[m,h]=w.useState([]);w.useEffect(()=>{(async()=>{const[b,S]=await Promise.all([t.getAll(),n.getAll()]);u(b.sort((_,j)=>new Date(j.saleDate).getTime()-new Date(_.saleDate).getTime())),h(S.filter(_=>_.type===Lt.ROASTED_BEAN&&_.quantityKg>0))})()},[t,n,r]);const g=()=>{i(!1)},p=()=>{const y=l.map(b=>({ID:b.id,"Invoice #":b.invoiceNumber,"Sale Date":b.saleDate,Customer:b.customerName,"Total Amount":b.totalAmount,"Payment Status":b.paymentStatus,"Shipping Address":b.shippingAddress,Notes:b.notes,Items:b.items.map(S=>`${S.quantityKg}kg of ${S.variety} @ ${pf(S.pricePerKg)}/kg`).join("; ")}));AX(y,"sales_records")};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:o("sales.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:p,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(OX,{}),o("sales.exportButton")]}),d.jsx("button",{onClick:()=>i(!0),className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:m.length===0,children:m.length===0?o("sales.addButton_disabled"):o("sales.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_saleId")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_date")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_customer")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_items")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_totalAmount")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:l.map(y=>d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 font-medium text-sm text-brand-brown-900",children:y.id}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.saleDate}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.customerName}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.items.map(b=>`${b.quantityKg}kg ${b.variety===vt.BLEND?"Blend":b.variety}`).join(", ")}),d.jsx("td",{className:"px-6 py-4 text-sm font-bold text-brand-brown-800",children:pf(y.totalAmount)})]},y.id))})]}),l.length===0&&d.jsx("p",{className:"p-4 text-center text-gray-500",children:o("sales.noRecords")})]})}),r&&d.jsx(TX,{onSave:g,availableStock:m,data:e,onClose:()=>i(!1)})]})},TX=({onSave:e,onClose:t,availableStock:n,data:r})=>{const{stock:i,warehouseLogs:o,sales:l}=r,{t:u}=Re(),[m,h]=w.useState(""),[g,p]=w.useState(new Date().toISOString().split("T")[0]),[y,b]=w.useState([]),S=w.useMemo(()=>y.reduce((T,P)=>T+(P.quantityKg||0)*(P.pricePerKg||0),0),[y]),_=()=>{b([...y,{stockId:"",variety:vt.ARABICA,quantityKg:0,pricePerKg:0}])},j=(T,P,N)=>{const C=[...y],k=C[T];if(P==="stockId"){const z=n.find(V=>V.id===N);k.stockId=N,k.variety=(z==null?void 0:z.variety)||vt.ARABICA}else P==="quantityKg"?k.quantityKg=parseFloat(N)||0:P==="pricePerKg"&&(k.pricePerKg=parseFloat(N)||0);b(C)},O=T=>{b(y.filter((P,N)=>N!==T))},A=async T=>{if(T.preventDefault(),!m.trim()||y.length===0||y.some(N=>!N.stockId||N.quantityKg<=0)){alert("Customer name and at least one valid item are required.");return}for(const N of y){const C=await i.getById(N.stockId);if(!C||C.quantityKg<N.quantityKg){alert(`Not enough stock for ${N.variety}. Required: ${N.quantityKg}kg, Available: ${(C==null?void 0:C.quantityKg.toFixed(2))||0}kg.`);return}}for(const N of y){const C=await i.getById(N.stockId);C&&(await i.update(N.stockId,{quantityKg:C.quantityKg-N.quantityKg}),await o.add({date:new Date().toISOString().split("T")[0],itemId:N.stockId,change:-N.quantityKg,notes:`Sale to ${m}`}))}const P={invoiceNumber:`INV-${Date.now()}`,saleDate:g,items:y,customerName:m,totalAmount:S,paymentStatus:N0.PAID,shippingAddress:"",notes:""};await l.add(P),e()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:u("sales.modal_title")}),d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("input",{type:"text",placeholder:u("sales.modal_customerPlaceholder"),value:m,onChange:T=>h(T.target.value),className:"p-2 border border-gray-300 rounded-md",required:!0}),d.jsx("input",{type:"date",value:g,onChange:T=>p(T.target.value),className:"p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"space-y-2 pt-2",children:[d.jsx("label",{className:"font-semibold text-gray-700",children:u("sales.modal_items")}),y.map((T,P)=>{const N=n.find(k=>k.id===T.stockId),C=(T.quantityKg||0)*(T.pricePerKg||0);return d.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[d.jsxs("select",{value:T.stockId,onChange:k=>j(P,"stockId",k.target.value),className:"col-span-4 p-2 border border-gray-300 rounded-md",required:!0,children:[d.jsx("option",{value:"",children:u("sales.modal_selectItem")}),n.map(k=>d.jsxs("option",{value:k.id,children:[k.variety===vt.BLEND?"Blend":k.variety," (",k.quantityKg.toFixed(2),"kg)"]},k.id))]}),d.jsx("input",{type:"number",step:"0.01",placeholder:u("sales.modal_qtyPlaceholder"),value:T.quantityKg||"",max:N==null?void 0:N.quantityKg,onChange:k=>j(P,"quantityKg",k.target.value),className:"col-span-2 p-2 border border-gray-300 rounded-md",required:!0}),d.jsx("input",{type:"number",step:"0.01",placeholder:u("sales.modal_pricePlaceholder"),value:T.pricePerKg||"",onChange:k=>j(P,"pricePerKg",k.target.value),className:"col-span-3 p-2 border border-gray-300 rounded-md",required:!0}),d.jsx("div",{className:"col-span-2 text-sm text-gray-600 font-medium truncate",children:pf(C)}),d.jsx("button",{type:"button",onClick:()=>O(P),className:"col-span-1 text-red-500 hover:text-red-700 font-bold p-2 rounded-full",children:""})]},P)})]}),d.jsx("button",{type:"button",onClick:_,className:"text-sm text-brand-brown-600 hover:text-brand-brown-800 font-semibold pt-2",children:u("sales.modal_addItem")}),d.jsxs("div",{className:"text-right font-bold text-xl text-brand-brown-900 pt-4 border-t mt-4",children:[u("sales.modal_grandTotal"),": ",pf(S)]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:u("common.cancel")}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:u("sales.modal_recordSale")})]})]})]})})},Bl=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),CX=({data:e})=>{const{stock:t,packaging:n,blends:r,roasts:i,externalRoasts:o,purchaseOrders:l,warehouseLogs:u}=e,{t:m}=Re(),[h,g]=w.useState(""),[p,y]=w.useState(""),[b,S]=w.useState(0),[_,j]=w.useState([]),[O,A]=w.useState([]),[T,P]=w.useState({allBlends:[],allRoasts:[],allExternalRoasts:[],allPOs:[],allLogs:[]}),[N,C]=w.useState(!0),k=w.useCallback(async()=>{C(!0);const[V,ie,ee,I,q,W,Q]=await Promise.all([t.getAll(),n.getAll(),r.getAll(),i.getAll(),o.getAll(),l.getAll(),u.getAll()]);j(V.filter(B=>B.type===Lt.ROASTED_BEAN&&B.quantityKg>0)),A(ie),P({allBlends:ee,allRoasts:I,allExternalRoasts:q,allPOs:W,allLogs:Q}),C(!1)},[t,n,r,i,o,l,u]);w.useEffect(()=>{k()},[k]);const z=w.useMemo(()=>{const{allBlends:V,allRoasts:ie,allExternalRoasts:ee,allPOs:I,allLogs:q}=T,W=L=>{if(L.variety===vt.BLEND){const de=q.find(je=>je.itemId===L.id&&je.notes.startsWith("Created blend:"));if(!de)return 0;const ye=de.notes.match(/Created blend: (.*?) /);if(!ye)return 0;const X=ye[1],we=V.find(je=>je.name===X);return(we==null?void 0:we.totalCostPerKg)||0}const re=q.find(de=>de.itemId===L.id&&de.change>0&&(de.notes.includes("From roast batch")||de.notes.includes("Received from external roastery")));if(!re)return 0;const le=(de,ye)=>{const X=q.find(Fe=>Fe.itemId===de&&Fe.change>0&&Fe.notes.includes("Stock from PO"));if(!X)return 0;const we=X.notes.match(/Stock from PO #(\w+-\w+)/);if(!we)return 0;const je=I.find(Fe=>Fe.id===we[1]),se=je==null?void 0:je.items.find(Fe=>Fe.variety===ye);return(se==null?void 0:se.pricePerKg)||0},ce=re.notes.match(/From roast batch (RB-[\w-]+)/);if(ce){const de=ce[1],ye=ie.find(se=>se.batchId===de);if(!ye)return 0;const we=le(ye.greenBeanStockId,ye.greenBeanVariety)*ye.greenBeanWeightKg,je=ye.internalRoastingCostPerKg*ye.greenBeanWeightKg;return ye.roastedWeightKg===0?0:(we+je)/ye.roastedWeightKg}const xe=re.notes.match(/Received from external roastery: (.*)/);if(xe){const de=xe[1],ye=ee.find(se=>se.roasteryName===de&&se.dateReceived===re.date);if(!ye)return 0;const we=le(ye.greenBeanStockId,ye.greenBeanVariety)*ye.greenBeanWeightSentKg,je=ye.roastingCostPerKg*ye.greenBeanWeightSentKg;return ye.roastedBeanWeightReceivedKg===0?0:(we+je)/ye.roastedBeanWeightReceivedKg}return 0};if(!h)return{beanCost:0,packagingCost:0,finalHPPPerPackage:0,finalHPPPerKg:0,selectedPackageSize:0};const Q=_.find(L=>L.id===h),B=O.find(L=>L.id===p),K=Q?W(Q):0,oe=(B==null?void 0:B.cost)||0,ue=(B==null?void 0:B.sizeKg)||0,J=K*ue+oe+b*ue,R=ue>0?J/ue:0;return{beanCost:K,packagingCost:oe,finalHPPPerPackage:J,finalHPPPerKg:R,selectedPackageSize:ue}},[h,p,b,_,O,T]);return N?d.jsx("div",{className:"text-center p-8",children:m("common.loading")}):d.jsxs("div",{className:"space-y-6",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:m("hpp.title")}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-lg space-y-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 border-b pb-2",children:m("hpp.configTitle")}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("hpp.selectBean")}),d.jsxs("select",{value:h,onChange:V=>g(V.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:m("hpp.selectBeanPlaceholder")}),_.map(V=>d.jsxs("option",{value:V.id,children:[V.variety," - ",V.quantityKg.toFixed(2),"kg (in ",V.location,")"]},V.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("hpp.selectPackaging")}),d.jsxs("select",{value:p,onChange:V=>y(V.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:m("hpp.selectPackagingPlaceholder")}),O.map(V=>d.jsxs("option",{value:V.id,children:[V.name," (",V.sizeKg*1e3,"g)"]},V.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("hpp.otherCosts")}),d.jsx("input",{type:"number",value:b||"",onChange:V=>S(parseFloat(V.target.value)||0),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:m("hpp.otherCostsPlaceholder")})]})]}),d.jsxs("div",{className:"bg-brand-brown-800 text-white p-6 rounded-xl shadow-lg space-y-4",children:[d.jsx("h2",{className:"text-xl font-semibold border-b border-brand-brown-700 pb-2",children:m("hpp.resultsTitle")}),d.jsxs("div",{className:"flex justify-between items-center text-lg",children:[d.jsx("span",{className:"text-brand-brown-300",children:m("hpp.beanCost")}),d.jsxs("span",{className:"font-bold",children:[Bl(z.beanCost)," / kg"]})]}),d.jsxs("div",{className:"flex justify-between items-center text-lg",children:[d.jsx("span",{className:"text-brand-brown-300",children:m("hpp.packagingCost")}),d.jsx("span",{className:"font-bold",children:Bl(z.packagingCost)})]}),d.jsxs("div",{className:"flex justify-between items-center text-lg",children:[d.jsx("span",{className:"text-brand-brown-300",children:m("hpp.otherCostResult")}),d.jsxs("span",{className:"font-bold",children:[Bl(b)," / kg"]})]}),d.jsxs("div",{className:"pt-4 mt-4 border-t border-brand-brown-700 space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center text-xl",children:[d.jsx("span",{className:"text-brand-brown-200",children:m("hpp.hppPerKg")}),d.jsx("span",{className:"font-bold text-green-300",children:Bl(z.finalHPPPerKg)})]}),d.jsxs("div",{className:"flex justify-between items-center text-2xl",children:[d.jsx("span",{className:"text-brand-brown-100",children:m("hpp.hppPerPackage")}),d.jsx("span",{className:"font-bold text-green-300",children:Bl(z.finalHPPPerPackage)})]}),d.jsx("p",{className:"text-xs text-brand-brown-400 text-right pt-2",children:m("hpp.disclaimer",{size:z.selectedPackageSize*1e3})})]})]})]})]})},DX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[d.jsx("path",{d:"M19.7 12.3c.04-.2.04-.4.04-.6 0-4.42-3.58-8-8-8s-8 3.58-8 8c0 .2.01.4.04.6C3.1 13.8 3 15.3 3 16.5 3 20.1 6.1 23 10 23c3.3 0 6-2.1 7-5 .4-1.3.5-2.6.5-3.8 0-.6-.1-1.3-.3-1.9zM12 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),d.jsx("path",{d:"M11 3.2c.5-.1 1-.2 1.5-.2 4.4 0 8 3.6 8 8 0 .5-.1 1-.2 1.5"})]}),PX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[d.jsx("path",{d:"M20 12V8a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-4"}),d.jsx("path",{d:"M20 12h-8a2 2 0 0 1-2-2V6"}),d.jsx("path",{d:"M18 12a2 2 0 0 0 2-2V8"})]}),kX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[d.jsx("path",{d:"M21 8c0-2.2-1.8-4-4-4H7c-2.2 0-4 1.8-4 4v8c0 2.2 1.8 4 4 4h10c2.2 0 4-1.8 4-4Z"}),d.jsx("path",{d:"M7 16h10"}),d.jsx("path",{d:"M7 12h10"}),d.jsx("path",{d:"M12 12v8"})]}),cv=({type:e})=>{const t="inline mr-1";return e==="positive"?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:d.jsx("path",{d:"M12 5v14M18 11l-6-6-6 6"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:d.jsx("path",{d:"M12 5v14M18 13l-6 6-6-6"})})},ur=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),RX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),MX=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},IX=({data:e,currentUser:t})=>{const{sales:n,purchaseOrders:r,expenses:i,stock:o,blends:l,roasts:u,externalRoasts:m,warehouseLogs:h}=e,{t:g}=Re(),[p,y]=w.useState(!1),[b,S]=w.useState(!0),[_,j]=w.useState([]),[O,A]=w.useState({allSales:[],allPOs:[],allStock:[],allBlends:[],allRoasts:[],allExternalRoasts:[],allLogs:[]}),T=w.useCallback(async()=>{S(!0);const[W,Q,B,K,oe,ue,J,R]=await Promise.all([n.getAll(),r.getAll(),i.getAll(),o.getAll(),l.getAll(),u.getAll(),m.getAll(),h.getAll()]);j(B),A({allSales:W,allPOs:Q,allStock:K,allBlends:oe,allRoasts:ue,allExternalRoasts:J,allLogs:R}),S(!1)},[n,r,i,o,l,u,m,h]);w.useEffect(()=>{t.role==="Admin"&&T()},[T,t.role]);const P=w.useMemo(()=>{const{allSales:W,allPOs:Q,allStock:B,allBlends:K,allRoasts:oe,allExternalRoasts:ue,allLogs:J}=O,R=me=>{if(me.variety===vt.BLEND){const bt=J.find(Xe=>Xe.itemId===me.id&&Xe.notes.startsWith("Created blend:"));if(!bt)return 0;const Me=bt.notes.match(/Created blend: (.*?) /);if(!Me)return 0;const Yt=Me[1],an=K.find(Xe=>Xe.name===Yt);return(an==null?void 0:an.totalCostPerKg)||0}const be=J.find(bt=>bt.itemId===me.id&&bt.change>0&&(bt.notes.includes("From roast batch")||bt.notes.includes("Received from external roastery")));if(!be)return 0;const Ce=(bt,Me)=>{const Yt=J.find(yr=>yr.itemId===bt&&yr.change>0&&yr.notes.includes("Stock from PO"));if(!Yt)return 0;const an=Yt.notes.match(/Stock from PO #(\w+-\w+)/);if(!an)return 0;const Xe=Q.find(yr=>yr.id===an[1]),Je=Xe==null?void 0:Xe.items.find(yr=>yr.variety===Me);return(Je==null?void 0:Je.pricePerKg)||0},Ge=be.notes.match(/From roast batch (RB-[\w-]+)/);if(Ge){const bt=Ge[1],Me=oe.find(Je=>Je.batchId===bt);if(!Me)return 0;const an=Ce(Me.greenBeanStockId,Me.greenBeanVariety)*Me.greenBeanWeightKg,Xe=Me.internalRoastingCostPerKg*Me.greenBeanWeightKg;return Me.roastedWeightKg===0?0:(an+Xe)/Me.roastedWeightKg}const qt=be.notes.match(/Received from external roastery: (.*)/);if(qt){const bt=qt[1],Me=ue.find(Je=>Je.roasteryName===bt&&Je.dateReceived===be.date);if(!Me)return 0;const an=Ce(Me.greenBeanStockId,Me.greenBeanVariety)*Me.greenBeanWeightSentKg,Xe=Me.roastingCostPerKg*Me.greenBeanWeightSentKg;return Me.roastedBeanWeightReceivedKg===0?0:(an+Xe)/Me.roastedBeanWeightReceivedKg}return 0},L=new Date,re=new Date,le=new Date(new Date().setDate(L.getDate()-30)),ce=new Date(new Date().setDate(L.getDate()-31)),xe=new Date(new Date().setDate(L.getDate()-60)),de=(me,be)=>{const Ce=W.filter(Xe=>new Date(Xe.saleDate)>=me&&new Date(Xe.saleDate)<=be),Ge=_.filter(Xe=>new Date(Xe.date)>=me&&new Date(Xe.date)<=be),qt=Ce.reduce((Xe,Je)=>Xe+Je.totalAmount,0),bt=Ce.reduce((Xe,Je)=>{const yr=Je.items.reduce((Ro,Mo)=>{const mi=B.find(Tc=>Tc.id===Mo.stockId);if(!mi)return Ro;const rh=R(mi);return Ro+rh*Mo.quantityKg},0);return Xe+yr},0),Me=Ge.reduce((Xe,Je)=>Xe+Je.amount,0),Yt=qt-bt,an=Yt-Me;return{revenue:qt,grossProfit:Yt,netProfit:an,expenses:Me,cogs:bt}},ye=de(le,re),X=de(xe,ce),we=W.filter(me=>me.paymentStatus===N0.UNPAID).reduce((me,be)=>me+be.totalAmount,0),je=Q.filter(me=>me.status===Ar.PENDING||me.status===Ar.APPROVED).reduce((me,be)=>me+be.items.reduce((Ce,Ge)=>Ce+Ge.pricePerKg*Ge.quantityKg,0),0),se=W.reduce((me,be)=>{const Ce=new Date(be.saleDate).toLocaleString("default",{month:"short",year:"numeric"}),Ge=g("financial.chart_revenue"),qt=g("financial.chart_expenses");return me[Ce]||(me[Ce]={name:Ce,[Ge]:0,[qt]:0}),me[Ce][Ge]=me[Ce][Ge]+be.totalAmount,me},{});_.forEach(me=>{const be=new Date(me.date).toLocaleString("default",{month:"short",year:"numeric"}),Ce=g("financial.chart_revenue"),Ge=g("financial.chart_expenses");se[be]||(se[be]={name:be,[Ce]:0,[Ge]:0}),se[be][Ge]=se[be][Ge]+me.amount});const Fe=Object.values(se).sort((me,be)=>new Date(me.name).getTime()-new Date(be.name).getTime());return{currentPeriod:ye,previousPeriod:X,accountsReceivable:we,accountsPayable:je,chartData:Fe}},[O,_,g]);if(t.role!=="Admin")return d.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600",children:g("financial.accessDenied")}),d.jsx("p",{className:"mt-4 text-gray-600",children:g("financial.accessDeniedMsg")})]});if(b)return d.jsx("div",{className:"text-center p-8",children:g("common.loading")});const N=(W,Q)=>Q===0?W>0?1/0:0:(W-Q)/Math.abs(Q)*100,C=(W,Q=!1)=>{const B=g("dashboard.trend_vsPrevDays");if(W===1/0)return{text:"+100%+",type:"positive"};if(isNaN(W)||W===0)return{text:B,type:"neutral"};const K=W>0?"+":"";let oe=W>0?"positive":"negative";return Q&&(oe=oe==="positive"?"negative":"positive"),{text:`${K}${W.toFixed(1)}% ${B}`,type:oe}},k=N(P.currentPeriod.grossProfit,P.previousPeriod.grossProfit),z=N(P.currentPeriod.expenses,P.previousPeriod.expenses),V=N(P.currentPeriod.netProfit,P.previousPeriod.netProfit),ie=C(k),ee=C(z,!0),I=C(V),q=async()=>{y(!1),await T()};return d.jsxs("div",{className:"space-y-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:g("financial.title")}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.jsx(Mt,{title:g("financial.card_grossProfit"),value:ur(P.currentPeriod.grossProfit),icon:d.jsx(DX,{}),change:d.jsxs(d.Fragment,{children:[ie.type!=="neutral"&&d.jsx(cv,{type:ie.type})," ",ie.text]}),changeType:ie.type}),d.jsx(Mt,{title:g("financial.card_opEx"),value:ur(P.currentPeriod.expenses),icon:d.jsx(kX,{}),change:d.jsxs(d.Fragment,{children:[ee.type!=="neutral"&&d.jsx(cv,{type:z>0?"positive":"negative"})," ",ee.text]}),changeType:ee.type}),d.jsx(Mt,{title:g("financial.card_netProfit"),value:ur(P.currentPeriod.netProfit),icon:d.jsx(PX,{}),change:d.jsxs(d.Fragment,{children:[I.type!=="neutral"&&d.jsx(cv,{type:I.type})," ",I.text]}),changeType:I.type})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 mb-4",children:g("financial.pnl_title")}),d.jsx("table",{className:"min-w-full",children:d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-2 text-brand-brown-800",children:g("financial.pnl_revenue")}),d.jsx("td",{className:"py-2 text-right font-semibold text-brand-brown-900",children:ur(P.currentPeriod.revenue)})]}),d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-2 text-brand-brown-800",children:g("financial.pnl_cogs")}),d.jsxs("td",{className:"py-2 text-right font-semibold text-red-600",children:["(",ur(P.currentPeriod.cogs),")"]})]}),d.jsxs("tr",{className:"border-b bg-gray-50",children:[d.jsx("td",{className:"py-2 font-bold text-brand-brown-800",children:g("financial.pnl_grossProfit")}),d.jsx("td",{className:"py-2 text-right font-bold text-brand-brown-900",children:ur(P.currentPeriod.grossProfit)})]}),d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"py-2 text-brand-brown-800",children:g("financial.pnl_opEx")}),d.jsxs("td",{className:"py-2 text-right font-semibold text-red-600",children:["(",ur(P.currentPeriod.expenses),")"]})]}),d.jsxs("tr",{className:"bg-brand-brown-100",children:[d.jsx("td",{className:"py-3 font-extrabold text-lg text-brand-brown-900",children:g("financial.pnl_netProfit")}),d.jsx("td",{className:"py-3 text-right font-extrabold text-lg text-brand-brown-900",children:ur(P.currentPeriod.netProfit)})]})]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[d.jsx("p",{className:"text-sm font-semibold text-brand-brown-700",children:g("financial.receivable")}),d.jsx("p",{className:"text-2xl font-bold text-green-700",children:ur(P.accountsReceivable)})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[d.jsx("p",{className:"text-sm font-semibold text-brand-brown-700",children:g("financial.payable")}),d.jsx("p",{className:"text-2xl font-bold text-red-700",children:ur(P.accountsPayable)})]})]})]}),d.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[d.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 mb-4",children:g("financial.chart_title")}),d.jsx(Qa,{width:"100%",height:300,children:d.jsxs(nk,{data:P.chartData,children:[d.jsx(Gi,{strokeDasharray:"3 3"}),d.jsx(Fi,{dataKey:"name"}),d.jsx(Vi,{tickFormatter:W=>`Rp${W/1e6} Jt`}),d.jsx(ti,{formatter:W=>ur(W)}),d.jsx(mo,{}),d.jsx(uf,{type:"monotone",dataKey:g("financial.chart_revenue"),stroke:"#16a34a",strokeWidth:2}),d.jsx(uf,{type:"monotone",dataKey:g("financial.chart_expenses"),stroke:"#dc2626",strokeWidth:2})]})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800",children:g("financial.expenses_title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:()=>MX(_,"expenses"),className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold text-sm rounded-lg hover:bg-brand-green-700",children:[d.jsx(RX,{}),g("financial.expenses_export")]}),d.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-brand-brown-600 text-white font-semibold text-sm rounded-lg hover:bg-brand-brown-700",children:g("financial.expenses_add")})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-brand-brown-700 uppercase",children:g("financial.table_date")}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-brand-brown-700 uppercase",children:g("financial.table_description")}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-brand-brown-700 uppercase",children:g("financial.table_category")}),d.jsx("th",{className:"px-4 py-2 text-right text-xs font-bold text-brand-brown-700 uppercase",children:g("financial.table_amount")})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:_.map(W=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:W.date}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:W.description}),d.jsx("td",{className:"px-4 py-2 text-sm",children:d.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs rounded-full",children:W.category})}),d.jsx("td",{className:"px-4 py-2 text-sm text-right font-semibold text-gray-800",children:ur(W.amount)})]},W.id))})]})})]}),p&&d.jsx(LX,{data:e,onClose:q})]})},LX=({data:e,onClose:t})=>{const{t:n}=Re(),[r,i]=w.useState({date:new Date().toISOString().split("T")[0],description:"",category:Sv.OTHER,amount:0}),o=async l=>{if(l.preventDefault(),!r.description.trim()||r.amount<=0){alert("Please provide a valid description and amount.");return}await e.expenses.add(r),await t()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:n("financial.modal_title")}),d.jsxs("form",{onSubmit:o,className:"space-y-4",children:[d.jsx("input",{type:"text",placeholder:n("financial.modal_description"),value:r.description,onChange:l=>i(u=>({...u,description:l.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx("input",{type:"date",value:r.date,onChange:l=>i(u=>({...u,date:l.target.value})),className:"w-full p-2 border border-gray-300 rounded-md"}),d.jsx("input",{type:"number",placeholder:n("financial.modal_amount"),value:r.amount||"",onChange:l=>i(u=>({...u,amount:parseFloat(l.target.value)||0})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),d.jsx("select",{value:r.category,onChange:l=>i(u=>({...u,category:l.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:Object.values(Sv).map(l=>d.jsx("option",{value:l,children:l},l))}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.cancel")}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:n("common.save")})]})]})]})})},BX=e=>{switch(e){case vn.ADMIN:return"bg-red-200 text-red-800";case vn.ROASTER:return"bg-yellow-200 text-yellow-800";case vn.QC:return"bg-blue-200 text-blue-800";case vn.SALES:return"bg-green-200 text-green-800";default:return"bg-gray-200 text-gray-800"}},UX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),d.jsx("polyline",{points:"7 10 12 15 17 10"}),d.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),$X=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=m=>n.map(h=>{let g=m[h];if(g==null)return"";typeof g=="object"&&(g=JSON.stringify(g));let p=String(g);return p.search(/("|,|\n)/g)>=0&&(p='"'+p.replace(/"/g,'""')+'"'),p}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},zX=({data:e,currentUser:t})=>{const{users:n}=e,{t:r}=Re(),[i,o]=w.useState(!1),[l,u]=w.useState(null),[m,h]=w.useState([]),[g,p]=w.useState(!0),y=w.useCallback(async()=>{p(!0);const A=await n.getAll();h(A),p(!1)},[n]);if(w.useEffect(()=>{(t==null?void 0:t.role)===vn.ADMIN&&y()},[y,t==null?void 0:t.role]),(t==null?void 0:t.role)!==vn.ADMIN)return d.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[d.jsx("h1",{className:"text-2xl font-bold text-red-600",children:r("users.accessDenied")}),d.jsx("p",{className:"mt-4 text-gray-600",children:r("users.accessDeniedMsg")})]});const b=()=>{u(null),o(!0)},S=A=>{u(A),o(!0)},_=async A=>{if(A===t.id){alert("You cannot delete your own account.");return}window.confirm(r("common.confirmDelete"))&&(await n.remove(A),await y())},j=async A=>{if("id"in A){const{password:T,...P}=A,N=P;T&&(N.password=T),await n.update(A.id,N)}else await n.add(A);o(!1),u(null),await y()},O=()=>{const A=m.map(({id:T,username:P,role:N})=>({id:T,username:P,role:N}));$X(A,"users")};return g?d.jsx("div",{className:"text-center p-8",children:r("common.loading")}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:r("users.title")}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("button",{onClick:O,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[d.jsx(UX,{}),r("users.exportButton")]}),d.jsx("button",{onClick:b,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:r("users.addButton")})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:r("users.table_username")}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:r("users.table_role")}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:r("users.table_actions")})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:m.map(A=>d.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-brown-900",children:A.username}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${BX(A.role)}`,children:A.role})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[d.jsx("button",{onClick:()=>S(A),className:"text-brand-brown-600 hover:text-brand-brown-900 mr-4",children:r("common.edit")}),d.jsx("button",{onClick:()=>_(A.id),className:"text-red-600 hover:text-red-900",children:r("common.delete")})]})]},A.id))})]})})}),i&&d.jsx(qX,{user:l,onSave:j,onClose:()=>o(!1)})]})},qX=({user:e,onSave:t,onClose:n})=>{const{t:r}=Re(),[i,o]=w.useState({username:(e==null?void 0:e.username)||"",password:"",role:(e==null?void 0:e.role)||vn.USER}),l=async u=>{if(u.preventDefault(),!e&&!i.password){alert("Password is required for new users.");return}e?await t({...e,...i}):await t(i)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r(e?"users.modal_title_edit":"users.modal_title_add")}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("users.modal_username")}),d.jsx("input",{type:"text",value:i.username,onChange:u=>o(m=>({...m,username:u.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("users.modal_password")}),d.jsx("input",{type:"password",value:i.password,onChange:u=>o(m=>({...m,password:u.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:e?r("users.modal_passwordPlaceholder"):"",required:!e})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("users.modal_role")}),d.jsx("select",{value:i.role,onChange:u=>o(m=>({...m,role:u.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(vn).map(u=>d.jsx("option",{value:u,children:u},u))})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:r("common.save")})]})]})]})})},KX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-700",children:[d.jsx("path",{d:"M10 21h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2Z"}),d.jsx("path",{d:"M12 2v4"}),d.jsx("path",{d:"M18 6h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3"}),d.jsx("path",{d:"M2 12h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H2v6Z"})]}),HX=({onLogin:e,onSwitchToRegister:t})=>{const[n,r]=w.useState(""),[i,o]=w.useState(""),[l,u]=w.useState(""),[m,h]=w.useState(!1),{t:g}=Re(),p=async y=>{y.preventDefault(),u(""),h(!0),await e(n,i)||u(g("login.error")),h(!1)};return d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-brand-brown-100",children:d.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-2xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx(KX,{})}),d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:g("login.title")}),d.jsx("p",{className:"mt-2 text-gray-600",children:g("login.subtitle")})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[d.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[d.jsx("div",{children:d.jsx("input",{id:"email",name:"email",type:"email",value:n,onChange:y=>r(y.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:"Email"})}),d.jsx("div",{children:d.jsx("input",{id:"password",name:"password",type:"password",value:i,onChange:y=>o(y.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:g("login.passwordPlaceholder")})})]}),l&&d.jsx("p",{className:"text-sm text-red-600 text-center",children:l}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-brown-700 hover:bg-brand-brown-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-brown-500 transition-colors disabled:bg-gray-400",children:m?g("login.signInButton")+"...":g("login.signInButton")})}),d.jsxs("div",{className:"text-center text-xs text-gray-500",children:[d.jsx("p",{children:g("login.demoInfo")}),d.jsx("p",{children:g("login.otherRoles")})]}),d.jsx("div",{className:"text-center text-sm",children:d.jsx("a",{href:"#",onClick:y=>{y.preventDefault(),t()},className:"font-medium text-brand-brown-600 hover:text-brand-brown-800",children:g("register.switchToRegister")})})]})]})})},GX=e=>{switch(e){case ca.HIGH:return"bg-red-100 text-red-800";case ca.MEDIUM:return"bg-yellow-100 text-yellow-800";case ca.LOW:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},FX=e=>{switch(e){case sa.TODO:return"bg-gray-200 text-gray-800";case sa.IN_PROGRESS:return"bg-blue-200 text-blue-800";case sa.DONE:return"bg-green-200 text-green-800";default:return"bg-gray-100 text-gray-800"}},sk=e=>{if(!e)return"N/A";const t=new Date(e),n=t.getTimezoneOffset()*6e4;return new Date(t.getTime()+n).toLocaleDateString("en-CA")},VX=({data:e,currentUser:t})=>{const{todos:n,users:r,comments:i}=e,[o,l]=w.useState(!1),[u,m]=w.useState(!1),[h,g]=w.useState(null),[p,y]=w.useState(null),[b,S]=w.useState("priority"),[_,j]=w.useState(!1),O=n.getAll(),A=r.getAll(),T=w.useMemo(()=>A.reduce((I,q)=>(I[q.id]=q,I),{}),[A]),P=w.useMemo(()=>i.getAll().reduce((I,q)=>(I[q.taskId]=(I[q.taskId]||0)+1,I),{}),[i.getAll()]),N=w.useMemo(()=>O.filter(q=>_?!0:q.status!==sa.DONE).sort((q,W)=>{switch(b){case"priority":const Q={[ca.HIGH]:1,[ca.MEDIUM]:2,[ca.LOW]:3};return Q[q.priority]-Q[W.priority];case"dueDate":return q.dueDate?W.dueDate?new Date(q.dueDate).getTime()-new Date(W.dueDate).getTime():-1:1;case"createdAt":return new Date(W.createdAt).getTime()-new Date(q.createdAt).getTime();case"text":return q.text.localeCompare(W.text);default:return 0}}),[O,b,_]),C=()=>{g(null),l(!0)},k=I=>{g(I),l(!0)},z=I=>{y(I),m(!0)},V=I=>{window.confirm("Are you sure you want to delete this task?")&&n.remove(I)},ie=(I,q,W,Q)=>{h?n.update(h.id,{text:I,dueDate:q,priority:W,assignedTo:Q}):n.add({text:I,dueDate:q,priority:W,assignedTo:Q,status:sa.TODO,createdAt:new Date().toISOString().split("T")[0]}),l(!1),g(null)},ee=(I,q)=>{n.update(I,{status:q}),(p==null?void 0:p.id)===I&&y(W=>W?{...W,status:q}:null)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:"Tasks"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("select",{value:b,onChange:I=>S(I.target.value),className:"p-2 border border-gray-300 rounded-md shadow-sm bg-white",children:[d.jsx("option",{value:"priority",children:"Sort by Priority"}),d.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),d.jsx("option",{value:"createdAt",children:"Sort by Creation Date"}),d.jsx("option",{value:"text",children:"Sort Alphabetically"})]}),d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:_,onChange:()=>j(!_),className:"h-4 w-4 rounded border-gray-300 text-brand-brown-600 focus:ring-brand-brown-500"}),d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Done"})]}),d.jsx("button",{onClick:C,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:"Add Task"})]})]}),d.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[d.jsx("thead",{className:"bg-brand-brown-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Task"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Assigned To"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Priority"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Due Date"}),d.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:"Actions"})]})}),d.jsxs("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:[N.map(I=>{const q=I.assignedTo?T[I.assignedTo]:void 0,W=I.dueDate&&new Date(I.dueDate)<new Date&&I.status!==sa.DONE,Q=P[I.id]||0;return d.jsxs("tr",{className:`hover:bg-brand-brown-50 ${W?"bg-red-50":""}`,children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${FX(I.status)}`,children:I.status})}),d.jsxs("td",{className:"px-6 py-4 text-sm text-brand-brown-900",children:[d.jsx("p",{className:`${I.status===sa.DONE?"line-through text-gray-500":""}`,children:I.text}),Q>0&&d.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:d.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),Q]})]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:q&&d.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://i.pravatar.cc/150?u=${q.id}`,alt:q.username,title:`Assigned to ${q.username}`})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${GX(I.priority)}`,children:I.priority})}),d.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${W?"text-red-600 font-bold":"text-gray-600"}`,children:sk(I.dueDate)}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[d.jsx("button",{onClick:()=>z(I),className:"text-blue-600 hover:text-blue-900",children:"Details"}),d.jsx("button",{onClick:()=>k(I),className:"text-brand-brown-600 hover:text-brand-brown-900",children:"Edit"}),d.jsx("button",{onClick:()=>V(I.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},I.id)}),N.length===0&&d.jsx("tr",{children:d.jsx("td",{colSpan:6,className:"text-center text-gray-500 py-8",children:"No tasks found."})})]})]})})}),o&&d.jsx(WX,{todo:h,users:A,onSave:ie,onClose:()=>l(!1)}),u&&p&&t&&d.jsx(YX,{todo:p,users:A,comments:i.getAll().filter(I=>I.taskId===p.id),currentUser:t,onClose:()=>m(!1),onStatusChange:ee,onAddComment:(I,q)=>i.add({taskId:I,text:q,userId:t.id,createdAt:new Date().toISOString()}),onDeleteComment:I=>i.remove(I)})]})},YX=({todo:e,users:t,comments:n,currentUser:r,onClose:i,onStatusChange:o,onAddComment:l,onDeleteComment:u})=>{const[m,h]=w.useState(""),g=w.useMemo(()=>t.reduce((y,b)=>(y[b.id]=b,y),{}),[t]),p=y=>{y.preventDefault(),m.trim()&&(l(e.id,m),h(""))};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:e.text}),d.jsx("button",{onClick:i,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 border-b pb-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),d.jsx("select",{value:e.status,onChange:y=>o(e.id,y.target.value),className:"mt-1 w-full p-2 border border-gray-300 rounded-md",children:Object.values(sa).map(y=>d.jsx("option",{value:y,children:y},y))})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Priority"}),d.jsx("p",{className:"mt-1 font-semibold text-brand-brown-800",children:e.priority})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Due Date"}),d.jsx("p",{className:"mt-1 font-semibold text-brand-brown-800",children:sk(e.dueDate)})]})]}),d.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-brand-brown-800",children:"Comments"}),n.length>0?n.map(y=>{var b,S;return d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://i.pravatar.cc/150?u=${y.userId}`,alt:(b=g[y.userId])==null?void 0:b.username}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"bg-gray-100 rounded-lg p-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("p",{className:"text-sm font-semibold text-brand-brown-800",children:(S=g[y.userId])==null?void 0:S.username}),y.userId===r.id&&d.jsx("button",{onClick:()=>u(y.id),className:"text-xs text-red-500 hover:text-red-700",children:"Delete"})]}),d.jsx("p",{className:"text-sm text-gray-700 mt-1",children:y.text})]}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(y.createdAt).toLocaleString()})]})]},y.id)}):d.jsx("p",{className:"text-sm text-gray-500 text-center",children:"No comments yet."})]}),d.jsxs("form",{onSubmit:p,className:"mt-4 pt-4 border-t flex items-start space-x-3",children:[d.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://i.pravatar.cc/150?u=${r.id}`,alt:r.username}),d.jsxs("div",{className:"flex-1",children:[d.jsx("textarea",{value:m,onChange:y=>h(y.target.value),placeholder:"Add a comment...",rows:2,className:"w-full p-2 border border-gray-300 rounded-md"}),d.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 bg-brand-brown-700 text-white text-sm font-semibold rounded-lg hover:bg-brand-brown-800",children:"Post Comment"})]})]})]})})},WX=({todo:e,users:t,onSave:n,onClose:r})=>{const[i,o]=w.useState((e==null?void 0:e.text)||""),[l,u]=w.useState((e==null?void 0:e.dueDate)||""),[m,h]=w.useState((e==null?void 0:e.priority)||ca.MEDIUM),[g,p]=w.useState((e==null?void 0:e.assignedTo)||""),y=b=>{b.preventDefault(),i.trim()&&n(i,l||void 0,m,g||void 0)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",role:"dialog","aria-modal":"true",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[d.jsxs("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:[e?"Edit":"Create"," Task"]}),d.jsxs("form",{onSubmit:y,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"task-description",className:"block text-sm font-medium text-gray-700",children:"Task Description"}),d.jsx("input",{id:"task-description",type:"text",value:i,onChange:b=>o(b.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),d.jsx("select",{id:"priority",value:m,onChange:b=>h(b.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(ca).map(b=>d.jsx("option",{value:b,children:b},b))})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700",children:"Assign To"}),d.jsxs("select",{id:"assignedTo",value:g,onChange:b=>p(b.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:[d.jsx("option",{value:"",children:"Unassigned"}),t.map(b=>d.jsx("option",{value:b.id,children:b.username},b.id))]})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"due-date",className:"block text-sm font-medium text-gray-700",children:"Due Date (Optional)"}),d.jsx("input",{id:"due-date",type:"date",value:l,onChange:b=>u(b.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:"Save Task"})]})]})]})})},XX=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-700",children:[d.jsx("path",{d:"M10 21h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2Z"}),d.jsx("path",{d:"M12 2v4"}),d.jsx("path",{d:"M18 6h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3"}),d.jsx("path",{d:"M2 12h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H2v6Z"})]}),JX=({onRegister:e,onSwitchToLogin:t})=>{const[n,r]=w.useState(""),[i,o]=w.useState(""),[l,u]=w.useState(""),[m,h]=w.useState(""),[g,p]=w.useState(""),[y,b]=w.useState(""),[S,_]=w.useState(!1),{t:j}=Re(),O=async A=>{if(A.preventDefault(),p(""),b(""),l!==m){p(j("register.error_passwordMismatch"));return}_(!0);const T=await e(n,l,i);T.success?(b(T.message),r(""),o(""),u(""),h("")):p(T.message),_(!1)};return d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-brand-brown-100",children:d.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-2xl",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx(XX,{})}),d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:j("register.title")}),d.jsx("p",{className:"mt-2 text-gray-600",children:j("register.subtitle")})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:O,children:[d.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[d.jsx("div",{children:d.jsx("input",{id:"email",name:"email",type:"email",value:n,onChange:A=>r(A.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:"Email"})}),d.jsx("div",{children:d.jsx("input",{id:"username",name:"username",type:"text",value:i,onChange:A=>o(A.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:j("register.usernamePlaceholder")})}),d.jsx("div",{children:d.jsx("input",{id:"password",name:"password",type:"password",value:l,onChange:A=>u(A.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:j("register.passwordPlaceholder")})}),d.jsx("div",{children:d.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:m,onChange:A=>h(A.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:j("register.confirmPasswordPlaceholder")})})]}),g&&d.jsx("p",{className:"text-sm text-red-600 text-center",children:g}),y&&d.jsx("p",{className:"text-sm text-green-600 text-center",children:y}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:S,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-brown-700 hover:bg-brand-brown-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-brown-500 transition-colors disabled:bg-gray-400",children:S?j("register.registerButton")+"...":j("register.registerButton")})}),d.jsx("div",{className:"text-center text-sm",children:d.jsx("a",{href:"#",onClick:A=>{A.preventDefault(),t()},className:"font-medium text-brand-brown-600 hover:text-brand-brown-800",children:j("register.switchToLogin")})})]})]})})},ZX=({user:e,onClose:t,onSave:n})=>{const{t:r}=Re(),[i,o]=w.useState(""),[l,u]=w.useState(""),[m,h]=w.useState(""),g=p=>{if(p.preventDefault(),i&&i!==l){h(r("profile.error_passwordMismatch"));return}const y={};i&&(y.password=i),n(e.id,y)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[d.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r("profile.title")}),d.jsxs("form",{onSubmit:g,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("profile.username")}),d.jsx("input",{type:"text",value:e.username,readOnly:!0,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("profile.role")}),d.jsx("input",{type:"text",value:e.role,readOnly:!0,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("profile.newPassword")}),d.jsx("input",{type:"password",value:i,onChange:p=>o(p.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:r("profile.newPasswordPlaceholder")})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("profile.confirmPassword")}),d.jsx("input",{type:"password",value:l,onChange:p=>u(p.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:r("profile.confirmPasswordPlaceholder")})]}),m&&d.jsx("p",{className:"text-sm text-red-600",children:m}),d.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[d.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),d.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:r("common.save")})]})]})]})})},vd=["#8D5437","#A96841","#C8956F","#DCBCA1","#4CAF50","#388E3C"],QX=({data:e})=>{const[t,n]=w.useState([]),[r,i]=w.useState([]),[o,l]=w.useState([]),[u,m]=w.useState([]),[h,g]=w.useState([]),[p,y]=w.useState(!0),[b,S]=w.useState("30d");w.useEffect(()=>{_()},[]);const _=async()=>{y(!0);const[J,R,L,re,le]=await Promise.all([e.sales.getAll(),e.stock.getAll(),e.purchaseOrders.getAll(),e.expenses.getAll(),e.roasts.getAll()]);n(J),i(R),l(L),m(re),g(le),y(!1)},j=J=>{if(b==="all")return!0;const R=new Date(J);return(new Date().getTime()-R.getTime())/(1e3*60*60*24)<={"7d":7,"30d":30,"90d":90}[b]},O=t.filter(J=>j(J.sale_date||J.saleDate)),A=u.filter(J=>j(J.date)),T=h.filter(J=>j(J.roast_date||J.roastDate)),P=O.reduce((J,R)=>J+(R.total_amount||R.totalAmount),0),N=A.reduce((J,R)=>J+R.amount,0),C=P-N,k=P>0?(C/P*100).toFixed(1):"0",z=O.reduce((J,R)=>{const L=(R.sale_date||R.saleDate).slice(0,10);return J[L]||(J[L]=0),J[L]+=R.total_amount||R.totalAmount,J},{}),V=Object.entries(z).sort(([J],[R])=>J.localeCompare(R)).slice(-30).map(([J,R])=>({date:new Date(J).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),revenue:R/1e6})),ie=r.reduce((J,R)=>{const L=`${R.variety} (${R.type})`;return J[L]||(J[L]=0),J[L]+=R.quantity_kg||R.quantityKg,J},{}),ee=Object.entries(ie).map(([J,R])=>({name:J,value:Number(R.toFixed(2))})),I=O.reduce((J,R)=>((R.items||[]).forEach(L=>{J[L.variety]||(J[L.variety]=0),J[L.variety]+=L.quantityKg||L.quantity_kg}),J),{}),q=Object.entries(I).map(([J,R])=>({variety:J,quantity:Number(R.toFixed(2))})),W=A.reduce((J,R)=>(J[R.category]||(J[R.category]=0),J[R.category]+=R.amount,J),{}),Q=Object.entries(W).map(([J,R])=>({category:J,amount:R/1e6})),B=T.map(J=>({batchId:(J.batch_id||J.batchId).slice(-8),efficiency:((J.roasted_weight_kg||J.roastedWeightKg)/(J.green_bean_weight_kg||J.greenBeanWeightKg)*100).toFixed(1)})),K=B.length>0?(B.reduce((J,R)=>J+Number(R.efficiency),0)/B.length).toFixed(1):"0",oe=r.filter(J=>(J.quantity_kg||J.quantityKg)<50),ue=J=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(J);return p?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-brown-700"})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:"Analytics Dashboard"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive business insights and performance metrics"})]}),d.jsx("div",{className:"flex gap-2",children:["7d","30d","90d","all"].map(J=>d.jsx("button",{onClick:()=>S(J),className:`px-4 py-2 rounded-lg font-medium transition-colors ${b===J?"bg-brand-brown-700 text-white":"bg-white text-brand-brown-700 border border-brand-brown-300 hover:bg-brand-brown-50"}`,children:J==="all"?"All Time":J.toUpperCase()},J))})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(Mt,{title:"Total Revenue",children:[d.jsx("div",{className:"text-3xl font-bold text-brand-green-700",children:ue(P)}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[O.length," transactions"]})]}),d.jsxs(Mt,{title:"Total Expenses",children:[d.jsx("div",{className:"text-3xl font-bold text-red-600",children:ue(N)}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[A.length," expense records"]})]}),d.jsxs(Mt,{title:"Net Profit",children:[d.jsx("div",{className:`text-3xl font-bold ${C>=0?"text-brand-green-700":"text-red-600"}`,children:ue(C)}),d.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Profit Margin: ",k,"%"]})]}),d.jsxs(Mt,{title:"Roasting Efficiency",children:[d.jsxs("div",{className:"text-3xl font-bold text-brand-brown-700",children:[K,"%"]}),d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Average weight retention"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(Mt,{title:"Revenue Trend (in Million IDR)",children:d.jsx(Qa,{width:"100%",height:300,children:d.jsxs(nk,{data:V,children:[d.jsx(Gi,{strokeDasharray:"3 3"}),d.jsx(Fi,{dataKey:"date",tick:{fontSize:12}}),d.jsx(Vi,{tick:{fontSize:12}}),d.jsx(ti,{formatter:J=>[`Rp ${J.toFixed(2)}M`,"Revenue"]}),d.jsx(uf,{type:"monotone",dataKey:"revenue",stroke:"#4CAF50",strokeWidth:2,dot:{fill:"#4CAF50"}})]})})}),d.jsx(Mt,{title:"Sales by Coffee Variety (kg)",children:d.jsx(Qa,{width:"100%",height:300,children:d.jsxs(wd,{data:q,children:[d.jsx(Gi,{strokeDasharray:"3 3"}),d.jsx(Fi,{dataKey:"variety",tick:{fontSize:12}}),d.jsx(Vi,{tick:{fontSize:12}}),d.jsx(ti,{}),d.jsx(Fl,{dataKey:"quantity",fill:"#8D5437",children:q.map((J,R)=>d.jsx(as,{fill:vd[R%vd.length]},`cell-${R}`))})]})})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(Mt,{title:"Current Stock Distribution (kg)",children:d.jsx(Qa,{width:"100%",height:300,children:d.jsxs(rk,{children:[d.jsx(xb,{data:ee,cx:"50%",cy:"50%",labelLine:!1,label:({name:J,percent:R})=>`${J}: ${(R*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:ee.map((J,R)=>d.jsx(as,{fill:vd[R%vd.length]},`cell-${R}`))}),d.jsx(ti,{})]})})}),d.jsx(Mt,{title:"Expenses by Category (in Million IDR)",children:d.jsx(Qa,{width:"100%",height:300,children:d.jsxs(wd,{data:Q,layout:"vertical",children:[d.jsx(Gi,{strokeDasharray:"3 3"}),d.jsx(Fi,{type:"number",tick:{fontSize:12}}),d.jsx(Vi,{dataKey:"category",type:"category",tick:{fontSize:12},width:100}),d.jsx(ti,{formatter:J=>[`Rp ${J.toFixed(2)}M`,"Amount"]}),d.jsx(Fl,{dataKey:"amount",fill:"#A96841"})]})})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs(Mt,{title:"Roasting Efficiency by Batch",children:[d.jsx(Qa,{width:"100%",height:300,children:d.jsxs(wd,{data:B.slice(-15),children:[d.jsx(Gi,{strokeDasharray:"3 3"}),d.jsx(Fi,{dataKey:"batchId",tick:{fontSize:10}}),d.jsx(Vi,{tick:{fontSize:12},domain:[0,100]}),d.jsx(ti,{formatter:J=>[`${J}%`,"Efficiency"]}),d.jsx(Fl,{dataKey:"efficiency",fill:"#C8956F"})]})}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Shows weight retention percentage (roasted / green bean weight)"})]}),d.jsx(Mt,{title:"Low Stock Alerts",children:d.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:oe.length>0?oe.map(J=>d.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 border border-red-200 rounded-lg",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-gray-800",children:[J.variety," - ",J.type]}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Location: ",J.location]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-lg font-bold text-red-600",children:[(J.quantity_kg||J.quantityKg).toFixed(2)," kg"]}),d.jsx("p",{className:"text-xs text-red-500",children:"Low Stock"})]})]},J.id)):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx("svg",{className:"mx-auto h-12 w-12 text-green-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),d.jsx("p",{children:"All stock levels are healthy!"})]})})})]}),d.jsx(Mt,{title:"Key Performance Indicators",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"p-4 bg-brand-brown-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Average Order Value"}),d.jsx("p",{className:"text-2xl font-bold text-brand-brown-800",children:ue(O.length>0?P/O.length:0)})]}),d.jsxs("div",{className:"p-4 bg-brand-brown-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Stock Value"}),d.jsx("p",{className:"text-2xl font-bold text-brand-brown-800",children:ue(r.reduce((J,R)=>{const L=R.quantity_kg||R.quantityKg,re=R.type==="Roasted Bean"?35e4:2e5;return J+L*re},0))})]}),d.jsxs("div",{className:"p-4 bg-brand-brown-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Roast Batches"}),d.jsx("p",{className:"text-2xl font-bold text-brand-brown-800",children:T.length})]})]})}),d.jsx(Mt,{title:"Business Insights",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500 rounded",children:[d.jsx("h4",{className:"font-semibold text-blue-900",children:"Revenue Analysis"}),d.jsx("p",{className:"text-sm text-blue-800 mt-1",children:C>=0?`Your business is profitable with a ${k}% profit margin. ${q.length>0?`${q[0].variety} is your best-selling variety.`:""}`:`Current period shows a loss of ${ue(Math.abs(C))}. Review expenses and pricing strategy.`})]}),d.jsxs("div",{className:"p-4 bg-green-50 border-l-4 border-green-500 rounded",children:[d.jsx("h4",{className:"font-semibold text-green-900",children:"Inventory Status"}),d.jsx("p",{className:"text-sm text-green-800 mt-1",children:oe.length>0?`${oe.length} item(s) are running low. Consider reordering to avoid stockouts.`:"All inventory levels are healthy. No immediate action required."})]}),d.jsxs("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded",children:[d.jsx("h4",{className:"font-semibold text-yellow-900",children:"Production Efficiency"}),d.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:["Average roasting efficiency is ",K,"%. ",Number(K)<80?"Consider reviewing roasting parameters to improve yield.":"Excellent roasting performance!"]})]})]})})]})},eJ=()=>{const{language:e,setLanguage:t}=Re(),n=()=>{t(e==="en"?"id":"en")};return d.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm text-brand-brown-700 bg-brand-brown-100 rounded-lg hover:bg-brand-brown-200 font-semibold transition-colors",children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),d.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),d.jsx("span",{className:"font-bold",children:e.toUpperCase()})]})},tJ=({onLogout:e,onProfileClick:t})=>{const[n,r]=w.useState(!1),{t:i}=Re(),{user:o}=f2();return o?d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-brand-brown-700 font-medium hidden sm:block",children:i("header.welcome",{username:o.username})}),d.jsx("img",{className:"w-10 h-10 rounded-full",src:`https://i.pravatar.cc/150?u=${o.id}`,alt:o.username})]}),n&&d.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[d.jsx("a",{href:"#",onClick:l=>{l.preventDefault(),t(),r(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:i("profile.myProfile")}),d.jsx("a",{href:"#",onClick:l=>{l.preventDefault(),e()},className:"block px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:i("header.logout")})]})]}):null},nJ=()=>{const[e,t]=w.useState("Dashboard"),[n,r]=w.useState(!1),[i,o]=w.useState("login"),[l,u]=w.useState(!1),{user:m,loading:h,signIn:g,signUp:p,signOut:y,updateProfile:b}=f2(),{dataService:S}=v3(),{t:_}=Re(),j=async(C,k)=>(await g(C,k)).success?(t("Dashboard"),!0):!1,O=async(C,k,z)=>{const V=await p(C,k,z);return V.success?{success:!0,message:_("register.success")}:{success:!1,message:V.error||_("register.error_userExists")}},A=async(C,k)=>{await b(k),u(!1)},T=async()=>{await y()};if(h)return d.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-brand-brown-50",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-brand-brown-700"}),d.jsx("p",{className:"ml-4 text-lg font-semibold text-brand-brown-800",children:"Loading..."})]});if(!m)return i==="login"?d.jsx(HX,{onLogin:j,onSwitchToRegister:()=>o("register")}):d.jsx(JX,{onRegister:O,onSwitchToLogin:()=>o("login")});const P=()=>{switch(e){case"Dashboard":return d.jsx($W,{data:S});case"Purchase Orders":return d.jsx(HW,{data:S});case"Grading Form":return d.jsx(VW,{data:S});case"Warehouse":return d.jsx(QW,{data:S});case"Suppliers":return d.jsx(iX,{data:S});case"Roasting Form":return d.jsx(uX,{data:S});case"External Roasting":return d.jsx(gX,{data:S});case"Cupping Form":return d.jsx(bX,{data:S});case"Blending Form":return d.jsx(jX,{data:S});case"Sales":return d.jsx(NX,{data:S});case"Kalkulator HPP":return d.jsx(CX,{data:S});case"Financial Management":return d.jsx(IX,{data:S,currentUser:m});case"User Management":return d.jsx(zX,{data:S,currentUser:m});case"Tasks":return d.jsx(VX,{data:S,currentUser:m});case"Analytics":return d.jsx(QX,{data:S});default:return d.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-md",children:[d.jsx("h1",{className:"text-2xl font-bold text-brand-brown-800",children:e}),d.jsx("p",{className:"mt-4 text-gray-600",children:"This feature is under construction."}),d.jsx("img",{src:"https://picsum.photos/800/400?grayscale",alt:"Under Construction",className:"mt-4 rounded-lg"})]})}},N=()=>d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),d.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),d.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]});return d.jsxs("div",{className:"flex h-screen bg-brand-brown-50 font-sans",children:[d.jsx(B3,{currentView:e,setCurrentView:t,isOpen:n,setOpen:r,currentUser:m}),d.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[d.jsxs("header",{className:"flex items-center justify-between p-4 bg-white border-b border-brand-brown-200 lg:justify-end",children:[d.jsx("button",{onClick:()=>r(!0),className:"p-2 text-brand-brown-800 rounded-md lg:hidden","aria-label":"Open sidebar",children:d.jsx(N,{})}),d.jsx("h1",{className:"text-xl font-bold text-brand-brown-900 lg:hidden",children:_(`sidebar.${e}`,{})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(eJ,{}),d.jsx(tJ,{onLogout:T,onProfileClick:()=>u(!0)})]})]}),d.jsx("div",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-y-auto",children:P()})]}),l&&m&&d.jsx(ZX,{user:m,onClose:()=>u(!1),onSave:A})]})},ok=document.getElementById("root");if(!ok)throw new Error("Could not find root element to mount to");const rJ=UM.createRoot(ok);rJ.render(d.jsx(vN.StrictMode,{children:d.jsx(m3,{children:d.jsx(y3,{children:d.jsx(nJ,{})})})}));
