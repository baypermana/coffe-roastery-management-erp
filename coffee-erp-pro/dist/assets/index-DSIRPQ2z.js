var hL=Object.defineProperty;var mL=(e,t,n)=>t in e?hL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wp=(e,t,n)=>mL(e,typeof t!="symbol"?t+"":t,n);function pL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function j2(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Yp={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE;function gL(){if(SE)return Wl;SE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Wl.Fragment=t,Wl.jsx=n,Wl.jsxs=n,Wl}var EE;function vL(){return EE||(EE=1,Yp.exports=gL()),Yp.exports}var m=vL(),Jp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function yL(){if(AE)return Oe;AE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function C(I,q,oe){this.props=I,this.context=q,this.refs=T,this.updater=oe||S}C.prototype.isReactComponent={},C.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},C.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function P(){}P.prototype=C.prototype;function O(I,q,oe){this.props=I,this.context=q,this.refs=T,this.updater=oe||S}var R=O.prototype=new P;R.constructor=O,E(R,C.prototype),R.isPureReactComponent=!0;var k=Array.isArray;function j(){}var M={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function z(I,q,oe){var ce=oe.ref;return{$$typeof:e,type:I,key:q,ref:ce!==void 0?ce:null,props:oe}}function te(I,q){return z(I.type,q,I.props)}function Z(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function L(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(oe){return q[oe]})}var H=/\/+/g;function J(I,q){return typeof I=="object"&&I!==null&&I.key!=null?L(""+I.key):q.toString(36)}function re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(j,j):(I.status="pending",I.then(function(q){I.status==="pending"&&(I.status="fulfilled",I.value=q)},function(q){I.status==="pending"&&(I.status="rejected",I.reason=q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,q,oe,ce,de){var Se=typeof I;(Se==="undefined"||Se==="boolean")&&(I=null);var he=!1;if(I===null)he=!0;else switch(Se){case"bigint":case"string":case"number":he=!0;break;case"object":switch(I.$$typeof){case e:case t:he=!0;break;case h:return he=I._init,B(he(I._payload),q,oe,ce,de)}}if(he)return de=de(I),he=ce===""?"."+J(I,0):ce,k(de)?(oe="",he!=null&&(oe=he.replace(H,"$&/")+"/"),B(de,q,oe,"",function(Ee){return Ee})):de!=null&&(Z(de)&&(de=te(de,oe+(de.key==null||I&&I.key===de.key?"":(""+de.key).replace(H,"$&/")+"/")+he)),q.push(de)),1;he=0;var we=ce===""?".":ce+":";if(k(I))for(var Q=0;Q<I.length;Q++)ce=I[Q],Se=we+J(ce,Q),he+=B(ce,q,oe,Se,de);else if(Q=x(I),typeof Q=="function")for(I=Q.call(I),Q=0;!(ce=I.next()).done;)ce=ce.value,Se=we+J(ce,Q++),he+=B(ce,q,oe,Se,de);else if(Se==="object"){if(typeof I.then=="function")return B(re(I),q,oe,ce,de);throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return he}function F(I,q,oe){if(I==null)return I;var ce=[],de=0;return B(I,ce,"","",function(Se){return q.call(oe,Se,de++)}),ce}function ue(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(oe){(I._status===0||I._status===-1)&&(I._status=1,I._result=oe)},function(oe){(I._status===0||I._status===-1)&&(I._status=2,I._result=oe)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var fe=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ee={map:F,forEach:function(I,q,oe){F(I,function(){q.apply(this,arguments)},oe)},count:function(I){var q=0;return F(I,function(){q++}),q},toArray:function(I){return F(I,function(q){return q})||[]},only:function(I){if(!Z(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Oe.Activity=g,Oe.Children=ee,Oe.Component=C,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=O,Oe.StrictMode=r,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return M.H.useMemoCache(I)}},Oe.cache=function(I){return function(){return I.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(I,q,oe){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ce=E({},I.props),de=I.key;if(q!=null)for(Se in q.key!==void 0&&(de=""+q.key),q)!V.call(q,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&q.ref===void 0||(ce[Se]=q[Se]);var Se=arguments.length-2;if(Se===1)ce.children=oe;else if(1<Se){for(var he=Array(Se),we=0;we<Se;we++)he[we]=arguments[we+2];ce.children=he}return z(I.type,de,ce)},Oe.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},Oe.createElement=function(I,q,oe){var ce,de={},Se=null;if(q!=null)for(ce in q.key!==void 0&&(Se=""+q.key),q)V.call(q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(de[ce]=q[ce]);var he=arguments.length-2;if(he===1)de.children=oe;else if(1<he){for(var we=Array(he),Q=0;Q<he;Q++)we[Q]=arguments[Q+2];de.children=we}if(I&&I.defaultProps)for(ce in he=I.defaultProps,he)de[ce]===void 0&&(de[ce]=he[ce]);return z(I,Se,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(I){return{$$typeof:u,render:I}},Oe.isValidElement=Z,Oe.lazy=function(I){return{$$typeof:h,_payload:{_status:-1,_result:I},_init:ue}},Oe.memo=function(I,q){return{$$typeof:d,type:I,compare:q===void 0?null:q}},Oe.startTransition=function(I){var q=M.T,oe={};M.T=oe;try{var ce=I(),de=M.S;de!==null&&de(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(j,fe)}catch(Se){fe(Se)}finally{q!==null&&oe.types!==null&&(q.types=oe.types),M.T=q}},Oe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Oe.use=function(I){return M.H.use(I)},Oe.useActionState=function(I,q,oe){return M.H.useActionState(I,q,oe)},Oe.useCallback=function(I,q){return M.H.useCallback(I,q)},Oe.useContext=function(I){return M.H.useContext(I)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(I,q){return M.H.useDeferredValue(I,q)},Oe.useEffect=function(I,q){return M.H.useEffect(I,q)},Oe.useEffectEvent=function(I){return M.H.useEffectEvent(I)},Oe.useId=function(){return M.H.useId()},Oe.useImperativeHandle=function(I,q,oe){return M.H.useImperativeHandle(I,q,oe)},Oe.useInsertionEffect=function(I,q){return M.H.useInsertionEffect(I,q)},Oe.useLayoutEffect=function(I,q){return M.H.useLayoutEffect(I,q)},Oe.useMemo=function(I,q){return M.H.useMemo(I,q)},Oe.useOptimistic=function(I,q){return M.H.useOptimistic(I,q)},Oe.useReducer=function(I,q,oe){return M.H.useReducer(I,q,oe)},Oe.useRef=function(I){return M.H.useRef(I)},Oe.useState=function(I){return M.H.useState(I)},Oe.useSyncExternalStore=function(I,q,oe){return M.H.useSyncExternalStore(I,q,oe)},Oe.useTransition=function(){return M.H.useTransition()},Oe.version="19.2.0",Oe}var TE;function Is(){return TE||(TE=1,Jp.exports=yL()),Jp.exports}var A=Is();const R2=Mr(A),bL=pL({__proto__:null,default:R2},[A]);var Xp={exports:{}},Yl={},Qp={exports:{}},Zp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function xL(){return CE||(CE=1,(function(e){function t(B,F){var ue=B.length;B.push(F);e:for(;0<ue;){var fe=ue-1>>>1,ee=B[fe];if(0<i(ee,F))B[fe]=F,B[ue]=ee,ue=fe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],ue=B.pop();if(ue!==F){B[0]=ue;e:for(var fe=0,ee=B.length,I=ee>>>1;fe<I;){var q=2*(fe+1)-1,oe=B[q],ce=q+1,de=B[ce];if(0>i(oe,ue))ce<ee&&0>i(de,oe)?(B[fe]=de,B[ce]=ue,fe=ce):(B[fe]=oe,B[q]=ue,fe=q);else if(ce<ee&&0>i(de,ue))B[fe]=de,B[ce]=ue,fe=ce;else break e}}return F}function i(B,F){var ue=B.sortIndex-F.sortIndex;return ue!==0?ue:B.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,g=null,v=3,x=!1,S=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var F=n(d);F!==null;){if(F.callback===null)r(d);else if(F.startTime<=B)r(d),F.sortIndex=F.expirationTime,t(f,F);else break;F=n(d)}}function k(B){if(E=!1,R(B),!S)if(n(f)!==null)S=!0,j||(j=!0,L());else{var F=n(d);F!==null&&re(k,F.startTime-B)}}var j=!1,M=-1,V=5,z=-1;function te(){return T?!0:!(e.unstable_now()-z<V)}function Z(){if(T=!1,j){var B=e.unstable_now();z=B;var F=!0;try{e:{S=!1,E&&(E=!1,P(M),M=-1),x=!0;var ue=v;try{t:{for(R(B),g=n(f);g!==null&&!(g.expirationTime>B&&te());){var fe=g.callback;if(typeof fe=="function"){g.callback=null,v=g.priorityLevel;var ee=fe(g.expirationTime<=B);if(B=e.unstable_now(),typeof ee=="function"){g.callback=ee,R(B),F=!0;break t}g===n(f)&&r(f),R(B)}else r(f);g=n(f)}if(g!==null)F=!0;else{var I=n(d);I!==null&&re(k,I.startTime-B),F=!1}}break e}finally{g=null,v=ue,x=!1}F=void 0}}finally{F?L():j=!1}}}var L;if(typeof O=="function")L=function(){O(Z)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=Z,L=function(){J.postMessage(null)}}else L=function(){C(Z,0)};function re(B,F){M=C(function(){B(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var ue=v;v=F;try{return B()}finally{v=ue}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ue=v;v=B;try{return F()}finally{v=ue}},e.unstable_scheduleCallback=function(B,F,ue){var fe=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?fe+ue:fe):ue=fe,B){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=ue+ee,B={id:h++,callback:F,priorityLevel:B,startTime:ue,expirationTime:ee,sortIndex:-1},ue>fe?(B.sortIndex=ue,t(d,B),n(f)===null&&B===n(d)&&(E?(P(M),M=-1):E=!0,re(k,ue-fe))):(B.sortIndex=ee,t(f,B),S||x||(S=!0,j||(j=!0,L()))),B},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(B){var F=v;return function(){var ue=v;v=F;try{return B.apply(this,arguments)}finally{v=ue}}}})(Zp)),Zp}var NE;function wL(){return NE||(NE=1,Qp.exports=xL()),Qp.exports}var eg={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function _L(){if(PE)return dn;PE=1;var e=Is();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,d,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:f,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,h)},dn.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},dn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},dn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},dn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,g=u(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):h==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},dn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},dn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,g=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},dn.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},dn.requestFormReset=function(f){r.d.r(f)},dn.unstable_batchedUpdates=function(f,d){return f(d)},dn.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},dn.useFormStatus=function(){return l.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var OE;function D2(){if(OE)return eg.exports;OE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),eg.exports=_L(),eg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function SL(){if(kE)return Yl;kE=1;var e=wL(),t=Is(),n=D2();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function u(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var c=a,p=s;;){var b=c.return;if(b===null)break;var _=b.alternate;if(_===null){if(p=b.return,p!==null){c=p;continue}break}if(b.child===_.child){for(_=b.child;_;){if(_===c)return f(b),a;if(_===p)return f(b),s;_=_.sibling}throw Error(r(188))}if(c.return!==p.return)c=b,p=_;else{for(var N=!1,D=b.child;D;){if(D===c){N=!0,c=b,p=_;break}if(D===p){N=!0,p=b,c=_;break}D=D.sibling}if(!N){for(D=_.child;D;){if(D===c){N=!0,c=_,p=b;break}if(D===p){N=!0,p=_,c=b;break}D=D.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),O=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function J(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case j:return"SuspenseList";case z:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case O:return a.displayName||"Context";case P:return(a._context.displayName||"Context")+".Consumer";case R:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return s=a.displayName||null,s!==null?s:J(a.type)||"Memo";case V:s=a._payload,a=a._init;try{return J(a(s))}catch{}}return null}var re=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},fe=[],ee=-1;function I(a){return{current:a}}function q(a){0>ee||(a.current=fe[ee],fe[ee]=null,ee--)}function oe(a,s){ee++,fe[ee]=a.current,a.current=s}var ce=I(null),de=I(null),Se=I(null),he=I(null);function we(a,s){switch(oe(Se,s),oe(de,a),oe(ce,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?FS(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=FS(s),a=GS(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}q(ce),oe(ce,a)}function Q(){q(ce),q(de),q(Se)}function Ee(a){a.memoizedState!==null&&oe(he,a);var s=ce.current,c=GS(s,a.type);s!==c&&(oe(de,a),oe(ce,c))}function Ce(a){de.current===a&&(q(ce),q(de)),he.current===a&&(q(he),Hl._currentValue=ue)}var le,Je;function ve(a){if(le===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);le=s&&s[1]||"",Je=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+a+Je}var _e=!1;function Re(a,s){if(!a||_e)return"";_e=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(ne){var X=ne}Reflect.construct(a,[],se)}else{try{se.call()}catch(ne){X=ne}a.call(se.prototype)}}else{try{throw Error()}catch(ne){X=ne}(se=a())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(ne){if(ne&&X&&typeof ne.stack=="string")return[ne.stack,X.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),N=_[0],D=_[1];if(N&&D){var U=N.split(`
`),W=D.split(`
`);for(b=p=0;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;for(;b<W.length&&!W[b].includes("DetermineComponentFrameRoot");)b++;if(p===U.length||b===W.length)for(p=U.length-1,b=W.length-1;1<=p&&0<=b&&U[p]!==W[b];)b--;for(;1<=p&&0<=b;p--,b--)if(U[p]!==W[b]){if(p!==1||b!==1)do if(p--,b--,0>b||U[p]!==W[b]){var ie=`
`+U[p].replace(" at new "," at ");return a.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",a.displayName)),ie}while(1<=p&&0<=b);break}}}finally{_e=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ve(c):""}function Ye(a,s){switch(a.tag){case 26:case 27:case 5:return ve(a.type);case 16:return ve("Lazy");case 13:return a.child!==s&&s!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Re(a.type,!1);case 11:return Re(a.type.render,!1);case 1:return Re(a.type,!0);case 31:return ve("Activity");default:return""}}function Gt(a){try{var s="",c=null;do s+=Ye(a,c),c=a,a=a.return;while(a);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Et=Object.prototype.hasOwnProperty,Ue=e.unstable_scheduleCallback,Zt=e.unstable_cancelCallback,cn=e.unstable_shouldYield,et=e.unstable_requestPaint,tt=e.unstable_now,Ar=e.unstable_getCurrentPriorityLevel,el=e.unstable_ImmediatePriority,tl=e.unstable_UserBlockingPriority,Aa=e.unstable_NormalPriority,Mh=e.unstable_LowPriority,Qu=e.unstable_IdlePriority,YD=e.log,JD=e.unstable_setDisableYieldValue,nl=null,In=null;function ji(a){if(typeof YD=="function"&&JD(a),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(nl,a)}catch{}}var Ln=Math.clz32?Math.clz32:ZD,XD=Math.log,QD=Math.LN2;function ZD(a){return a>>>=0,a===0?32:31-(XD(a)/QD|0)|0}var Zu=256,ec=262144,tc=4194304;function Ta(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function nc(a,s,c){var p=a.pendingLanes;if(p===0)return 0;var b=0,_=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var D=p&134217727;return D!==0?(p=D&~_,p!==0?b=Ta(p):(N&=D,N!==0?b=Ta(N):c||(c=D&~a,c!==0&&(b=Ta(c))))):(D=p&~_,D!==0?b=Ta(D):N!==0?b=Ta(N):c||(c=p&~a,c!==0&&(b=Ta(c)))),b===0?0:s!==0&&s!==b&&(s&_)===0&&(_=b&-b,c=s&-s,_>=c||_===32&&(c&4194048)!==0)?s:b}function rl(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function eM(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cx(){var a=tc;return tc<<=1,(tc&62914560)===0&&(tc=4194304),a}function Ih(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function il(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function tM(a,s,c,p,b,_){var N=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var D=a.entanglements,U=a.expirationTimes,W=a.hiddenUpdates;for(c=N&~c;0<c;){var ie=31-Ln(c),se=1<<ie;D[ie]=0,U[ie]=-1;var X=W[ie];if(X!==null)for(W[ie]=null,ie=0;ie<X.length;ie++){var ne=X[ie];ne!==null&&(ne.lane&=-536870913)}c&=~se}p!==0&&Nx(a,p,0),_!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=_&~(N&~s))}function Nx(a,s,c){a.pendingLanes|=s,a.suspendedLanes&=~s;var p=31-Ln(s);a.entangledLanes|=s,a.entanglements[p]=a.entanglements[p]|1073741824|c&261930}function Px(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var p=31-Ln(c),b=1<<p;b&s|a[p]&s&&(a[p]|=s),c&=~b}}function Ox(a,s){var c=s&-s;return c=(c&42)!==0?1:Lh(c),(c&(a.suspendedLanes|s))!==0?0:c}function Lh(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Uh(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function kx(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:gE(a.type))}function jx(a,s){var c=F.p;try{return F.p=a,s()}finally{F.p=c}}var Ri=Math.random().toString(36).slice(2),en="__reactFiber$"+Ri,Cn="__reactProps$"+Ri,Ao="__reactContainer$"+Ri,Bh="__reactEvents$"+Ri,nM="__reactListeners$"+Ri,rM="__reactHandles$"+Ri,Rx="__reactResources$"+Ri,al="__reactMarker$"+Ri;function qh(a){delete a[en],delete a[Cn],delete a[Bh],delete a[nM],delete a[rM]}function To(a){var s=a[en];if(s)return s;for(var c=a.parentNode;c;){if(s=c[Ao]||c[en]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=eE(a);a!==null;){if(c=a[en])return c;a=eE(a)}return s}a=c,c=a.parentNode}return null}function Co(a){if(a=a[en]||a[Ao]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function ol(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function No(a){var s=a[Rx];return s||(s=a[Rx]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Wt(a){a[al]=!0}var Dx=new Set,Mx={};function Ca(a,s){Po(a,s),Po(a+"Capture",s)}function Po(a,s){for(Mx[a]=s,a=0;a<s.length;a++)Dx.add(s[a])}var iM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ix={},Lx={};function aM(a){return Et.call(Lx,a)?!0:Et.call(Ix,a)?!1:iM.test(a)?Lx[a]=!0:(Ix[a]=!0,!1)}function rc(a,s,c){if(aM(s))if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+c)}}function ic(a,s,c){if(c===null)a.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+c)}}function Gr(a,s,c,p){if(p===null)a.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(s,c,""+p)}}function rr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ux(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function oM(a,s,c){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,_=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return b.call(this)},set:function(N){c=""+N,_.call(this,N)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function $h(a){if(!a._valueTracker){var s=Ux(a)?"checked":"value";a._valueTracker=oM(a,s,""+a[s])}}function Bx(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return a&&(p=Ux(a)?a.checked?"true":"false":a.value),a=p,a!==c?(s.setValue(a),!0):!1}function ac(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var sM=/[\n"\\]/g;function ir(a){return a.replace(sM,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zh(a,s,c,p,b,_,N,D){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),s!=null?N==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+rr(s)):a.value!==""+rr(s)&&(a.value=""+rr(s)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),s!=null?Vh(a,N,rr(s)):c!=null?Vh(a,N,rr(c)):p!=null&&a.removeAttribute("value"),b==null&&_!=null&&(a.defaultChecked=!!_),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.name=""+rr(D):a.removeAttribute("name")}function qx(a,s,c,p,b,_,N,D){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||c!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){$h(a);return}c=c!=null?""+rr(c):"",s=s!=null?""+rr(s):c,D||s===a.value||(a.value=s),a.defaultValue=s}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=D?a.checked:!!p,a.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),$h(a)}function Vh(a,s,c){s==="number"&&ac(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Oo(a,s,c,p){if(a=a.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<a.length;c++)b=s.hasOwnProperty("$"+a[c].value),a[c].selected!==b&&(a[c].selected=b),b&&p&&(a[c].defaultSelected=!0)}else{for(c=""+rr(c),s=null,b=0;b<a.length;b++){if(a[b].value===c){a[b].selected=!0,p&&(a[b].defaultSelected=!0);return}s!==null||a[b].disabled||(s=a[b])}s!==null&&(s.selected=!0)}}function $x(a,s,c){if(s!=null&&(s=""+rr(s),s!==a.value&&(a.value=s),c==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=c!=null?""+rr(c):""}function zx(a,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(re(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=rr(s),a.defaultValue=c,p=a.textContent,p===c&&p!==""&&p!==null&&(a.value=p),$h(a)}function ko(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var lM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vx(a,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":p?a.setProperty(s,c):typeof c!="number"||c===0||lM.has(s)?s==="float"?a.cssFloat=c:a[s]=(""+c).trim():a[s]=c+"px"}function Hx(a,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var b in s)p=s[b],s.hasOwnProperty(b)&&c[b]!==p&&Vx(a,b,p)}else for(var _ in s)s.hasOwnProperty(_)&&Vx(a,_,s[_])}function Hh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oc(a){return cM.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Wr(){}var Kh=null;function Fh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var jo=null,Ro=null;function Kx(a){var s=Co(a);if(s&&(a=s.stateNode)){var c=a[Cn]||null;e:switch(a=s.stateNode,s.type){case"input":if(zh(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ir(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==a&&p.form===a.form){var b=p[Cn]||null;if(!b)throw Error(r(90));zh(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===a.form&&Bx(p)}break e;case"textarea":$x(a,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Oo(a,!!c.multiple,s,!1)}}}var Gh=!1;function Fx(a,s,c){if(Gh)return a(s,c);Gh=!0;try{var p=a(s);return p}finally{if(Gh=!1,(jo!==null||Ro!==null)&&(Gc(),jo&&(s=jo,a=Ro,Ro=jo=null,Kx(s),a)))for(s=0;s<a.length;s++)Kx(a[s])}}function sl(a,s){var c=a.stateNode;if(c===null)return null;var p=c[Cn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=!1;if(Yr)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{Wh=!1}var Di=null,Yh=null,sc=null;function Gx(){if(sc)return sc;var a,s=Yh,c=s.length,p,b="value"in Di?Di.value:Di.textContent,_=b.length;for(a=0;a<c&&s[a]===b[a];a++);var N=c-a;for(p=1;p<=N&&s[c-p]===b[_-p];p++);return sc=b.slice(a,1<p?1-p:void 0)}function lc(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function uc(){return!0}function Wx(){return!1}function Nn(a){function s(c,p,b,_,N){this._reactName=c,this._targetInst=b,this.type=p,this.nativeEvent=_,this.target=N,this.currentTarget=null;for(var D in a)a.hasOwnProperty(D)&&(c=a[D],this[D]=c?c(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?uc:Wx,this.isPropagationStopped=Wx,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),s}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=Nn(Na),ul=g({},Na,{view:0,detail:0}),dM=Nn(ul),Jh,Xh,cl,dc=g({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==cl&&(cl&&a.type==="mousemove"?(Jh=a.screenX-cl.screenX,Xh=a.screenY-cl.screenY):Xh=Jh=0,cl=a),Jh)},movementY:function(a){return"movementY"in a?a.movementY:Xh}}),Yx=Nn(dc),fM=g({},dc,{dataTransfer:0}),hM=Nn(fM),mM=g({},ul,{relatedTarget:0}),Qh=Nn(mM),pM=g({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),gM=Nn(pM),vM=g({},Na,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),yM=Nn(vM),bM=g({},Na,{data:0}),Jx=Nn(bM),xM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_M={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SM(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=_M[a])?!!s[a]:!1}function Zh(){return SM}var EM=g({},ul,{key:function(a){if(a.key){var s=xM[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=lc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?wM[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(a){return a.type==="keypress"?lc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?lc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),AM=Nn(EM),TM=g({},dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xx=Nn(TM),CM=g({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),NM=Nn(CM),PM=g({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),OM=Nn(PM),kM=g({},dc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jM=Nn(kM),RM=g({},Na,{newState:0,oldState:0}),DM=Nn(RM),MM=[9,13,27,32],em=Yr&&"CompositionEvent"in window,dl=null;Yr&&"documentMode"in document&&(dl=document.documentMode);var IM=Yr&&"TextEvent"in window&&!dl,Qx=Yr&&(!em||dl&&8<dl&&11>=dl),Zx=" ",ew=!1;function tw(a,s){switch(a){case"keyup":return MM.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nw(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Do=!1;function LM(a,s){switch(a){case"compositionend":return nw(s);case"keypress":return s.which!==32?null:(ew=!0,Zx);case"textInput":return a=s.data,a===Zx&&ew?null:a;default:return null}}function UM(a,s){if(Do)return a==="compositionend"||!em&&tw(a,s)?(a=Gx(),sc=Yh=Di=null,Do=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Qx&&s.locale!=="ko"?null:s.data;default:return null}}var BM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rw(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!BM[a.type]:s==="textarea"}function iw(a,s,c,p){jo?Ro?Ro.push(p):Ro=[p]:jo=p,s=ed(s,"onChange"),0<s.length&&(c=new cc("onChange","change",null,c,p),a.push({event:c,listeners:s}))}var fl=null,hl=null;function qM(a){qS(a,0)}function fc(a){var s=ol(a);if(Bx(s))return a}function aw(a,s){if(a==="change")return s}var ow=!1;if(Yr){var tm;if(Yr){var nm="oninput"in document;if(!nm){var sw=document.createElement("div");sw.setAttribute("oninput","return;"),nm=typeof sw.oninput=="function"}tm=nm}else tm=!1;ow=tm&&(!document.documentMode||9<document.documentMode)}function lw(){fl&&(fl.detachEvent("onpropertychange",uw),hl=fl=null)}function uw(a){if(a.propertyName==="value"&&fc(hl)){var s=[];iw(s,hl,a,Fh(a)),Fx(qM,s)}}function $M(a,s,c){a==="focusin"?(lw(),fl=s,hl=c,fl.attachEvent("onpropertychange",uw)):a==="focusout"&&lw()}function zM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return fc(hl)}function VM(a,s){if(a==="click")return fc(s)}function HM(a,s){if(a==="input"||a==="change")return fc(s)}function KM(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Un=typeof Object.is=="function"?Object.is:KM;function ml(a,s){if(Un(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var b=c[p];if(!Et.call(s,b)||!Un(a[b],s[b]))return!1}return!0}function cw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function dw(a,s){var c=cw(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=s&&p>=s)return{node:c,offset:s-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=cw(c)}}function fw(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?fw(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function hw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=ac(a.document);s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=ac(a.document)}return s}function rm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var FM=Yr&&"documentMode"in document&&11>=document.documentMode,Mo=null,im=null,pl=null,am=!1;function mw(a,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;am||Mo==null||Mo!==ac(p)||(p=Mo,"selectionStart"in p&&rm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),pl&&ml(pl,p)||(pl=p,p=ed(im,"onSelect"),0<p.length&&(s=new cc("onSelect","select",null,s,c),a.push({event:s,listeners:p}),s.target=Mo)))}function Pa(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var Io={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},om={},pw={};Yr&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function Oa(a){if(om[a])return om[a];if(!Io[a])return a;var s=Io[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in pw)return om[a]=s[c];return a}var gw=Oa("animationend"),vw=Oa("animationiteration"),yw=Oa("animationstart"),GM=Oa("transitionrun"),WM=Oa("transitionstart"),YM=Oa("transitioncancel"),bw=Oa("transitionend"),xw=new Map,sm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sm.push("scrollEnd");function Tr(a,s){xw.set(a,s),Ca(s,[a])}var hc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ar=[],Lo=0,lm=0;function mc(){for(var a=Lo,s=lm=Lo=0;s<a;){var c=ar[s];ar[s++]=null;var p=ar[s];ar[s++]=null;var b=ar[s];ar[s++]=null;var _=ar[s];if(ar[s++]=null,p!==null&&b!==null){var N=p.pending;N===null?b.next=b:(b.next=N.next,N.next=b),p.pending=b}_!==0&&ww(c,b,_)}}function pc(a,s,c,p){ar[Lo++]=a,ar[Lo++]=s,ar[Lo++]=c,ar[Lo++]=p,lm|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function um(a,s,c,p){return pc(a,s,c,p),gc(a)}function ka(a,s){return pc(a,null,null,s),gc(a)}function ww(a,s,c){a.lanes|=c;var p=a.alternate;p!==null&&(p.lanes|=c);for(var b=!1,_=a.return;_!==null;)_.childLanes|=c,p=_.alternate,p!==null&&(p.childLanes|=c),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(b=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,b&&s!==null&&(b=31-Ln(c),a=_.hiddenUpdates,p=a[b],p===null?a[b]=[s]:p.push(s),s.lane=c|536870912),_):null}function gc(a){if(50<Ll)throw Ll=0,yp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Uo={};function JM(a,s,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(a,s,c,p){return new JM(a,s,c,p)}function cm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Jr(a,s){var c=a.alternate;return c===null?(c=Bn(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function _w(a,s){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,s=c.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function vc(a,s,c,p,b,_){var N=0;if(p=a,typeof a=="function")cm(a)&&(N=1);else if(typeof a=="string")N=tL(a,c,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case z:return a=Bn(31,c,s,b),a.elementType=z,a.lanes=_,a;case E:return ja(c.children,b,_,s);case T:N=8,b|=24;break;case C:return a=Bn(12,c,s,b|2),a.elementType=C,a.lanes=_,a;case k:return a=Bn(13,c,s,b),a.elementType=k,a.lanes=_,a;case j:return a=Bn(19,c,s,b),a.elementType=j,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:N=10;break e;case P:N=9;break e;case R:N=11;break e;case M:N=14;break e;case V:N=16,p=null;break e}N=29,c=Error(r(130,a===null?"null":typeof a,"")),p=null}return s=Bn(N,c,s,b),s.elementType=a,s.type=p,s.lanes=_,s}function ja(a,s,c,p){return a=Bn(7,a,p,s),a.lanes=c,a}function dm(a,s,c){return a=Bn(6,a,null,s),a.lanes=c,a}function Sw(a){var s=Bn(18,null,null,0);return s.stateNode=a,s}function fm(a,s,c){return s=Bn(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var Ew=new WeakMap;function or(a,s){if(typeof a=="object"&&a!==null){var c=Ew.get(a);return c!==void 0?c:(s={value:a,source:s,stack:Gt(s)},Ew.set(a,s),s)}return{value:a,source:s,stack:Gt(s)}}var Bo=[],qo=0,yc=null,gl=0,sr=[],lr=0,Mi=null,Ur=1,Br="";function Xr(a,s){Bo[qo++]=gl,Bo[qo++]=yc,yc=a,gl=s}function Aw(a,s,c){sr[lr++]=Ur,sr[lr++]=Br,sr[lr++]=Mi,Mi=a;var p=Ur;a=Br;var b=32-Ln(p)-1;p&=~(1<<b),c+=1;var _=32-Ln(s)+b;if(30<_){var N=b-b%5;_=(p&(1<<N)-1).toString(32),p>>=N,b-=N,Ur=1<<32-Ln(s)+b|c<<b|p,Br=_+a}else Ur=1<<_|c<<b|p,Br=a}function hm(a){a.return!==null&&(Xr(a,1),Aw(a,1,0))}function mm(a){for(;a===yc;)yc=Bo[--qo],Bo[qo]=null,gl=Bo[--qo],Bo[qo]=null;for(;a===Mi;)Mi=sr[--lr],sr[lr]=null,Br=sr[--lr],sr[lr]=null,Ur=sr[--lr],sr[lr]=null}function Tw(a,s){sr[lr++]=Ur,sr[lr++]=Br,sr[lr++]=Mi,Ur=s.id,Br=s.overflow,Mi=a}var tn=null,dt=null,$e=!1,Ii=null,ur=!1,pm=Error(r(519));function Li(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vl(or(s,a)),pm}function Cw(a){var s=a.stateNode,c=a.type,p=a.memoizedProps;switch(s[en]=a,s[Cn]=p,c){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(c=0;c<Bl.length;c++)Ie(Bl[c],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":Ie("invalid",s),qx(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ie("invalid",s);break;case"textarea":Ie("invalid",s),zx(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||HS(s.textContent,c)?(p.popover!=null&&(Ie("beforetoggle",s),Ie("toggle",s)),p.onScroll!=null&&Ie("scroll",s),p.onScrollEnd!=null&&Ie("scrollend",s),p.onClick!=null&&(s.onclick=Wr),s=!0):s=!1,s||Li(a,!0)}function Nw(a){for(tn=a.return;tn;)switch(tn.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:tn=tn.return}}function $o(a){if(a!==tn)return!1;if(!$e)return Nw(a),$e=!0,!1;var s=a.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Rp(a.type,a.memoizedProps)),c=!c),c&&dt&&Li(a),Nw(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));dt=ZS(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));dt=ZS(a)}else s===27?(s=dt,Xi(a.type)?(a=Up,Up=null,dt=a):dt=s):dt=tn?dr(a.stateNode.nextSibling):null;return!0}function Ra(){dt=tn=null,$e=!1}function gm(){var a=Ii;return a!==null&&(jn===null?jn=a:jn.push.apply(jn,a),Ii=null),a}function vl(a){Ii===null?Ii=[a]:Ii.push(a)}var vm=I(null),Da=null,Qr=null;function Ui(a,s,c){oe(vm,s._currentValue),s._currentValue=c}function Zr(a){a._currentValue=vm.current,q(vm)}function ym(a,s,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),a===c)break;a=a.return}}function bm(a,s,c,p){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var _=b.dependencies;if(_!==null){var N=b.child;_=_.firstContext;e:for(;_!==null;){var D=_;_=b;for(var U=0;U<s.length;U++)if(D.context===s[U]){_.lanes|=c,D=_.alternate,D!==null&&(D.lanes|=c),ym(_.return,c,a),p||(N=null);break e}_=D.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=c,_=N.alternate,_!==null&&(_.lanes|=c),ym(N,c,a),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function zo(a,s,c,p){a=null;for(var b=s,_=!1;b!==null;){if(!_){if((b.flags&524288)!==0)_=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var D=b.type;Un(b.pendingProps.value,N.value)||(a!==null?a.push(D):a=[D])}}else if(b===he.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Hl):a=[Hl])}b=b.return}a!==null&&bm(s,a,c,p),s.flags|=262144}function bc(a){for(a=a.firstContext;a!==null;){if(!Un(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ma(a){Da=a,Qr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function nn(a){return Pw(Da,a)}function xc(a,s){return Da===null&&Ma(a),Pw(a,s)}function Pw(a,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},Qr===null){if(a===null)throw Error(r(308));Qr=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Qr=Qr.next=s;return c}var XM=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(c,p){a.push(p)}};this.abort=function(){s.aborted=!0,a.forEach(function(c){return c()})}},QM=e.unstable_scheduleCallback,ZM=e.unstable_NormalPriority,kt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new XM,data:new Map,refCount:0}}function yl(a){a.refCount--,a.refCount===0&&QM(ZM,function(){a.controller.abort()})}var bl=null,wm=0,Vo=0,Ho=null;function eI(a,s){if(bl===null){var c=bl=[];wm=0,Vo=Ep(),Ho={status:"pending",value:void 0,then:function(p){c.push(p)}}}return wm++,s.then(Ow,Ow),s}function Ow(){if(--wm===0&&bl!==null){Ho!==null&&(Ho.status="fulfilled");var a=bl;bl=null,Vo=0,Ho=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function tI(a,s){var c=[],p={status:"pending",value:null,reason:null,then:function(b){c.push(b)}};return a.then(function(){p.status="fulfilled",p.value=s;for(var b=0;b<c.length;b++)(0,c[b])(s)},function(b){for(p.status="rejected",p.reason=b,b=0;b<c.length;b++)(0,c[b])(void 0)}),p}var kw=B.S;B.S=function(a,s){mS=tt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&eI(a,s),kw!==null&&kw(a,s)};var Ia=I(null);function _m(){var a=Ia.current;return a!==null?a:ot.pooledCache}function wc(a,s){s===null?oe(Ia,Ia.current):oe(Ia,s.pool)}function jw(){var a=_m();return a===null?null:{parent:kt._currentValue,pool:a}}var Ko=Error(r(460)),Sm=Error(r(474)),_c=Error(r(542)),Sc={then:function(){}};function Rw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Dw(a,s,c){switch(c=a[c],c===void 0?a.push(s):c!==s&&(s.then(Wr,Wr),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Iw(a),a;default:if(typeof s.status=="string")s.then(Wr,Wr);else{if(a=ot,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(p){if(s.status==="pending"){var b=s;b.status="fulfilled",b.value=p}},function(p){if(s.status==="pending"){var b=s;b.status="rejected",b.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Iw(a),a}throw Ua=s,Ko}}function La(a){try{var s=a._init;return s(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ua=c,Ko):c}}var Ua=null;function Mw(){if(Ua===null)throw Error(r(459));var a=Ua;return Ua=null,a}function Iw(a){if(a===Ko||a===_c)throw Error(r(483))}var Fo=null,xl=0;function Ec(a){var s=xl;return xl+=1,Fo===null&&(Fo=[]),Dw(Fo,a,s)}function wl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Ac(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Lw(a){function s(K,$){if(a){var G=K.deletions;G===null?(K.deletions=[$],K.flags|=16):G.push($)}}function c(K,$){if(!a)return null;for(;$!==null;)s(K,$),$=$.sibling;return null}function p(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function b(K,$){return K=Jr(K,$),K.index=0,K.sibling=null,K}function _(K,$,G){return K.index=G,a?(G=K.alternate,G!==null?(G=G.index,G<$?(K.flags|=67108866,$):G):(K.flags|=67108866,$)):(K.flags|=1048576,$)}function N(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function D(K,$,G,ae){return $===null||$.tag!==6?($=dm(G,K.mode,ae),$.return=K,$):($=b($,G),$.return=K,$)}function U(K,$,G,ae){var Te=G.type;return Te===E?ie(K,$,G.props.children,ae,G.key):$!==null&&($.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===V&&La(Te)===$.type)?($=b($,G.props),wl($,G),$.return=K,$):($=vc(G.type,G.key,G.props,null,K.mode,ae),wl($,G),$.return=K,$)}function W(K,$,G,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==G.containerInfo||$.stateNode.implementation!==G.implementation?($=fm(G,K.mode,ae),$.return=K,$):($=b($,G.children||[]),$.return=K,$)}function ie(K,$,G,ae,Te){return $===null||$.tag!==7?($=ja(G,K.mode,ae,Te),$.return=K,$):($=b($,G),$.return=K,$)}function se(K,$,G){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=dm(""+$,K.mode,G),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return G=vc($.type,$.key,$.props,null,K.mode,G),wl(G,$),G.return=K,G;case S:return $=fm($,K.mode,G),$.return=K,$;case V:return $=La($),se(K,$,G)}if(re($)||L($))return $=ja($,K.mode,G,null),$.return=K,$;if(typeof $.then=="function")return se(K,Ec($),G);if($.$$typeof===O)return se(K,xc(K,$),G);Ac(K,$)}return null}function X(K,$,G,ae){var Te=$!==null?$.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Te!==null?null:D(K,$,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return G.key===Te?U(K,$,G,ae):null;case S:return G.key===Te?W(K,$,G,ae):null;case V:return G=La(G),X(K,$,G,ae)}if(re(G)||L(G))return Te!==null?null:ie(K,$,G,ae,null);if(typeof G.then=="function")return X(K,$,Ec(G),ae);if(G.$$typeof===O)return X(K,$,xc(K,G),ae);Ac(K,G)}return null}function ne(K,$,G,ae,Te){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(G)||null,D($,K,""+ae,Te);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return K=K.get(ae.key===null?G:ae.key)||null,U($,K,ae,Te);case S:return K=K.get(ae.key===null?G:ae.key)||null,W($,K,ae,Te);case V:return ae=La(ae),ne(K,$,G,ae,Te)}if(re(ae)||L(ae))return K=K.get(G)||null,ie($,K,ae,Te,null);if(typeof ae.then=="function")return ne(K,$,G,Ec(ae),Te);if(ae.$$typeof===O)return ne(K,$,G,xc($,ae),Te);Ac($,ae)}return null}function pe(K,$,G,ae){for(var Te=null,Ve=null,be=$,De=$=0,qe=null;be!==null&&De<G.length;De++){be.index>De?(qe=be,be=null):qe=be.sibling;var He=X(K,be,G[De],ae);if(He===null){be===null&&(be=qe);break}a&&be&&He.alternate===null&&s(K,be),$=_(He,$,De),Ve===null?Te=He:Ve.sibling=He,Ve=He,be=qe}if(De===G.length)return c(K,be),$e&&Xr(K,De),Te;if(be===null){for(;De<G.length;De++)be=se(K,G[De],ae),be!==null&&($=_(be,$,De),Ve===null?Te=be:Ve.sibling=be,Ve=be);return $e&&Xr(K,De),Te}for(be=p(be);De<G.length;De++)qe=ne(be,K,De,G[De],ae),qe!==null&&(a&&qe.alternate!==null&&be.delete(qe.key===null?De:qe.key),$=_(qe,$,De),Ve===null?Te=qe:Ve.sibling=qe,Ve=qe);return a&&be.forEach(function(na){return s(K,na)}),$e&&Xr(K,De),Te}function Pe(K,$,G,ae){if(G==null)throw Error(r(151));for(var Te=null,Ve=null,be=$,De=$=0,qe=null,He=G.next();be!==null&&!He.done;De++,He=G.next()){be.index>De?(qe=be,be=null):qe=be.sibling;var na=X(K,be,He.value,ae);if(na===null){be===null&&(be=qe);break}a&&be&&na.alternate===null&&s(K,be),$=_(na,$,De),Ve===null?Te=na:Ve.sibling=na,Ve=na,be=qe}if(He.done)return c(K,be),$e&&Xr(K,De),Te;if(be===null){for(;!He.done;De++,He=G.next())He=se(K,He.value,ae),He!==null&&($=_(He,$,De),Ve===null?Te=He:Ve.sibling=He,Ve=He);return $e&&Xr(K,De),Te}for(be=p(be);!He.done;De++,He=G.next())He=ne(be,K,De,He.value,ae),He!==null&&(a&&He.alternate!==null&&be.delete(He.key===null?De:He.key),$=_(He,$,De),Ve===null?Te=He:Ve.sibling=He,Ve=He);return a&&be.forEach(function(fL){return s(K,fL)}),$e&&Xr(K,De),Te}function it(K,$,G,ae){if(typeof G=="object"&&G!==null&&G.type===E&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case x:e:{for(var Te=G.key;$!==null;){if($.key===Te){if(Te=G.type,Te===E){if($.tag===7){c(K,$.sibling),ae=b($,G.props.children),ae.return=K,K=ae;break e}}else if($.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===V&&La(Te)===$.type){c(K,$.sibling),ae=b($,G.props),wl(ae,G),ae.return=K,K=ae;break e}c(K,$);break}else s(K,$);$=$.sibling}G.type===E?(ae=ja(G.props.children,K.mode,ae,G.key),ae.return=K,K=ae):(ae=vc(G.type,G.key,G.props,null,K.mode,ae),wl(ae,G),ae.return=K,K=ae)}return N(K);case S:e:{for(Te=G.key;$!==null;){if($.key===Te)if($.tag===4&&$.stateNode.containerInfo===G.containerInfo&&$.stateNode.implementation===G.implementation){c(K,$.sibling),ae=b($,G.children||[]),ae.return=K,K=ae;break e}else{c(K,$);break}else s(K,$);$=$.sibling}ae=fm(G,K.mode,ae),ae.return=K,K=ae}return N(K);case V:return G=La(G),it(K,$,G,ae)}if(re(G))return pe(K,$,G,ae);if(L(G)){if(Te=L(G),typeof Te!="function")throw Error(r(150));return G=Te.call(G),Pe(K,$,G,ae)}if(typeof G.then=="function")return it(K,$,Ec(G),ae);if(G.$$typeof===O)return it(K,$,xc(K,G),ae);Ac(K,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,$!==null&&$.tag===6?(c(K,$.sibling),ae=b($,G),ae.return=K,K=ae):(c(K,$),ae=dm(G,K.mode,ae),ae.return=K,K=ae),N(K)):c(K,$)}return function(K,$,G,ae){try{xl=0;var Te=it(K,$,G,ae);return Fo=null,Te}catch(be){if(be===Ko||be===_c)throw be;var Ve=Bn(29,be,null,K.mode);return Ve.lanes=ae,Ve.return=K,Ve}finally{}}}var Ba=Lw(!0),Uw=Lw(!1),Bi=!1;function Em(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Am(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function qi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function $i(a,s,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(We&2)!==0){var b=p.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),p.pending=s,s=gc(a),ww(a,null,c),s}return pc(a,p,s,c),gc(a)}function _l(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,Px(a,c)}}function Tm(a,s){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var b=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};_===null?b=_=N:_=_.next=N,c=c.next}while(c!==null);_===null?b=_=s:_=_.next=s}else b=_=s;c={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}var Cm=!1;function Sl(){if(Cm){var a=Ho;if(a!==null)throw a}}function El(a,s,c,p){Cm=!1;var b=a.updateQueue;Bi=!1;var _=b.firstBaseUpdate,N=b.lastBaseUpdate,D=b.shared.pending;if(D!==null){b.shared.pending=null;var U=D,W=U.next;U.next=null,N===null?_=W:N.next=W,N=U;var ie=a.alternate;ie!==null&&(ie=ie.updateQueue,D=ie.lastBaseUpdate,D!==N&&(D===null?ie.firstBaseUpdate=W:D.next=W,ie.lastBaseUpdate=U))}if(_!==null){var se=b.baseState;N=0,ie=W=U=null,D=_;do{var X=D.lane&-536870913,ne=X!==D.lane;if(ne?(Be&X)===X:(p&X)===X){X!==0&&X===Vo&&(Cm=!0),ie!==null&&(ie=ie.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var pe=a,Pe=D;X=s;var it=c;switch(Pe.tag){case 1:if(pe=Pe.payload,typeof pe=="function"){se=pe.call(it,se,X);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Pe.payload,X=typeof pe=="function"?pe.call(it,se,X):pe,X==null)break e;se=g({},se,X);break e;case 2:Bi=!0}}X=D.callback,X!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=b.callbacks,ne===null?b.callbacks=[X]:ne.push(X))}else ne={lane:X,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ie===null?(W=ie=ne,U=se):ie=ie.next=ne,N|=X;if(D=D.next,D===null){if(D=b.shared.pending,D===null)break;ne=D,D=ne.next,ne.next=null,b.lastBaseUpdate=ne,b.shared.pending=null}}while(!0);ie===null&&(U=se),b.baseState=U,b.firstBaseUpdate=W,b.lastBaseUpdate=ie,_===null&&(b.shared.lanes=0),Fi|=N,a.lanes=N,a.memoizedState=se}}function Bw(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function qw(a,s){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)Bw(c[a],s)}var Go=I(null),Tc=I(0);function $w(a,s){a=li,oe(Tc,a),oe(Go,s),li=a|s.baseLanes}function Nm(){oe(Tc,li),oe(Go,Go.current)}function Pm(){li=Tc.current,q(Go),q(Tc)}var qn=I(null),cr=null;function zi(a){var s=a.alternate;oe(Nt,Nt.current&1),oe(qn,a),cr===null&&(s===null||Go.current!==null||s.memoizedState!==null)&&(cr=a)}function Om(a){oe(Nt,Nt.current),oe(qn,a),cr===null&&(cr=a)}function zw(a){a.tag===22?(oe(Nt,Nt.current),oe(qn,a),cr===null&&(cr=a)):Vi()}function Vi(){oe(Nt,Nt.current),oe(qn,qn.current)}function $n(a){q(qn),cr===a&&(cr=null),q(Nt)}var Nt=I(0);function Cc(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Ip(c)||Lp(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ei=0,je=null,nt=null,jt=null,Nc=!1,Wo=!1,qa=!1,Pc=0,Al=0,Yo=null,nI=0;function At(){throw Error(r(321))}function km(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!Un(a[c],s[c]))return!1;return!0}function jm(a,s,c,p,b,_){return ei=_,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=a===null||a.memoizedState===null?A_:Gm,qa=!1,_=c(p,b),qa=!1,Wo&&(_=Hw(s,c,p,b)),Vw(a),_}function Vw(a){B.H=Nl;var s=nt!==null&&nt.next!==null;if(ei=0,jt=nt=je=null,Nc=!1,Al=0,Yo=null,s)throw Error(r(300));a===null||Rt||(a=a.dependencies,a!==null&&bc(a)&&(Rt=!0))}function Hw(a,s,c,p){je=a;var b=0;do{if(Wo&&(Yo=null),Al=0,Wo=!1,25<=b)throw Error(r(301));if(b+=1,jt=nt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}B.H=T_,_=s(c,p)}while(Wo);return _}function rI(){var a=B.H,s=a.useState()[0];return s=typeof s.then=="function"?Tl(s):s,a=a.useState()[0],(nt!==null?nt.memoizedState:null)!==a&&(je.flags|=1024),s}function Rm(){var a=Pc!==0;return Pc=0,a}function Dm(a,s,c){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~c}function Mm(a){if(Nc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Nc=!1}ei=0,jt=nt=je=null,Wo=!1,Al=Pc=0,Yo=null}function bn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?je.memoizedState=jt=a:jt=jt.next=a,jt}function Pt(){if(nt===null){var a=je.alternate;a=a!==null?a.memoizedState:null}else a=nt.next;var s=jt===null?je.memoizedState:jt.next;if(s!==null)jt=s,nt=a;else{if(a===null)throw je.alternate===null?Error(r(467)):Error(r(310));nt=a,a={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},jt===null?je.memoizedState=jt=a:jt=jt.next=a}return jt}function Oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(a){var s=Al;return Al+=1,Yo===null&&(Yo=[]),a=Dw(Yo,a,s),s=je,(jt===null?s.memoizedState:jt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?A_:Gm),a}function kc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Tl(a);if(a.$$typeof===O)return nn(a)}throw Error(r(438,String(a)))}function Im(a){var s=null,c=je.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=je.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(b){return b.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=Oc(),je.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(a),p=0;p<a;p++)c[p]=te;return s.index++,c}function ti(a,s){return typeof s=="function"?s(a):s}function jc(a){var s=Pt();return Lm(s,nt,a)}function Lm(a,s,c){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var b=a.baseQueue,_=p.pending;if(_!==null){if(b!==null){var N=b.next;b.next=_.next,_.next=N}s.baseQueue=b=_,p.pending=null}if(_=a.baseState,b===null)a.memoizedState=_;else{s=b.next;var D=N=null,U=null,W=s,ie=!1;do{var se=W.lane&-536870913;if(se!==W.lane?(Be&se)===se:(ei&se)===se){var X=W.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),se===Vo&&(ie=!0);else if((ei&X)===X){W=W.next,X===Vo&&(ie=!0);continue}else se={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(D=U=se,N=_):U=U.next=se,je.lanes|=X,Fi|=X;se=W.action,qa&&c(_,se),_=W.hasEagerState?W.eagerState:c(_,se)}else X={lane:se,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(D=U=X,N=_):U=U.next=X,je.lanes|=se,Fi|=se;W=W.next}while(W!==null&&W!==s);if(U===null?N=_:U.next=D,!Un(_,a.memoizedState)&&(Rt=!0,ie&&(c=Ho,c!==null)))throw c;a.memoizedState=_,a.baseState=N,a.baseQueue=U,p.lastRenderedState=_}return b===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function Um(a){var s=Pt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var p=c.dispatch,b=c.pending,_=s.memoizedState;if(b!==null){c.pending=null;var N=b=b.next;do _=a(_,N.action),N=N.next;while(N!==b);Un(_,s.memoizedState)||(Rt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),c.lastRenderedState=_}return[_,p]}function Kw(a,s,c){var p=je,b=Pt(),_=$e;if(_){if(c===void 0)throw Error(r(407));c=c()}else c=s();var N=!Un((nt||b).memoizedState,c);if(N&&(b.memoizedState=c,Rt=!0),b=b.queue,$m(Ww.bind(null,p,b,a),[a]),b.getSnapshot!==s||N||jt!==null&&jt.memoizedState.tag&1){if(p.flags|=2048,Jo(9,{destroy:void 0},Gw.bind(null,p,b,c,s),null),ot===null)throw Error(r(349));_||(ei&127)!==0||Fw(p,s,c)}return c}function Fw(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=je.updateQueue,s===null?(s=Oc(),je.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function Gw(a,s,c,p){s.value=c,s.getSnapshot=p,Yw(s)&&Jw(a)}function Ww(a,s,c){return c(function(){Yw(s)&&Jw(a)})}function Yw(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!Un(a,c)}catch{return!0}}function Jw(a){var s=ka(a,2);s!==null&&Rn(s,a,2)}function Bm(a){var s=bn();if(typeof a=="function"){var c=a;if(a=c(),qa){ji(!0);try{c()}finally{ji(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},s}function Xw(a,s,c,p){return a.baseState=c,Lm(a,nt,typeof p=="function"?p:ti)}function iI(a,s,c,p,b){if(Mc(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){_.listeners.push(N)}};B.T!==null?c(!0):_.isTransition=!1,p(_),c=s.pending,c===null?(_.next=s.pending=_,Qw(s,_)):(_.next=c.next,s.pending=c.next=_)}}function Qw(a,s){var c=s.action,p=s.payload,b=a.state;if(s.isTransition){var _=B.T,N={};B.T=N;try{var D=c(b,p),U=B.S;U!==null&&U(N,D),Zw(a,s,D)}catch(W){qm(a,s,W)}finally{_!==null&&N.types!==null&&(_.types=N.types),B.T=_}}else try{_=c(b,p),Zw(a,s,_)}catch(W){qm(a,s,W)}}function Zw(a,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){e_(a,s,p)},function(p){return qm(a,s,p)}):e_(a,s,c)}function e_(a,s,c){s.status="fulfilled",s.value=c,t_(s),a.state=c,s=a.pending,s!==null&&(c=s.next,c===s?a.pending=null:(c=c.next,s.next=c,Qw(a,c)))}function qm(a,s,c){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,t_(s),s=s.next;while(s!==p)}a.action=null}function t_(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function n_(a,s){return s}function r_(a,s){if($e){var c=ot.formState;if(c!==null){e:{var p=je;if($e){if(dt){t:{for(var b=dt,_=ur;b.nodeType!==8;){if(!_){b=null;break t}if(b=dr(b.nextSibling),b===null){b=null;break t}}_=b.data,b=_==="F!"||_==="F"?b:null}if(b){dt=dr(b.nextSibling),p=b.data==="F!";break e}}Li(p)}p=!1}p&&(s=c[0])}}return c=bn(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n_,lastRenderedState:s},c.queue=p,c=__.bind(null,je,p),p.dispatch=c,p=Bm(!1),_=Fm.bind(null,je,!1,p.queue),p=bn(),b={state:s,dispatch:null,action:a,pending:null},p.queue=b,c=iI.bind(null,je,b,_,c),b.dispatch=c,p.memoizedState=a,[s,c,!1]}function i_(a){var s=Pt();return a_(s,nt,a)}function a_(a,s,c){if(s=Lm(a,s,n_)[0],a=jc(ti)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=Tl(s)}catch(N){throw N===Ko?_c:N}else p=s;s=Pt();var b=s.queue,_=b.dispatch;return c!==s.memoizedState&&(je.flags|=2048,Jo(9,{destroy:void 0},aI.bind(null,b,c),null)),[p,_,a]}function aI(a,s){a.action=s}function o_(a){var s=Pt(),c=nt;if(c!==null)return a_(s,c,a);Pt(),s=s.memoizedState,c=Pt();var p=c.queue.dispatch;return c.memoizedState=a,[s,p,!1]}function Jo(a,s,c,p){return a={tag:a,create:c,deps:p,inst:s,next:null},s=je.updateQueue,s===null&&(s=Oc(),je.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,s.lastEffect=a),a}function s_(){return Pt().memoizedState}function Rc(a,s,c,p){var b=bn();je.flags|=a,b.memoizedState=Jo(1|s,{destroy:void 0},c,p===void 0?null:p)}function Dc(a,s,c,p){var b=Pt();p=p===void 0?null:p;var _=b.memoizedState.inst;nt!==null&&p!==null&&km(p,nt.memoizedState.deps)?b.memoizedState=Jo(s,_,c,p):(je.flags|=a,b.memoizedState=Jo(1|s,_,c,p))}function l_(a,s){Rc(8390656,8,a,s)}function $m(a,s){Dc(2048,8,a,s)}function oI(a){je.flags|=4;var s=je.updateQueue;if(s===null)s=Oc(),je.updateQueue=s,s.events=[a];else{var c=s.events;c===null?s.events=[a]:c.push(a)}}function u_(a){var s=Pt().memoizedState;return oI({ref:s,nextImpl:a}),function(){if((We&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function c_(a,s){return Dc(4,2,a,s)}function d_(a,s){return Dc(4,4,a,s)}function f_(a,s){if(typeof s=="function"){a=a();var c=s(a);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function h_(a,s,c){c=c!=null?c.concat([a]):null,Dc(4,4,f_.bind(null,s,a),c)}function zm(){}function m_(a,s){var c=Pt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&km(s,p[1])?p[0]:(c.memoizedState=[a,s],a)}function p_(a,s){var c=Pt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&km(s,p[1]))return p[0];if(p=a(),qa){ji(!0);try{a()}finally{ji(!1)}}return c.memoizedState=[p,s],p}function Vm(a,s,c){return c===void 0||(ei&1073741824)!==0&&(Be&261930)===0?a.memoizedState=s:(a.memoizedState=c,a=gS(),je.lanes|=a,Fi|=a,c)}function g_(a,s,c,p){return Un(c,s)?c:Go.current!==null?(a=Vm(a,c,p),Un(a,s)||(Rt=!0),a):(ei&42)===0||(ei&1073741824)!==0&&(Be&261930)===0?(Rt=!0,a.memoizedState=c):(a=gS(),je.lanes|=a,Fi|=a,s)}function v_(a,s,c,p,b){var _=F.p;F.p=_!==0&&8>_?_:8;var N=B.T,D={};B.T=D,Fm(a,!1,s,c);try{var U=b(),W=B.S;if(W!==null&&W(D,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ie=tI(U,p);Cl(a,s,ie,Hn(a))}else Cl(a,s,p,Hn(a))}catch(se){Cl(a,s,{then:function(){},status:"rejected",reason:se},Hn())}finally{F.p=_,N!==null&&D.types!==null&&(N.types=D.types),B.T=N}}function sI(){}function Hm(a,s,c,p){if(a.tag!==5)throw Error(r(476));var b=y_(a).queue;v_(a,b,s,ue,c===null?sI:function(){return b_(a),c(p)})}function y_(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:ue},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:c},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function b_(a){var s=y_(a);s.next===null&&(s=a.alternate.memoizedState),Cl(a,s.next.queue,{},Hn())}function Km(){return nn(Hl)}function x_(){return Pt().memoizedState}function w_(){return Pt().memoizedState}function lI(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var c=Hn();a=qi(c);var p=$i(s,a,c);p!==null&&(Rn(p,s,c),_l(p,s,c)),s={cache:xm()},a.payload=s;return}s=s.return}}function uI(a,s,c){var p=Hn();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mc(a)?S_(s,c):(c=um(a,s,c,p),c!==null&&(Rn(c,a,p),E_(c,s,p)))}function __(a,s,c){var p=Hn();Cl(a,s,c,p)}function Cl(a,s,c,p){var b={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Mc(a))S_(s,b);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var N=s.lastRenderedState,D=_(N,c);if(b.hasEagerState=!0,b.eagerState=D,Un(D,N))return pc(a,s,b,0),ot===null&&mc(),!1}catch{}finally{}if(c=um(a,s,b,p),c!==null)return Rn(c,a,p),E_(c,s,p),!0}return!1}function Fm(a,s,c,p){if(p={lane:2,revertLane:Ep(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Mc(a)){if(s)throw Error(r(479))}else s=um(a,c,p,2),s!==null&&Rn(s,a,2)}function Mc(a){var s=a.alternate;return a===je||s!==null&&s===je}function S_(a,s){Wo=Nc=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function E_(a,s,c){if((c&4194048)!==0){var p=s.lanes;p&=a.pendingLanes,c|=p,s.lanes=c,Px(a,c)}}var Nl={readContext:nn,use:kc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Nl.useEffectEvent=At;var A_={readContext:nn,use:kc,useCallback:function(a,s){return bn().memoizedState=[a,s===void 0?null:s],a},useContext:nn,useEffect:l_,useImperativeHandle:function(a,s,c){c=c!=null?c.concat([a]):null,Rc(4194308,4,f_.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Rc(4194308,4,a,s)},useInsertionEffect:function(a,s){Rc(4,2,a,s)},useMemo:function(a,s){var c=bn();s=s===void 0?null:s;var p=a();if(qa){ji(!0);try{a()}finally{ji(!1)}}return c.memoizedState=[p,s],p},useReducer:function(a,s,c){var p=bn();if(c!==void 0){var b=c(s);if(qa){ji(!0);try{c(s)}finally{ji(!1)}}}else b=s;return p.memoizedState=p.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},p.queue=a,a=a.dispatch=uI.bind(null,je,a),[p.memoizedState,a]},useRef:function(a){var s=bn();return a={current:a},s.memoizedState=a},useState:function(a){a=Bm(a);var s=a.queue,c=__.bind(null,je,s);return s.dispatch=c,[a.memoizedState,c]},useDebugValue:zm,useDeferredValue:function(a,s){var c=bn();return Vm(c,a,s)},useTransition:function(){var a=Bm(!1);return a=v_.bind(null,je,a.queue,!0,!1),bn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,c){var p=je,b=bn();if($e){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),ot===null)throw Error(r(349));(Be&127)!==0||Fw(p,s,c)}b.memoizedState=c;var _={value:c,getSnapshot:s};return b.queue=_,l_(Ww.bind(null,p,_,a),[a]),p.flags|=2048,Jo(9,{destroy:void 0},Gw.bind(null,p,_,c,s),null),c},useId:function(){var a=bn(),s=ot.identifierPrefix;if($e){var c=Br,p=Ur;c=(p&~(1<<32-Ln(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=Pc++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=nI++,s="_"+s+"r_"+c.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Km,useFormState:r_,useActionState:r_,useOptimistic:function(a){var s=bn();s.memoizedState=s.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=Fm.bind(null,je,!0,c),c.dispatch=s,[a,s]},useMemoCache:Im,useCacheRefresh:function(){return bn().memoizedState=lI.bind(null,je)},useEffectEvent:function(a){var s=bn(),c={impl:a};return s.memoizedState=c,function(){if((We&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},Gm={readContext:nn,use:kc,useCallback:m_,useContext:nn,useEffect:$m,useImperativeHandle:h_,useInsertionEffect:c_,useLayoutEffect:d_,useMemo:p_,useReducer:jc,useRef:s_,useState:function(){return jc(ti)},useDebugValue:zm,useDeferredValue:function(a,s){var c=Pt();return g_(c,nt.memoizedState,a,s)},useTransition:function(){var a=jc(ti)[0],s=Pt().memoizedState;return[typeof a=="boolean"?a:Tl(a),s]},useSyncExternalStore:Kw,useId:x_,useHostTransitionStatus:Km,useFormState:i_,useActionState:i_,useOptimistic:function(a,s){var c=Pt();return Xw(c,nt,a,s)},useMemoCache:Im,useCacheRefresh:w_};Gm.useEffectEvent=u_;var T_={readContext:nn,use:kc,useCallback:m_,useContext:nn,useEffect:$m,useImperativeHandle:h_,useInsertionEffect:c_,useLayoutEffect:d_,useMemo:p_,useReducer:Um,useRef:s_,useState:function(){return Um(ti)},useDebugValue:zm,useDeferredValue:function(a,s){var c=Pt();return nt===null?Vm(c,a,s):g_(c,nt.memoizedState,a,s)},useTransition:function(){var a=Um(ti)[0],s=Pt().memoizedState;return[typeof a=="boolean"?a:Tl(a),s]},useSyncExternalStore:Kw,useId:x_,useHostTransitionStatus:Km,useFormState:o_,useActionState:o_,useOptimistic:function(a,s){var c=Pt();return nt!==null?Xw(c,nt,a,s):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Im,useCacheRefresh:w_};T_.useEffectEvent=u_;function Wm(a,s,c,p){s=a.memoizedState,c=c(p,s),c=c==null?s:g({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var Ym={enqueueSetState:function(a,s,c){a=a._reactInternals;var p=Hn(),b=qi(p);b.payload=s,c!=null&&(b.callback=c),s=$i(a,b,p),s!==null&&(Rn(s,a,p),_l(s,a,p))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var p=Hn(),b=qi(p);b.tag=1,b.payload=s,c!=null&&(b.callback=c),s=$i(a,b,p),s!==null&&(Rn(s,a,p),_l(s,a,p))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=Hn(),p=qi(c);p.tag=2,s!=null&&(p.callback=s),s=$i(a,p,c),s!==null&&(Rn(s,a,c),_l(s,a,c))}};function C_(a,s,c,p,b,_,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,_,N):s.prototype&&s.prototype.isPureReactComponent?!ml(c,p)||!ml(b,_):!0}function N_(a,s,c,p){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==a&&Ym.enqueueReplaceState(s,s.state,null)}function $a(a,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(a=a.defaultProps){c===s&&(c=g({},c));for(var b in a)c[b]===void 0&&(c[b]=a[b])}return c}function P_(a){hc(a)}function O_(a){console.error(a)}function k_(a){hc(a)}function Ic(a,s){try{var c=a.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function j_(a,s,c){try{var p=a.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Jm(a,s,c){return c=qi(c),c.tag=3,c.payload={element:null},c.callback=function(){Ic(a,s)},c}function R_(a){return a=qi(a),a.tag=3,a}function D_(a,s,c,p){var b=c.type.getDerivedStateFromError;if(typeof b=="function"){var _=p.value;a.payload=function(){return b(_)},a.callback=function(){j_(s,c,p)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){j_(s,c,p),typeof b!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var D=p.stack;this.componentDidCatch(p.value,{componentStack:D!==null?D:""})})}function cI(a,s,c,p,b){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&zo(s,c,b,!0),c=qn.current,c!==null){switch(c.tag){case 31:case 13:return cr===null?Wc():c.alternate===null&&Tt===0&&(Tt=3),c.flags&=-257,c.flags|=65536,c.lanes=b,p===Sc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),wp(a,p,b)),!1;case 22:return c.flags|=65536,p===Sc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),wp(a,p,b)),!1}throw Error(r(435,c.tag))}return wp(a,p,b),Wc(),!1}if($e)return s=qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=b,p!==pm&&(a=Error(r(422),{cause:p}),vl(or(a,c)))):(p!==pm&&(s=Error(r(423),{cause:p}),vl(or(s,c))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,p=or(p,c),b=Jm(a.stateNode,p,b),Tm(a,b),Tt!==4&&(Tt=2)),!1;var _=Error(r(520),{cause:p});if(_=or(_,c),Il===null?Il=[_]:Il.push(_),Tt!==4&&(Tt=2),s===null)return!0;p=or(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,a=b&-b,c.lanes|=a,a=Jm(c.stateNode,p,a),Tm(c,a),!1;case 1:if(s=c.type,_=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Gi===null||!Gi.has(_))))return c.flags|=65536,b&=-b,c.lanes|=b,b=R_(b),D_(b,a,c,p),Tm(c,b),!1}c=c.return}while(c!==null);return!1}var Xm=Error(r(461)),Rt=!1;function rn(a,s,c,p){s.child=a===null?Uw(s,null,c,p):Ba(s,a.child,c,p)}function M_(a,s,c,p,b){c=c.render;var _=s.ref;if("ref"in p){var N={};for(var D in p)D!=="ref"&&(N[D]=p[D])}else N=p;return Ma(s),p=jm(a,s,c,N,_,b),D=Rm(),a!==null&&!Rt?(Dm(a,s,b),ni(a,s,b)):($e&&D&&hm(s),s.flags|=1,rn(a,s,p,b),s.child)}function I_(a,s,c,p,b){if(a===null){var _=c.type;return typeof _=="function"&&!cm(_)&&_.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=_,L_(a,s,_,p,b)):(a=vc(c.type,null,p,s,s.mode,b),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!ap(a,b)){var N=_.memoizedProps;if(c=c.compare,c=c!==null?c:ml,c(N,p)&&a.ref===s.ref)return ni(a,s,b)}return s.flags|=1,a=Jr(_,p),a.ref=s.ref,a.return=s,s.child=a}function L_(a,s,c,p,b){if(a!==null){var _=a.memoizedProps;if(ml(_,p)&&a.ref===s.ref)if(Rt=!1,s.pendingProps=p=_,ap(a,b))(a.flags&131072)!==0&&(Rt=!0);else return s.lanes=a.lanes,ni(a,s,b)}return Qm(a,s,c,p,b)}function U_(a,s,c,p){var b=p.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|c:c,a!==null){for(p=s.child=a.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~_}else p=0,s.child=null;return B_(a,s,_,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&wc(s,_!==null?_.cachePool:null),_!==null?$w(s,_):Nm(),zw(s);else return p=s.lanes=536870912,B_(a,s,_!==null?_.baseLanes|c:c,c,p)}else _!==null?(wc(s,_.cachePool),$w(s,_),Vi(),s.memoizedState=null):(a!==null&&wc(s,null),Nm(),Vi());return rn(a,s,b,c),s.child}function Pl(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function B_(a,s,c,p,b){var _=_m();return _=_===null?null:{parent:kt._currentValue,pool:_},s.memoizedState={baseLanes:c,cachePool:_},a!==null&&wc(s,null),Nm(),zw(s),a!==null&&zo(a,s,p,!0),s.childLanes=b,null}function Lc(a,s){return s=Bc({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function q_(a,s,c){return Ba(s,a.child,null,c),a=Lc(s,s.pendingProps),a.flags|=2,$n(s),s.memoizedState=null,a}function dI(a,s,c){var p=s.pendingProps,b=(s.flags&128)!==0;if(s.flags&=-129,a===null){if($e){if(p.mode==="hidden")return a=Lc(s,p),s.lanes=536870912,Pl(null,a);if(Om(s),(a=dt)?(a=QS(a,ur),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Mi!==null?{id:Ur,overflow:Br}:null,retryLane:536870912,hydrationErrors:null},c=Sw(a),c.return=s,s.child=c,tn=s,dt=null)):a=null,a===null)throw Li(s);return s.lanes=536870912,null}return Lc(s,p)}var _=a.memoizedState;if(_!==null){var N=_.dehydrated;if(Om(s),b)if(s.flags&256)s.flags&=-257,s=q_(a,s,c);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Rt||zo(a,s,c,!1),b=(c&a.childLanes)!==0,Rt||b){if(p=ot,p!==null&&(N=Ox(p,c),N!==0&&N!==_.retryLane))throw _.retryLane=N,ka(a,N),Rn(p,a,N),Xm;Wc(),s=q_(a,s,c)}else a=_.treeContext,dt=dr(N.nextSibling),tn=s,$e=!0,Ii=null,ur=!1,a!==null&&Tw(s,a),s=Lc(s,p),s.flags|=4096;return s}return a=Jr(a.child,{mode:p.mode,children:p.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Uc(a,s){var c=s.ref;if(c===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(s.flags|=4194816)}}function Qm(a,s,c,p,b){return Ma(s),c=jm(a,s,c,p,void 0,b),p=Rm(),a!==null&&!Rt?(Dm(a,s,b),ni(a,s,b)):($e&&p&&hm(s),s.flags|=1,rn(a,s,c,b),s.child)}function $_(a,s,c,p,b,_){return Ma(s),s.updateQueue=null,c=Hw(s,p,c,b),Vw(a),p=Rm(),a!==null&&!Rt?(Dm(a,s,_),ni(a,s,_)):($e&&p&&hm(s),s.flags|=1,rn(a,s,c,_),s.child)}function z_(a,s,c,p,b){if(Ma(s),s.stateNode===null){var _=Uo,N=c.contextType;typeof N=="object"&&N!==null&&(_=nn(N)),_=new c(p,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ym,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=p,_.state=s.memoizedState,_.refs={},Em(s),N=c.contextType,_.context=typeof N=="object"&&N!==null?nn(N):Uo,_.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Wm(s,c,N,p),_.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(N=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),N!==_.state&&Ym.enqueueReplaceState(_,_.state,null),El(s,p,_,b),Sl(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(a===null){_=s.stateNode;var D=s.memoizedProps,U=$a(c,D);_.props=U;var W=_.context,ie=c.contextType;N=Uo,typeof ie=="object"&&ie!==null&&(N=nn(ie));var se=c.getDerivedStateFromProps;ie=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function",D=s.pendingProps!==D,ie||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(D||W!==N)&&N_(s,_,p,N),Bi=!1;var X=s.memoizedState;_.state=X,El(s,p,_,b),Sl(),W=s.memoizedState,D||X!==W||Bi?(typeof se=="function"&&(Wm(s,c,se,p),W=s.memoizedState),(U=Bi||C_(s,c,U,p,X,W,N))?(ie||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=W),_.props=p,_.state=W,_.context=N,p=U):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{_=s.stateNode,Am(a,s),N=s.memoizedProps,ie=$a(c,N),_.props=ie,se=s.pendingProps,X=_.context,W=c.contextType,U=Uo,typeof W=="object"&&W!==null&&(U=nn(W)),D=c.getDerivedStateFromProps,(W=typeof D=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(N!==se||X!==U)&&N_(s,_,p,U),Bi=!1,X=s.memoizedState,_.state=X,El(s,p,_,b),Sl();var ne=s.memoizedState;N!==se||X!==ne||Bi||a!==null&&a.dependencies!==null&&bc(a.dependencies)?(typeof D=="function"&&(Wm(s,c,D,p),ne=s.memoizedState),(ie=Bi||C_(s,c,ie,p,X,ne,U)||a!==null&&a.dependencies!==null&&bc(a.dependencies))?(W||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,ne,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,ne,U)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ne),_.props=p,_.state=ne,_.context=U,p=ie):(typeof _.componentDidUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&X===a.memoizedState||(s.flags|=1024),p=!1)}return _=p,Uc(a,s),p=(s.flags&128)!==0,_||p?(_=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&p?(s.child=Ba(s,a.child,null,b),s.child=Ba(s,null,c,b)):rn(a,s,c,b),s.memoizedState=_.state,a=s.child):a=ni(a,s,b),a}function V_(a,s,c,p){return Ra(),s.flags|=256,rn(a,s,c,p),s.child}var Zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ep(a){return{baseLanes:a,cachePool:jw()}}function tp(a,s,c){return a=a!==null?a.childLanes&~c:0,s&&(a|=Vn),a}function H_(a,s,c){var p=s.pendingProps,b=!1,_=(s.flags&128)!==0,N;if((N=_)||(N=a!==null&&a.memoizedState===null?!1:(Nt.current&2)!==0),N&&(b=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,a===null){if($e){if(b?zi(s):Vi(),(a=dt)?(a=QS(a,ur),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Mi!==null?{id:Ur,overflow:Br}:null,retryLane:536870912,hydrationErrors:null},c=Sw(a),c.return=s,s.child=c,tn=s,dt=null)):a=null,a===null)throw Li(s);return Lp(a)?s.lanes=32:s.lanes=536870912,null}var D=p.children;return p=p.fallback,b?(Vi(),b=s.mode,D=Bc({mode:"hidden",children:D},b),p=ja(p,b,c,null),D.return=s,p.return=s,D.sibling=p,s.child=D,p=s.child,p.memoizedState=ep(c),p.childLanes=tp(a,N,c),s.memoizedState=Zm,Pl(null,p)):(zi(s),np(s,D))}var U=a.memoizedState;if(U!==null&&(D=U.dehydrated,D!==null)){if(_)s.flags&256?(zi(s),s.flags&=-257,s=rp(a,s,c)):s.memoizedState!==null?(Vi(),s.child=a.child,s.flags|=128,s=null):(Vi(),D=p.fallback,b=s.mode,p=Bc({mode:"visible",children:p.children},b),D=ja(D,b,c,null),D.flags|=2,p.return=s,D.return=s,p.sibling=D,s.child=p,Ba(s,a.child,null,c),p=s.child,p.memoizedState=ep(c),p.childLanes=tp(a,N,c),s.memoizedState=Zm,s=Pl(null,p));else if(zi(s),Lp(D)){if(N=D.nextSibling&&D.nextSibling.dataset,N)var W=N.dgst;N=W,p=Error(r(419)),p.stack="",p.digest=N,vl({value:p,source:null,stack:null}),s=rp(a,s,c)}else if(Rt||zo(a,s,c,!1),N=(c&a.childLanes)!==0,Rt||N){if(N=ot,N!==null&&(p=Ox(N,c),p!==0&&p!==U.retryLane))throw U.retryLane=p,ka(a,p),Rn(N,a,p),Xm;Ip(D)||Wc(),s=rp(a,s,c)}else Ip(D)?(s.flags|=192,s.child=a.child,s=null):(a=U.treeContext,dt=dr(D.nextSibling),tn=s,$e=!0,Ii=null,ur=!1,a!==null&&Tw(s,a),s=np(s,p.children),s.flags|=4096);return s}return b?(Vi(),D=p.fallback,b=s.mode,U=a.child,W=U.sibling,p=Jr(U,{mode:"hidden",children:p.children}),p.subtreeFlags=U.subtreeFlags&65011712,W!==null?D=Jr(W,D):(D=ja(D,b,c,null),D.flags|=2),D.return=s,p.return=s,p.sibling=D,s.child=p,Pl(null,p),p=s.child,D=a.child.memoizedState,D===null?D=ep(c):(b=D.cachePool,b!==null?(U=kt._currentValue,b=b.parent!==U?{parent:U,pool:U}:b):b=jw(),D={baseLanes:D.baseLanes|c,cachePool:b}),p.memoizedState=D,p.childLanes=tp(a,N,c),s.memoizedState=Zm,Pl(a.child,p)):(zi(s),c=a.child,a=c.sibling,c=Jr(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,a!==null&&(N=s.deletions,N===null?(s.deletions=[a],s.flags|=16):N.push(a)),s.child=c,s.memoizedState=null,c)}function np(a,s){return s=Bc({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Bc(a,s){return a=Bn(22,a,null,s),a.lanes=0,a}function rp(a,s,c){return Ba(s,a.child,null,c),a=np(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function K_(a,s,c){a.lanes|=s;var p=a.alternate;p!==null&&(p.lanes|=s),ym(a.return,s,c)}function ip(a,s,c,p,b,_){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:b,treeForkCount:_}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=c,N.tailMode=b,N.treeForkCount=_)}function F_(a,s,c){var p=s.pendingProps,b=p.revealOrder,_=p.tail;p=p.children;var N=Nt.current,D=(N&2)!==0;if(D?(N=N&1|2,s.flags|=128):N&=1,oe(Nt,N),rn(a,s,p,c),p=$e?gl:0,!D&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&K_(a,c,s);else if(a.tag===19)K_(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(c=s.child,b=null;c!==null;)a=c.alternate,a!==null&&Cc(a)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),ip(s,!1,b,c,_,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(a=b.alternate,a!==null&&Cc(a)===null){s.child=b;break}a=b.sibling,b.sibling=c,c=b,b=a}ip(s,!0,c,null,_,p);break;case"together":ip(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function ni(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),Fi|=s.lanes,(c&s.childLanes)===0)if(a!==null){if(zo(a,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,c=Jr(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Jr(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function ap(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&bc(a)))}function fI(a,s,c){switch(s.tag){case 3:we(s,s.stateNode.containerInfo),Ui(s,kt,a.memoizedState.cache),Ra();break;case 27:case 5:Ee(s);break;case 4:we(s,s.stateNode.containerInfo);break;case 10:Ui(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Om(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(zi(s),s.flags|=128,null):(c&s.child.childLanes)!==0?H_(a,s,c):(zi(s),a=ni(a,s,c),a!==null?a.sibling:null);zi(s);break;case 19:var b=(a.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(zo(a,s,c,!1),p=(c&s.childLanes)!==0),b){if(p)return F_(a,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),oe(Nt,Nt.current),p)break;return null;case 22:return s.lanes=0,U_(a,s,c,s.pendingProps);case 24:Ui(s,kt,a.memoizedState.cache)}return ni(a,s,c)}function G_(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps)Rt=!0;else{if(!ap(a,c)&&(s.flags&128)===0)return Rt=!1,fI(a,s,c);Rt=(a.flags&131072)!==0}else Rt=!1,$e&&(s.flags&1048576)!==0&&Aw(s,gl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(a=La(s.elementType),s.type=a,typeof a=="function")cm(a)?(p=$a(a,p),s.tag=1,s=z_(null,s,a,p,c)):(s.tag=0,s=Qm(null,s,a,p,c));else{if(a!=null){var b=a.$$typeof;if(b===R){s.tag=11,s=M_(null,s,a,p,c);break e}else if(b===M){s.tag=14,s=I_(null,s,a,p,c);break e}}throw s=J(a)||a,Error(r(306,s,""))}}return s;case 0:return Qm(a,s,s.type,s.pendingProps,c);case 1:return p=s.type,b=$a(p,s.pendingProps),z_(a,s,p,b,c);case 3:e:{if(we(s,s.stateNode.containerInfo),a===null)throw Error(r(387));p=s.pendingProps;var _=s.memoizedState;b=_.element,Am(a,s),El(s,p,null,c);var N=s.memoizedState;if(p=N.cache,Ui(s,kt,p),p!==_.cache&&bm(s,[kt],c,!0),Sl(),p=N.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=V_(a,s,p,c);break e}else if(p!==b){b=or(Error(r(424)),s),vl(b),s=V_(a,s,p,c);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(dt=dr(a.firstChild),tn=s,$e=!0,Ii=null,ur=!0,c=Uw(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ra(),p===b){s=ni(a,s,c);break e}rn(a,s,p,c)}s=s.child}return s;case 26:return Uc(a,s),a===null?(c=iE(s.type,null,s.pendingProps,null))?s.memoizedState=c:$e||(c=s.type,a=s.pendingProps,p=td(Se.current).createElement(c),p[en]=s,p[Cn]=a,an(p,c,a),Wt(p),s.stateNode=p):s.memoizedState=iE(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ee(s),a===null&&$e&&(p=s.stateNode=tE(s.type,s.pendingProps,Se.current),tn=s,ur=!0,b=dt,Xi(s.type)?(Up=b,dt=dr(p.firstChild)):dt=b),rn(a,s,s.pendingProps.children,c),Uc(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&$e&&((b=p=dt)&&(p=zI(p,s.type,s.pendingProps,ur),p!==null?(s.stateNode=p,tn=s,dt=dr(p.firstChild),ur=!1,b=!0):b=!1),b||Li(s)),Ee(s),b=s.type,_=s.pendingProps,N=a!==null?a.memoizedProps:null,p=_.children,Rp(b,_)?p=null:N!==null&&Rp(b,N)&&(s.flags|=32),s.memoizedState!==null&&(b=jm(a,s,rI,null,null,c),Hl._currentValue=b),Uc(a,s),rn(a,s,p,c),s.child;case 6:return a===null&&$e&&((a=c=dt)&&(c=VI(c,s.pendingProps,ur),c!==null?(s.stateNode=c,tn=s,dt=null,a=!0):a=!1),a||Li(s)),null;case 13:return H_(a,s,c);case 4:return we(s,s.stateNode.containerInfo),p=s.pendingProps,a===null?s.child=Ba(s,null,p,c):rn(a,s,p,c),s.child;case 11:return M_(a,s,s.type,s.pendingProps,c);case 7:return rn(a,s,s.pendingProps,c),s.child;case 8:return rn(a,s,s.pendingProps.children,c),s.child;case 12:return rn(a,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,Ui(s,s.type,p.value),rn(a,s,p.children,c),s.child;case 9:return b=s.type._context,p=s.pendingProps.children,Ma(s),b=nn(b),p=p(b),s.flags|=1,rn(a,s,p,c),s.child;case 14:return I_(a,s,s.type,s.pendingProps,c);case 15:return L_(a,s,s.type,s.pendingProps,c);case 19:return F_(a,s,c);case 31:return dI(a,s,c);case 22:return U_(a,s,c,s.pendingProps);case 24:return Ma(s),p=nn(kt),a===null?(b=_m(),b===null&&(b=ot,_=xm(),b.pooledCache=_,_.refCount++,_!==null&&(b.pooledCacheLanes|=c),b=_),s.memoizedState={parent:p,cache:b},Em(s),Ui(s,kt,b)):((a.lanes&c)!==0&&(Am(a,s),El(s,null,null,c),Sl()),b=a.memoizedState,_=s.memoizedState,b.parent!==p?(b={parent:p,cache:p},s.memoizedState=b,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=b),Ui(s,kt,p)):(p=_.cache,Ui(s,kt,p),p!==b.cache&&bm(s,[kt],c,!0))),rn(a,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ri(a){a.flags|=4}function op(a,s,c,p,b){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(xS())a.flags|=8192;else throw Ua=Sc,Sm}else a.flags&=-16777217}function W_(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!uE(s))if(xS())a.flags|=8192;else throw Ua=Sc,Sm}function qc(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Cx():536870912,a.lanes|=s,es|=s)}function Ol(a,s){if(!$e)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function ft(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(s)for(var b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)c|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=p,a.childLanes=c,s}function hI(a,s,c){var p=s.pendingProps;switch(mm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(s),null;case 1:return ft(s),null;case 3:return c=s.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),Zr(kt),Q(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&($o(s)?ri(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gm())),ft(s),null;case 26:var b=s.type,_=s.memoizedState;return a===null?(ri(s),_!==null?(ft(s),W_(s,_)):(ft(s),op(s,b,null,p,c))):_?_!==a.memoizedState?(ri(s),ft(s),W_(s,_)):(ft(s),s.flags&=-16777217):(a=a.memoizedProps,a!==p&&ri(s),ft(s),op(s,b,a,p,c)),null;case 27:if(Ce(s),c=Se.current,b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ri(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ft(s),null}a=ce.current,$o(s)?Cw(s):(a=tE(b,p,c),s.stateNode=a,ri(s))}return ft(s),null;case 5:if(Ce(s),b=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==p&&ri(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return ft(s),null}if(_=ce.current,$o(s))Cw(s);else{var N=td(Se.current);switch(_){case 1:_=N.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:_=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":_=N.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":_=N.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":_=N.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?N.createElement(b,{is:p.is}):N.createElement(b)}}_[en]=s,_[Cn]=p;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)_.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=_;e:switch(an(_,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ri(s)}}return ft(s),op(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,c),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==p&&ri(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(a=Se.current,$o(s)){if(a=s.stateNode,c=s.memoizedProps,p=null,b=tn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}a[en]=s,a=!!(a.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||HS(a.nodeValue,c)),a||Li(s,!0)}else a=td(a).createTextNode(p),a[en]=s,s.stateNode=a}return ft(s),null;case 31:if(c=s.memoizedState,a===null||a.memoizedState!==null){if(p=$o(s),c!==null){if(a===null){if(!p)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[en]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),a=!1}else c=gm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return s.flags&256?($n(s),s):($n(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ft(s),null;case 13:if(p=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=$o(s),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[en]=s}else Ra(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ft(s),b=!1}else b=gm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return s.flags&256?($n(s),s):($n(s),null)}return $n(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,a=a!==null&&a.memoizedState!==null,c&&(p=s.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==b&&(p.flags|=2048)),c!==a&&c&&(s.child.flags|=8192),qc(s,s.updateQueue),ft(s),null);case 4:return Q(),a===null&&Np(s.stateNode.containerInfo),ft(s),null;case 10:return Zr(s.type),ft(s),null;case 19:if(q(Nt),p=s.memoizedState,p===null)return ft(s),null;if(b=(s.flags&128)!==0,_=p.rendering,_===null)if(b)Ol(p,!1);else{if(Tt!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=Cc(a),_!==null){for(s.flags|=128,Ol(p,!1),a=_.updateQueue,s.updateQueue=a,qc(s,a),s.subtreeFlags=0,a=c,c=s.child;c!==null;)_w(c,a),c=c.sibling;return oe(Nt,Nt.current&1|2),$e&&Xr(s,p.treeForkCount),s.child}a=a.sibling}p.tail!==null&&tt()>Kc&&(s.flags|=128,b=!0,Ol(p,!1),s.lanes=4194304)}else{if(!b)if(a=Cc(_),a!==null){if(s.flags|=128,b=!0,a=a.updateQueue,s.updateQueue=a,qc(s,a),Ol(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!$e)return ft(s),null}else 2*tt()-p.renderingStartTime>Kc&&c!==536870912&&(s.flags|=128,b=!0,Ol(p,!1),s.lanes=4194304);p.isBackwards?(_.sibling=s.child,s.child=_):(a=p.last,a!==null?a.sibling=_:s.child=_,p.last=_)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=tt(),a.sibling=null,c=Nt.current,oe(Nt,b?c&1|2:c&1),$e&&Xr(s,p.treeForkCount),a):(ft(s),null);case 22:case 23:return $n(s),Pm(),p=s.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(ft(s),s.subtreeFlags&6&&(s.flags|=8192)):ft(s),c=s.updateQueue,c!==null&&qc(s,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),a!==null&&q(Ia),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Zr(kt),ft(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function mI(a,s){switch(mm(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Zr(kt),Q(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ce(s),null;case 31:if(s.memoizedState!==null){if($n(s),s.alternate===null)throw Error(r(340));Ra()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if($n(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ra()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return q(Nt),null;case 4:return Q(),null;case 10:return Zr(s.type),null;case 22:case 23:return $n(s),Pm(),a!==null&&q(Ia),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Zr(kt),null;case 25:return null;default:return null}}function Y_(a,s){switch(mm(s),s.tag){case 3:Zr(kt),Q();break;case 26:case 27:case 5:Ce(s);break;case 4:Q();break;case 31:s.memoizedState!==null&&$n(s);break;case 13:$n(s);break;case 19:q(Nt);break;case 10:Zr(s.type);break;case 22:case 23:$n(s),Pm(),a!==null&&q(Ia);break;case 24:Zr(kt)}}function kl(a,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var b=p.next;c=b;do{if((c.tag&a)===a){p=void 0;var _=c.create,N=c.inst;p=_(),N.destroy=p}c=c.next}while(c!==b)}}catch(D){Qe(s,s.return,D)}}function Hi(a,s,c){try{var p=s.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var _=b.next;p=_;do{if((p.tag&a)===a){var N=p.inst,D=N.destroy;if(D!==void 0){N.destroy=void 0,b=s;var U=c,W=D;try{W()}catch(ie){Qe(b,U,ie)}}}p=p.next}while(p!==_)}}catch(ie){Qe(s,s.return,ie)}}function J_(a){var s=a.updateQueue;if(s!==null){var c=a.stateNode;try{qw(s,c)}catch(p){Qe(a,a.return,p)}}}function X_(a,s,c){c.props=$a(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(p){Qe(a,s,p)}}function jl(a,s){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof c=="function"?a.refCleanup=c(p):c.current=p}}catch(b){Qe(a,s,b)}}function qr(a,s){var c=a.ref,p=a.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(b){Qe(a,s,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(b){Qe(a,s,b)}else c.current=null}function Q_(a){var s=a.type,c=a.memoizedProps,p=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(b){Qe(a,a.return,b)}}function sp(a,s,c){try{var p=a.stateNode;II(p,a.type,c,s),p[Cn]=s}catch(b){Qe(a,a.return,b)}}function Z_(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xi(a.type)||a.tag===4}function lp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Z_(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xi(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function up(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(a),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Wr));else if(p!==4&&(p===27&&Xi(a.type)&&(c=a.stateNode,s=null),a=a.child,a!==null))for(up(a,s,c),a=a.sibling;a!==null;)up(a,s,c),a=a.sibling}function $c(a,s,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(p!==4&&(p===27&&Xi(a.type)&&(c=a.stateNode),a=a.child,a!==null))for($c(a,s,c),a=a.sibling;a!==null;)$c(a,s,c),a=a.sibling}function eS(a){var s=a.stateNode,c=a.memoizedProps;try{for(var p=a.type,b=s.attributes;b.length;)s.removeAttributeNode(b[0]);an(s,p,c),s[en]=a,s[Cn]=c}catch(_){Qe(a,a.return,_)}}var ii=!1,Dt=!1,cp=!1,tS=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function pI(a,s){if(a=a.containerInfo,kp=ld,a=hw(a),rm(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var b=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var N=0,D=-1,U=-1,W=0,ie=0,se=a,X=null;t:for(;;){for(var ne;se!==c||b!==0&&se.nodeType!==3||(D=N+b),se!==_||p!==0&&se.nodeType!==3||(U=N+p),se.nodeType===3&&(N+=se.nodeValue.length),(ne=se.firstChild)!==null;)X=se,se=ne;for(;;){if(se===a)break t;if(X===c&&++W===b&&(D=N),X===_&&++ie===p&&(U=N),(ne=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=ne}c=D===-1||U===-1?null:{start:D,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(jp={focusedElem:a,selectionRange:c},ld=!1,Yt=s;Yt!==null;)if(s=Yt,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Yt=a;else for(;Yt!==null;){switch(s=Yt,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)b=a[c],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,c=s,b=_.memoizedProps,_=_.memoizedState,p=c.stateNode;try{var pe=$a(c.type,b);a=p.getSnapshotBeforeUpdate(pe,_),p.__reactInternalSnapshotBeforeUpdate=a}catch(Pe){Qe(c,c.return,Pe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,c=a.nodeType,c===9)Mp(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Mp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Yt=a;break}Yt=s.return}}function nS(a,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:oi(a,c),p&4&&kl(5,c);break;case 1:if(oi(a,c),p&4)if(a=c.stateNode,s===null)try{a.componentDidMount()}catch(N){Qe(c,c.return,N)}else{var b=$a(c.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(b,s,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Qe(c,c.return,N)}}p&64&&J_(c),p&512&&jl(c,c.return);break;case 3:if(oi(a,c),p&64&&(a=c.updateQueue,a!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{qw(a,s)}catch(N){Qe(c,c.return,N)}}break;case 27:s===null&&p&4&&eS(c);case 26:case 5:oi(a,c),s===null&&p&4&&Q_(c),p&512&&jl(c,c.return);break;case 12:oi(a,c);break;case 31:oi(a,c),p&4&&aS(a,c);break;case 13:oi(a,c),p&4&&oS(a,c),p&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=EI.bind(null,c),HI(a,c))));break;case 22:if(p=c.memoizedState!==null||ii,!p){s=s!==null&&s.memoizedState!==null||Dt,b=ii;var _=Dt;ii=p,(Dt=s)&&!_?si(a,c,(c.subtreeFlags&8772)!==0):oi(a,c),ii=b,Dt=_}break;case 30:break;default:oi(a,c)}}function rS(a){var s=a.alternate;s!==null&&(a.alternate=null,rS(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&qh(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var pt=null,Pn=!1;function ai(a,s,c){for(c=c.child;c!==null;)iS(a,s,c),c=c.sibling}function iS(a,s,c){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(nl,c)}catch{}switch(c.tag){case 26:Dt||qr(c,s),ai(a,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Dt||qr(c,s);var p=pt,b=Pn;Xi(c.type)&&(pt=c.stateNode,Pn=!1),ai(a,s,c),$l(c.stateNode),pt=p,Pn=b;break;case 5:Dt||qr(c,s);case 6:if(p=pt,b=Pn,pt=null,ai(a,s,c),pt=p,Pn=b,pt!==null)if(Pn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(c.stateNode)}catch(_){Qe(c,s,_)}else try{pt.removeChild(c.stateNode)}catch(_){Qe(c,s,_)}break;case 18:pt!==null&&(Pn?(a=pt,JS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),ls(a)):JS(pt,c.stateNode));break;case 4:p=pt,b=Pn,pt=c.stateNode.containerInfo,Pn=!0,ai(a,s,c),pt=p,Pn=b;break;case 0:case 11:case 14:case 15:Hi(2,c,s),Dt||Hi(4,c,s),ai(a,s,c);break;case 1:Dt||(qr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&X_(c,s,p)),ai(a,s,c);break;case 21:ai(a,s,c);break;case 22:Dt=(p=Dt)||c.memoizedState!==null,ai(a,s,c),Dt=p;break;default:ai(a,s,c)}}function aS(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{ls(a)}catch(c){Qe(s,s.return,c)}}}function oS(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{ls(a)}catch(c){Qe(s,s.return,c)}}function gI(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new tS),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new tS),s;default:throw Error(r(435,a.tag))}}function zc(a,s){var c=gI(a);s.forEach(function(p){if(!c.has(p)){c.add(p);var b=AI.bind(null,a,p);p.then(b,b)}})}function On(a,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var b=c[p],_=a,N=s,D=N;e:for(;D!==null;){switch(D.tag){case 27:if(Xi(D.type)){pt=D.stateNode,Pn=!1;break e}break;case 5:pt=D.stateNode,Pn=!1;break e;case 3:case 4:pt=D.stateNode.containerInfo,Pn=!0;break e}D=D.return}if(pt===null)throw Error(r(160));iS(_,N,b),pt=null,Pn=!1,_=b.alternate,_!==null&&(_.return=null),b.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)sS(s,a),s=s.sibling}var Cr=null;function sS(a,s){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:On(s,a),kn(a),p&4&&(Hi(3,a,a.return),kl(3,a),Hi(5,a,a.return));break;case 1:On(s,a),kn(a),p&512&&(Dt||c===null||qr(c,c.return)),p&64&&ii&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var b=Cr;if(On(s,a),kn(a),p&512&&(Dt||c===null||qr(c,c.return)),p&4){var _=c!==null?c.memoizedState:null;if(p=a.memoizedState,c===null)if(p===null)if(a.stateNode===null){e:{p=a.type,c=a.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":_=b.getElementsByTagName("title")[0],(!_||_[al]||_[en]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=b.createElement(p),b.head.insertBefore(_,b.querySelector("head > title"))),an(_,p,c),_[en]=a,Wt(_),p=_;break e;case"link":var N=sE("link","href",b).get(p+(c.href||""));if(N){for(var D=0;D<N.length;D++)if(_=N[D],_.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&_.getAttribute("rel")===(c.rel==null?null:c.rel)&&_.getAttribute("title")===(c.title==null?null:c.title)&&_.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(D,1);break t}}_=b.createElement(p),an(_,p,c),b.head.appendChild(_);break;case"meta":if(N=sE("meta","content",b).get(p+(c.content||""))){for(D=0;D<N.length;D++)if(_=N[D],_.getAttribute("content")===(c.content==null?null:""+c.content)&&_.getAttribute("name")===(c.name==null?null:c.name)&&_.getAttribute("property")===(c.property==null?null:c.property)&&_.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&_.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(D,1);break t}}_=b.createElement(p),an(_,p,c),b.head.appendChild(_);break;default:throw Error(r(468,p))}_[en]=a,Wt(_),p=_}a.stateNode=p}else lE(b,a.type,a.stateNode);else a.stateNode=oE(b,p,a.memoizedProps);else _!==p?(_===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):_.count--,p===null?lE(b,a.type,a.stateNode):oE(b,p,a.memoizedProps)):p===null&&a.stateNode!==null&&sp(a,a.memoizedProps,c.memoizedProps)}break;case 27:On(s,a),kn(a),p&512&&(Dt||c===null||qr(c,c.return)),c!==null&&p&4&&sp(a,a.memoizedProps,c.memoizedProps);break;case 5:if(On(s,a),kn(a),p&512&&(Dt||c===null||qr(c,c.return)),a.flags&32){b=a.stateNode;try{ko(b,"")}catch(pe){Qe(a,a.return,pe)}}p&4&&a.stateNode!=null&&(b=a.memoizedProps,sp(a,b,c!==null?c.memoizedProps:b)),p&1024&&(cp=!0);break;case 6:if(On(s,a),kn(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,c=a.stateNode;try{c.nodeValue=p}catch(pe){Qe(a,a.return,pe)}}break;case 3:if(id=null,b=Cr,Cr=nd(s.containerInfo),On(s,a),Cr=b,kn(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ls(s.containerInfo)}catch(pe){Qe(a,a.return,pe)}cp&&(cp=!1,lS(a));break;case 4:p=Cr,Cr=nd(a.stateNode.containerInfo),On(s,a),kn(a),Cr=p;break;case 12:On(s,a),kn(a);break;case 31:On(s,a),kn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,zc(a,p)));break;case 13:On(s,a),kn(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Hc=tt()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,zc(a,p)));break;case 22:b=a.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,W=ii,ie=Dt;if(ii=W||b,Dt=ie||U,On(s,a),Dt=ie,ii=W,kn(a),p&8192)e:for(s=a.stateNode,s._visibility=b?s._visibility&-2:s._visibility|1,b&&(c===null||U||ii||Dt||za(a)),c=null,s=a;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(_=U.stateNode,b)N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{D=U.stateNode;var se=U.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;D.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Qe(U,U.return,pe)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(pe){Qe(U,U.return,pe)}}}else if(s.tag===18){if(c===null){U=s;try{var ne=U.stateNode;b?XS(ne,!0):XS(U.stateNode,!1)}catch(pe){Qe(U,U.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=a.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,zc(a,c))));break;case 19:On(s,a),kn(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,zc(a,p)));break;case 30:break;case 21:break;default:On(s,a),kn(a)}}function kn(a){var s=a.flags;if(s&2){try{for(var c,p=a.return;p!==null;){if(Z_(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var b=c.stateNode,_=lp(a);$c(a,_,b);break;case 5:var N=c.stateNode;c.flags&32&&(ko(N,""),c.flags&=-33);var D=lp(a);$c(a,D,N);break;case 3:case 4:var U=c.stateNode.containerInfo,W=lp(a);up(a,W,U);break;default:throw Error(r(161))}}catch(ie){Qe(a,a.return,ie)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function lS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;lS(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function oi(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nS(a,s.alternate,s),s=s.sibling}function za(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Hi(4,s,s.return),za(s);break;case 1:qr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&X_(s,s.return,c),za(s);break;case 27:$l(s.stateNode);case 26:case 5:qr(s,s.return),za(s);break;case 22:s.memoizedState===null&&za(s);break;case 30:za(s);break;default:za(s)}a=a.sibling}}function si(a,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,b=a,_=s,N=_.flags;switch(_.tag){case 0:case 11:case 15:si(b,_,c),kl(4,_);break;case 1:if(si(b,_,c),p=_,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(W){Qe(p,p.return,W)}if(p=_,b=p.updateQueue,b!==null){var D=p.stateNode;try{var U=b.shared.hiddenCallbacks;if(U!==null)for(b.shared.hiddenCallbacks=null,b=0;b<U.length;b++)Bw(U[b],D)}catch(W){Qe(p,p.return,W)}}c&&N&64&&J_(_),jl(_,_.return);break;case 27:eS(_);case 26:case 5:si(b,_,c),c&&p===null&&N&4&&Q_(_),jl(_,_.return);break;case 12:si(b,_,c);break;case 31:si(b,_,c),c&&N&4&&aS(b,_);break;case 13:si(b,_,c),c&&N&4&&oS(b,_);break;case 22:_.memoizedState===null&&si(b,_,c),jl(_,_.return);break;case 30:break;default:si(b,_,c)}s=s.sibling}}function dp(a,s){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&yl(c))}function fp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&yl(a))}function Nr(a,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)uS(a,s,c,p),s=s.sibling}function uS(a,s,c,p){var b=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(a,s,c,p),b&2048&&kl(9,s);break;case 1:Nr(a,s,c,p);break;case 3:Nr(a,s,c,p),b&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&yl(a)));break;case 12:if(b&2048){Nr(a,s,c,p),a=s.stateNode;try{var _=s.memoizedProps,N=_.id,D=_.onPostCommit;typeof D=="function"&&D(N,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(U){Qe(s,s.return,U)}}else Nr(a,s,c,p);break;case 31:Nr(a,s,c,p);break;case 13:Nr(a,s,c,p);break;case 23:break;case 22:_=s.stateNode,N=s.alternate,s.memoizedState!==null?_._visibility&2?Nr(a,s,c,p):Rl(a,s):_._visibility&2?Nr(a,s,c,p):(_._visibility|=2,Xo(a,s,c,p,(s.subtreeFlags&10256)!==0||!1)),b&2048&&dp(N,s);break;case 24:Nr(a,s,c,p),b&2048&&fp(s.alternate,s);break;default:Nr(a,s,c,p)}}function Xo(a,s,c,p,b){for(b=b&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,N=s,D=c,U=p,W=N.flags;switch(N.tag){case 0:case 11:case 15:Xo(_,N,D,U,b),kl(8,N);break;case 23:break;case 22:var ie=N.stateNode;N.memoizedState!==null?ie._visibility&2?Xo(_,N,D,U,b):Rl(_,N):(ie._visibility|=2,Xo(_,N,D,U,b)),b&&W&2048&&dp(N.alternate,N);break;case 24:Xo(_,N,D,U,b),b&&W&2048&&fp(N.alternate,N);break;default:Xo(_,N,D,U,b)}s=s.sibling}}function Rl(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=a,p=s,b=p.flags;switch(p.tag){case 22:Rl(c,p),b&2048&&dp(p.alternate,p);break;case 24:Rl(c,p),b&2048&&fp(p.alternate,p);break;default:Rl(c,p)}s=s.sibling}}var Dl=8192;function Qo(a,s,c){if(a.subtreeFlags&Dl)for(a=a.child;a!==null;)cS(a,s,c),a=a.sibling}function cS(a,s,c){switch(a.tag){case 26:Qo(a,s,c),a.flags&Dl&&a.memoizedState!==null&&nL(c,Cr,a.memoizedState,a.memoizedProps);break;case 5:Qo(a,s,c);break;case 3:case 4:var p=Cr;Cr=nd(a.stateNode.containerInfo),Qo(a,s,c),Cr=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Dl,Dl=16777216,Qo(a,s,c),Dl=p):Qo(a,s,c));break;default:Qo(a,s,c)}}function dS(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Ml(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Yt=p,hS(p,a)}dS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fS(a),a=a.sibling}function fS(a){switch(a.tag){case 0:case 11:case 15:Ml(a),a.flags&2048&&Hi(9,a,a.return);break;case 3:Ml(a);break;case 12:Ml(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Vc(a)):Ml(a);break;default:Ml(a)}}function Vc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];Yt=p,hS(p,a)}dS(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Hi(8,s,s.return),Vc(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Vc(s));break;default:Vc(s)}a=a.sibling}}function hS(a,s){for(;Yt!==null;){var c=Yt;switch(c.tag){case 0:case 11:case 15:Hi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:yl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,Yt=p;else e:for(c=a;Yt!==null;){p=Yt;var b=p.sibling,_=p.return;if(rS(p),p===c){Yt=null;break e}if(b!==null){b.return=_,Yt=b;break e}Yt=_}}}var vI={getCacheForType:function(a){var s=nn(kt),c=s.data.get(a);return c===void 0&&(c=a(),s.data.set(a,c)),c},cacheSignal:function(){return nn(kt).controller.signal}},yI=typeof WeakMap=="function"?WeakMap:Map,We=0,ot=null,Me=null,Be=0,Xe=0,zn=null,Ki=!1,Zo=!1,hp=!1,li=0,Tt=0,Fi=0,Va=0,mp=0,Vn=0,es=0,Il=null,jn=null,pp=!1,Hc=0,mS=0,Kc=1/0,Fc=null,Gi=null,Ut=0,Wi=null,ts=null,ui=0,gp=0,vp=null,pS=null,Ll=0,yp=null;function Hn(){return(We&2)!==0&&Be!==0?Be&-Be:B.T!==null?Ep():kx()}function gS(){if(Vn===0)if((Be&536870912)===0||$e){var a=ec;ec<<=1,(ec&3932160)===0&&(ec=262144),Vn=a}else Vn=536870912;return a=qn.current,a!==null&&(a.flags|=32),Vn}function Rn(a,s,c){(a===ot&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)&&(ns(a,0),Yi(a,Be,Vn,!1)),il(a,c),((We&2)===0||a!==ot)&&(a===ot&&((We&2)===0&&(Va|=c),Tt===4&&Yi(a,Be,Vn,!1)),$r(a))}function vS(a,s,c){if((We&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&a.expiredLanes)===0||rl(a,s),b=p?wI(a,s):xp(a,s,!0),_=p;do{if(b===0){Zo&&!p&&Yi(a,s,0,!1);break}else{if(c=a.current.alternate,_&&!bI(c)){b=xp(a,s,!1),_=!1;continue}if(b===2){if(_=s,a.errorRecoveryDisabledLanes&_)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var D=a;b=Il;var U=D.current.memoizedState.isDehydrated;if(U&&(ns(D,N).flags|=256),N=xp(D,N,!1),N!==2){if(hp&&!U){D.errorRecoveryDisabledLanes|=_,Va|=_,b=4;break e}_=jn,jn=b,_!==null&&(jn===null?jn=_:jn.push.apply(jn,_))}b=N}if(_=!1,b!==2)continue}}if(b===1){ns(a,0),Yi(a,s,0,!0);break}e:{switch(p=a,_=b,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yi(p,s,Vn,!Ki);break e;case 2:jn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(b=Hc+300-tt(),10<b)){if(Yi(p,s,Vn,!Ki),nc(p,0,!0)!==0)break e;ui=s,p.timeoutHandle=WS(yS.bind(null,p,c,jn,Fc,pp,s,Vn,Va,es,Ki,_,"Throttled",-0,0),b);break e}yS(p,c,jn,Fc,pp,s,Vn,Va,es,Ki,_,null,-0,0)}}break}while(!0);$r(a)}function yS(a,s,c,p,b,_,N,D,U,W,ie,se,X,ne){if(a.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},cS(s,_,se);var pe=(_&62914560)===_?Hc-tt():(_&4194048)===_?mS-tt():0;if(pe=rL(se,pe),pe!==null){ui=_,a.cancelPendingCommit=pe(TS.bind(null,a,s,_,c,p,b,N,D,U,ie,se,null,X,ne)),Yi(a,_,N,!W);return}}TS(a,s,_,c,p,b,N,D,U)}function bI(a){for(var s=a;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var b=c[p],_=b.getSnapshot;b=b.value;try{if(!Un(_(),b))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yi(a,s,c,p){s&=~mp,s&=~Va,a.suspendedLanes|=s,a.pingedLanes&=~s,p&&(a.warmLanes|=s),p=a.expirationTimes;for(var b=s;0<b;){var _=31-Ln(b),N=1<<_;p[_]=-1,b&=~N}c!==0&&Nx(a,c,s)}function Gc(){return(We&6)===0?(Ul(0),!1):!0}function bp(){if(Me!==null){if(Xe===0)var a=Me.return;else a=Me,Qr=Da=null,Mm(a),Fo=null,xl=0,a=Me;for(;a!==null;)Y_(a.alternate,a),a=a.return;Me=null}}function ns(a,s){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,BI(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ui=0,bp(),ot=a,Me=c=Jr(a.current,null),Be=s,Xe=0,zn=null,Ki=!1,Zo=rl(a,s),hp=!1,es=Vn=mp=Va=Fi=Tt=0,jn=Il=null,pp=!1,(s&8)!==0&&(s|=s&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=s;0<p;){var b=31-Ln(p),_=1<<b;s|=a[b],p&=~_}return li=s,mc(),c}function bS(a,s){je=null,B.H=Nl,s===Ko||s===_c?(s=Mw(),Xe=3):s===Sm?(s=Mw(),Xe=4):Xe=s===Xm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zn=s,Me===null&&(Tt=1,Ic(a,or(s,a.current)))}function xS(){var a=qn.current;return a===null?!0:(Be&4194048)===Be?cr===null:(Be&62914560)===Be||(Be&536870912)!==0?a===cr:!1}function wS(){var a=B.H;return B.H=Nl,a===null?Nl:a}function _S(){var a=B.A;return B.A=vI,a}function Wc(){Tt=4,Ki||(Be&4194048)!==Be&&qn.current!==null||(Zo=!0),(Fi&134217727)===0&&(Va&134217727)===0||ot===null||Yi(ot,Be,Vn,!1)}function xp(a,s,c){var p=We;We|=2;var b=wS(),_=_S();(ot!==a||Be!==s)&&(Fc=null,ns(a,s)),s=!1;var N=Tt;e:do try{if(Xe!==0&&Me!==null){var D=Me,U=zn;switch(Xe){case 8:bp(),N=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(s=!0);var W=Xe;if(Xe=0,zn=null,rs(a,D,U,W),c&&Zo){N=0;break e}break;default:W=Xe,Xe=0,zn=null,rs(a,D,U,W)}}xI(),N=Tt;break}catch(ie){bS(a,ie)}while(!0);return s&&a.shellSuspendCounter++,Qr=Da=null,We=p,B.H=b,B.A=_,Me===null&&(ot=null,Be=0,mc()),N}function xI(){for(;Me!==null;)SS(Me)}function wI(a,s){var c=We;We|=2;var p=wS(),b=_S();ot!==a||Be!==s?(Fc=null,Kc=tt()+500,ns(a,s)):Zo=rl(a,s);e:do try{if(Xe!==0&&Me!==null){s=Me;var _=zn;t:switch(Xe){case 1:Xe=0,zn=null,rs(a,s,_,1);break;case 2:case 9:if(Rw(_)){Xe=0,zn=null,ES(s);break}s=function(){Xe!==2&&Xe!==9||ot!==a||(Xe=7),$r(a)},_.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Rw(_)?(Xe=0,zn=null,ES(s)):(Xe=0,zn=null,rs(a,s,_,7));break;case 5:var N=null;switch(Me.tag){case 26:N=Me.memoizedState;case 5:case 27:var D=Me;if(N?uE(N):D.stateNode.complete){Xe=0,zn=null;var U=D.sibling;if(U!==null)Me=U;else{var W=D.return;W!==null?(Me=W,Yc(W)):Me=null}break t}}Xe=0,zn=null,rs(a,s,_,5);break;case 6:Xe=0,zn=null,rs(a,s,_,6);break;case 8:bp(),Tt=6;break e;default:throw Error(r(462))}}_I();break}catch(ie){bS(a,ie)}while(!0);return Qr=Da=null,B.H=p,B.A=b,We=c,Me!==null?0:(ot=null,Be=0,mc(),Tt)}function _I(){for(;Me!==null&&!cn();)SS(Me)}function SS(a){var s=G_(a.alternate,a,li);a.memoizedProps=a.pendingProps,s===null?Yc(a):Me=s}function ES(a){var s=a,c=s.alternate;switch(s.tag){case 15:case 0:s=$_(c,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=$_(c,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Mm(s);default:Y_(c,s),s=Me=_w(s,li),s=G_(c,s,li)}a.memoizedProps=a.pendingProps,s===null?Yc(a):Me=s}function rs(a,s,c,p){Qr=Da=null,Mm(s),Fo=null,xl=0;var b=s.return;try{if(cI(a,b,s,c,Be)){Tt=1,Ic(a,or(c,a.current)),Me=null;return}}catch(_){if(b!==null)throw Me=b,_;Tt=1,Ic(a,or(c,a.current)),Me=null;return}s.flags&32768?($e||p===1?a=!0:Zo||(Be&536870912)!==0?a=!1:(Ki=a=!0,(p===2||p===9||p===3||p===6)&&(p=qn.current,p!==null&&p.tag===13&&(p.flags|=16384))),AS(s,a)):Yc(s)}function Yc(a){var s=a;do{if((s.flags&32768)!==0){AS(s,Ki);return}a=s.return;var c=hI(s.alternate,s,li);if(c!==null){Me=c;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=a}while(s!==null);Tt===0&&(Tt=5)}function AS(a,s){do{var c=mI(a.alternate,a);if(c!==null){c.flags&=32767,Me=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(a=a.sibling,a!==null)){Me=a;return}Me=a=c}while(a!==null);Tt=6,Me=null}function TS(a,s,c,p,b,_,N,D,U){a.cancelPendingCommit=null;do Jc();while(Ut!==0);if((We&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=lm,tM(a,c,_,N,D,U),a===ot&&(Me=ot=null,Be=0),ts=s,Wi=a,ui=c,gp=_,vp=b,pS=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,TI(Aa,function(){return kS(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=B.T,B.T=null,b=F.p,F.p=2,N=We,We|=4;try{pI(a,s,c)}finally{We=N,F.p=b,B.T=p}}Ut=1,CS(),NS(),PS()}}function CS(){if(Ut===1){Ut=0;var a=Wi,s=ts,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null;var p=F.p;F.p=2;var b=We;We|=4;try{sS(s,a);var _=jp,N=hw(a.containerInfo),D=_.focusedElem,U=_.selectionRange;if(N!==D&&D&&D.ownerDocument&&fw(D.ownerDocument.documentElement,D)){if(U!==null&&rm(D)){var W=U.start,ie=U.end;if(ie===void 0&&(ie=W),"selectionStart"in D)D.selectionStart=W,D.selectionEnd=Math.min(ie,D.value.length);else{var se=D.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var ne=X.getSelection(),pe=D.textContent.length,Pe=Math.min(U.start,pe),it=U.end===void 0?Pe:Math.min(U.end,pe);!ne.extend&&Pe>it&&(N=it,it=Pe,Pe=N);var K=dw(D,Pe),$=dw(D,it);if(K&&$&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==$.node||ne.focusOffset!==$.offset)){var G=se.createRange();G.setStart(K.node,K.offset),ne.removeAllRanges(),Pe>it?(ne.addRange(G),ne.extend($.node,$.offset)):(G.setEnd($.node,$.offset),ne.addRange(G))}}}}for(se=[],ne=D;ne=ne.parentNode;)ne.nodeType===1&&se.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<se.length;D++){var ae=se[D];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}ld=!!kp,jp=kp=null}finally{We=b,F.p=p,B.T=c}}a.current=s,Ut=2}}function NS(){if(Ut===2){Ut=0;var a=Wi,s=ts,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=B.T,B.T=null;var p=F.p;F.p=2;var b=We;We|=4;try{nS(a,s.alternate,s)}finally{We=b,F.p=p,B.T=c}}Ut=3}}function PS(){if(Ut===4||Ut===3){Ut=0,et();var a=Wi,s=ts,c=ui,p=pS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ut=5:(Ut=0,ts=Wi=null,OS(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Gi=null),Uh(c),s=s.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(nl,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=B.T,b=F.p,F.p=2,B.T=null;try{for(var _=a.onRecoverableError,N=0;N<p.length;N++){var D=p[N];_(D.value,{componentStack:D.stack})}}finally{B.T=s,F.p=b}}(ui&3)!==0&&Jc(),$r(a),b=a.pendingLanes,(c&261930)!==0&&(b&42)!==0?a===yp?Ll++:(Ll=0,yp=a):Ll=0,Ul(0)}}function OS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,yl(s)))}function Jc(){return CS(),NS(),PS(),kS()}function kS(){if(Ut!==5)return!1;var a=Wi,s=gp;gp=0;var c=Uh(ui),p=B.T,b=F.p;try{F.p=32>c?32:c,B.T=null,c=vp,vp=null;var _=Wi,N=ui;if(Ut=0,ts=Wi=null,ui=0,(We&6)!==0)throw Error(r(331));var D=We;if(We|=4,fS(_.current),uS(_,_.current,N,c),We=D,Ul(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(nl,_)}catch{}return!0}finally{F.p=b,B.T=p,OS(a,s)}}function jS(a,s,c){s=or(c,s),s=Jm(a.stateNode,s,2),a=$i(a,s,2),a!==null&&(il(a,2),$r(a))}function Qe(a,s,c){if(a.tag===3)jS(a,a,c);else for(;s!==null;){if(s.tag===3){jS(s,a,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Gi===null||!Gi.has(p))){a=or(c,a),c=R_(2),p=$i(s,c,2),p!==null&&(D_(c,p,s,a),il(p,2),$r(p));break}}s=s.return}}function wp(a,s,c){var p=a.pingCache;if(p===null){p=a.pingCache=new yI;var b=new Set;p.set(s,b)}else b=p.get(s),b===void 0&&(b=new Set,p.set(s,b));b.has(c)||(hp=!0,b.add(c),a=SI.bind(null,a,s,c),s.then(a,a))}function SI(a,s,c){var p=a.pingCache;p!==null&&p.delete(s),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,ot===a&&(Be&c)===c&&(Tt===4||Tt===3&&(Be&62914560)===Be&&300>tt()-Hc?(We&2)===0&&ns(a,0):mp|=c,es===Be&&(es=0)),$r(a)}function RS(a,s){s===0&&(s=Cx()),a=ka(a,s),a!==null&&(il(a,s),$r(a))}function EI(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),RS(a,c)}function AI(a,s){var c=0;switch(a.tag){case 31:case 13:var p=a.stateNode,b=a.memoizedState;b!==null&&(c=b.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),RS(a,c)}function TI(a,s){return Ue(a,s)}var Xc=null,is=null,_p=!1,Qc=!1,Sp=!1,Ji=0;function $r(a){a!==is&&a.next===null&&(is===null?Xc=is=a:is=is.next=a),Qc=!0,_p||(_p=!0,NI())}function Ul(a,s){if(!Sp&&Qc){Sp=!0;do for(var c=!1,p=Xc;p!==null;){if(a!==0){var b=p.pendingLanes;if(b===0)var _=0;else{var N=p.suspendedLanes,D=p.pingedLanes;_=(1<<31-Ln(42|a)+1)-1,_&=b&~(N&~D),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(c=!0,LS(p,_))}else _=Be,_=nc(p,p===ot?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||rl(p,_)||(c=!0,LS(p,_));p=p.next}while(c);Sp=!1}}function CI(){DS()}function DS(){Qc=_p=!1;var a=0;Ji!==0&&UI()&&(a=Ji);for(var s=tt(),c=null,p=Xc;p!==null;){var b=p.next,_=MS(p,s);_===0?(p.next=null,c===null?Xc=b:c.next=b,b===null&&(is=c)):(c=p,(a!==0||(_&3)!==0)&&(Qc=!0)),p=b}Ut!==0&&Ut!==5||Ul(a),Ji!==0&&(Ji=0)}function MS(a,s){for(var c=a.suspendedLanes,p=a.pingedLanes,b=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var N=31-Ln(_),D=1<<N,U=b[N];U===-1?((D&c)===0||(D&p)!==0)&&(b[N]=eM(D,s)):U<=s&&(a.expiredLanes|=D),_&=~D}if(s=ot,c=Be,c=nc(a,a===s?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,c===0||a===s&&(Xe===2||Xe===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Zt(p),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||rl(a,c)){if(s=c&-c,s===a.callbackPriority)return s;switch(p!==null&&Zt(p),Uh(c)){case 2:case 8:c=tl;break;case 32:c=Aa;break;case 268435456:c=Qu;break;default:c=Aa}return p=IS.bind(null,a),c=Ue(c,p),a.callbackPriority=s,a.callbackNode=c,s}return p!==null&&p!==null&&Zt(p),a.callbackPriority=2,a.callbackNode=null,2}function IS(a,s){if(Ut!==0&&Ut!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Jc()&&a.callbackNode!==c)return null;var p=Be;return p=nc(a,a===ot?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(vS(a,p,s),MS(a,tt()),a.callbackNode!=null&&a.callbackNode===c?IS.bind(null,a):null)}function LS(a,s){if(Jc())return null;vS(a,s,!0)}function NI(){qI(function(){(We&6)!==0?Ue(el,CI):DS()})}function Ep(){if(Ji===0){var a=Vo;a===0&&(a=Zu,Zu<<=1,(Zu&261888)===0&&(Zu=256)),Ji=a}return Ji}function US(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:oc(""+a)}function BS(a,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,a.id&&c.setAttribute("form",a.id),s.parentNode.insertBefore(c,s),a=new FormData(a),c.parentNode.removeChild(c),a}function PI(a,s,c,p,b){if(s==="submit"&&c&&c.stateNode===b){var _=US((b[Cn]||null).action),N=p.submitter;N&&(s=(s=N[Cn]||null)?US(s.formAction):N.getAttribute("formAction"),s!==null&&(_=s,N=null));var D=new cc("action","action",null,p,b);a.push({event:D,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ji!==0){var U=N?BS(b,N):new FormData(b);Hm(c,{pending:!0,data:U,method:b.method,action:_},null,U)}}else typeof _=="function"&&(D.preventDefault(),U=N?BS(b,N):new FormData(b),Hm(c,{pending:!0,data:U,method:b.method,action:_},_,U))},currentTarget:b}]})}}for(var Ap=0;Ap<sm.length;Ap++){var Tp=sm[Ap],OI=Tp.toLowerCase(),kI=Tp[0].toUpperCase()+Tp.slice(1);Tr(OI,"on"+kI)}Tr(gw,"onAnimationEnd"),Tr(vw,"onAnimationIteration"),Tr(yw,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(GM,"onTransitionRun"),Tr(WM,"onTransitionStart"),Tr(YM,"onTransitionCancel"),Tr(bw,"onTransitionEnd"),Po("onMouseEnter",["mouseout","mouseover"]),Po("onMouseLeave",["mouseout","mouseover"]),Po("onPointerEnter",["pointerout","pointerover"]),Po("onPointerLeave",["pointerout","pointerover"]),Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function qS(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],b=p.event;p=p.listeners;e:{var _=void 0;if(s)for(var N=p.length-1;0<=N;N--){var D=p[N],U=D.instance,W=D.currentTarget;if(D=D.listener,U!==_&&b.isPropagationStopped())break e;_=D,b.currentTarget=W;try{_(b)}catch(ie){hc(ie)}b.currentTarget=null,_=U}else for(N=0;N<p.length;N++){if(D=p[N],U=D.instance,W=D.currentTarget,D=D.listener,U!==_&&b.isPropagationStopped())break e;_=D,b.currentTarget=W;try{_(b)}catch(ie){hc(ie)}b.currentTarget=null,_=U}}}}function Ie(a,s){var c=s[Bh];c===void 0&&(c=s[Bh]=new Set);var p=a+"__bubble";c.has(p)||($S(s,a,2,!1),c.add(p))}function Cp(a,s,c){var p=0;s&&(p|=4),$S(c,a,p,s)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Np(a){if(!a[Zc]){a[Zc]=!0,Dx.forEach(function(c){c!=="selectionchange"&&(jI.has(c)||Cp(c,!1,a),Cp(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Zc]||(s[Zc]=!0,Cp("selectionchange",!1,s))}}function $S(a,s,c,p){switch(gE(s)){case 2:var b=oL;break;case 8:b=sL;break;default:b=Vp}c=b.bind(null,s,c,a),b=void 0,!Wh||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),p?b!==void 0?a.addEventListener(s,c,{capture:!0,passive:b}):a.addEventListener(s,c,!0):b!==void 0?a.addEventListener(s,c,{passive:b}):a.addEventListener(s,c,!1)}function Pp(a,s,c,p,b){var _=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var D=p.stateNode.containerInfo;if(D===b)break;if(N===4)for(N=p.return;N!==null;){var U=N.tag;if((U===3||U===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;D!==null;){if(N=To(D),N===null)return;if(U=N.tag,U===5||U===6||U===26||U===27){p=_=N;continue e}D=D.parentNode}}p=p.return}Fx(function(){var W=_,ie=Fh(c),se=[];e:{var X=xw.get(a);if(X!==void 0){var ne=cc,pe=a;switch(a){case"keypress":if(lc(c)===0)break e;case"keydown":case"keyup":ne=AM;break;case"focusin":pe="focus",ne=Qh;break;case"focusout":pe="blur",ne=Qh;break;case"beforeblur":case"afterblur":ne=Qh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=hM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=NM;break;case gw:case vw:case yw:ne=gM;break;case bw:ne=OM;break;case"scroll":case"scrollend":ne=dM;break;case"wheel":ne=jM;break;case"copy":case"cut":case"paste":ne=yM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Xx;break;case"toggle":case"beforetoggle":ne=DM}var Pe=(s&4)!==0,it=!Pe&&(a==="scroll"||a==="scrollend"),K=Pe?X!==null?X+"Capture":null:X;Pe=[];for(var $=W,G;$!==null;){var ae=$;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||K===null||(ae=sl($,K),ae!=null&&Pe.push(ql($,ae,G))),it)break;$=$.return}0<Pe.length&&(X=new ne(X,pe,null,c,ie),se.push({event:X,listeners:Pe}))}}if((s&7)===0){e:{if(X=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",X&&c!==Kh&&(pe=c.relatedTarget||c.fromElement)&&(To(pe)||pe[Ao]))break e;if((ne||X)&&(X=ie.window===ie?ie:(X=ie.ownerDocument)?X.defaultView||X.parentWindow:window,ne?(pe=c.relatedTarget||c.toElement,ne=W,pe=pe?To(pe):null,pe!==null&&(it=o(pe),Pe=pe.tag,pe!==it||Pe!==5&&Pe!==27&&Pe!==6)&&(pe=null)):(ne=null,pe=W),ne!==pe)){if(Pe=Yx,ae="onMouseLeave",K="onMouseEnter",$="mouse",(a==="pointerout"||a==="pointerover")&&(Pe=Xx,ae="onPointerLeave",K="onPointerEnter",$="pointer"),it=ne==null?X:ol(ne),G=pe==null?X:ol(pe),X=new Pe(ae,$+"leave",ne,c,ie),X.target=it,X.relatedTarget=G,ae=null,To(ie)===W&&(Pe=new Pe(K,$+"enter",pe,c,ie),Pe.target=G,Pe.relatedTarget=it,ae=Pe),it=ae,ne&&pe)t:{for(Pe=RI,K=ne,$=pe,G=0,ae=K;ae;ae=Pe(ae))G++;ae=0;for(var Te=$;Te;Te=Pe(Te))ae++;for(;0<G-ae;)K=Pe(K),G--;for(;0<ae-G;)$=Pe($),ae--;for(;G--;){if(K===$||$!==null&&K===$.alternate){Pe=K;break t}K=Pe(K),$=Pe($)}Pe=null}else Pe=null;ne!==null&&zS(se,X,ne,Pe,!1),pe!==null&&it!==null&&zS(se,it,pe,Pe,!0)}}e:{if(X=W?ol(W):window,ne=X.nodeName&&X.nodeName.toLowerCase(),ne==="select"||ne==="input"&&X.type==="file")var Ve=aw;else if(rw(X))if(ow)Ve=HM;else{Ve=zM;var be=$M}else ne=X.nodeName,!ne||ne.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&Hh(W.elementType)&&(Ve=aw):Ve=VM;if(Ve&&(Ve=Ve(a,W))){iw(se,Ve,c,ie);break e}be&&be(a,X,W),a==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Vh(X,"number",X.value)}switch(be=W?ol(W):window,a){case"focusin":(rw(be)||be.contentEditable==="true")&&(Mo=be,im=W,pl=null);break;case"focusout":pl=im=Mo=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,mw(se,c,ie);break;case"selectionchange":if(FM)break;case"keydown":case"keyup":mw(se,c,ie)}var De;if(em)e:{switch(a){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Do?tw(a,c)&&(qe="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(qe="onCompositionStart");qe&&(Qx&&c.locale!=="ko"&&(Do||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Do&&(De=Gx()):(Di=ie,Yh="value"in Di?Di.value:Di.textContent,Do=!0)),be=ed(W,qe),0<be.length&&(qe=new Jx(qe,a,null,c,ie),se.push({event:qe,listeners:be}),De?qe.data=De:(De=nw(c),De!==null&&(qe.data=De)))),(De=IM?LM(a,c):UM(a,c))&&(qe=ed(W,"onBeforeInput"),0<qe.length&&(be=new Jx("onBeforeInput","beforeinput",null,c,ie),se.push({event:be,listeners:qe}),be.data=De)),PI(se,a,W,c,ie)}qS(se,s)})}function ql(a,s,c){return{instance:a,listener:s,currentTarget:c}}function ed(a,s){for(var c=s+"Capture",p=[];a!==null;){var b=a,_=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||_===null||(b=sl(a,c),b!=null&&p.unshift(ql(a,b,_)),b=sl(a,s),b!=null&&p.push(ql(a,b,_))),a.tag===3)return p;a=a.return}return[]}function RI(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function zS(a,s,c,p,b){for(var _=s._reactName,N=[];c!==null&&c!==p;){var D=c,U=D.alternate,W=D.stateNode;if(D=D.tag,U!==null&&U===p)break;D!==5&&D!==26&&D!==27||W===null||(U=W,b?(W=sl(c,_),W!=null&&N.unshift(ql(c,W,U))):b||(W=sl(c,_),W!=null&&N.push(ql(c,W,U)))),c=c.return}N.length!==0&&a.push({event:s,listeners:N})}var DI=/\r\n?/g,MI=/\u0000|\uFFFD/g;function VS(a){return(typeof a=="string"?a:""+a).replace(DI,`
`).replace(MI,"")}function HS(a,s){return s=VS(s),VS(a)===s}function rt(a,s,c,p,b,_){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||ko(a,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&ko(a,""+p);break;case"className":ic(a,"class",p);break;case"tabIndex":ic(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":ic(a,c,p);break;case"style":Hx(a,p,_);break;case"data":if(s!=="object"){ic(a,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){a.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=oc(""+p),a.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(c==="formAction"?(s!=="input"&&rt(a,s,"name",b.name,b,null),rt(a,s,"formEncType",b.formEncType,b,null),rt(a,s,"formMethod",b.formMethod,b,null),rt(a,s,"formTarget",b.formTarget,b,null)):(rt(a,s,"encType",b.encType,b,null),rt(a,s,"method",b.method,b,null),rt(a,s,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(c);break}p=oc(""+p),a.setAttribute(c,p);break;case"onClick":p!=null&&(a.onclick=Wr);break;case"onScroll":p!=null&&Ie("scroll",a);break;case"onScrollEnd":p!=null&&Ie("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}c=oc(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""+p):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":p===!0?a.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(c,p):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(c,p):a.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(c):a.setAttribute(c,p);break;case"popover":Ie("beforetoggle",a),Ie("toggle",a),rc(a,"popover",p);break;case"xlinkActuate":Gr(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Gr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Gr(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Gr(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Gr(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Gr(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Gr(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Gr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Gr(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":rc(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=uM.get(c)||c,rc(a,c,p))}}function Op(a,s,c,p,b,_){switch(c){case"style":Hx(a,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof p=="string"?ko(a,p):(typeof p=="number"||typeof p=="bigint")&&ko(a,""+p);break;case"onScroll":p!=null&&Ie("scroll",a);break;case"onScrollEnd":p!=null&&Ie("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mx.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(b=c.endsWith("Capture"),s=c.slice(2,b?c.length-7:void 0),_=a[Cn]||null,_=_!=null?_[c]:null,typeof _=="function"&&a.removeEventListener(s,_,b),typeof p=="function")){typeof _!="function"&&_!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(s,p,b);break e}c in a?a[c]=p:p===!0?a.setAttribute(c,""):rc(a,c,p)}}}function an(a,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",a),Ie("load",a);var p=!1,b=!1,_;for(_ in c)if(c.hasOwnProperty(_)){var N=c[_];if(N!=null)switch(_){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(a,s,_,N,c,null)}}b&&rt(a,s,"srcSet",c.srcSet,c,null),p&&rt(a,s,"src",c.src,c,null);return;case"input":Ie("invalid",a);var D=_=N=b=null,U=null,W=null;for(p in c)if(c.hasOwnProperty(p)){var ie=c[p];if(ie!=null)switch(p){case"name":b=ie;break;case"type":N=ie;break;case"checked":U=ie;break;case"defaultChecked":W=ie;break;case"value":_=ie;break;case"defaultValue":D=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:rt(a,s,p,ie,c,null)}}qx(a,_,D,U,W,N,b,!1);return;case"select":Ie("invalid",a),p=N=_=null;for(b in c)if(c.hasOwnProperty(b)&&(D=c[b],D!=null))switch(b){case"value":_=D;break;case"defaultValue":N=D;break;case"multiple":p=D;default:rt(a,s,b,D,c,null)}s=_,c=N,a.multiple=!!p,s!=null?Oo(a,!!p,s,!1):c!=null&&Oo(a,!!p,c,!0);return;case"textarea":Ie("invalid",a),_=b=p=null;for(N in c)if(c.hasOwnProperty(N)&&(D=c[N],D!=null))switch(N){case"value":p=D;break;case"defaultValue":b=D;break;case"children":_=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:rt(a,s,N,D,c,null)}zx(a,p,b,_);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(p=c[U],p!=null))switch(U){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:rt(a,s,U,p,c,null)}return;case"dialog":Ie("beforetoggle",a),Ie("toggle",a),Ie("cancel",a),Ie("close",a);break;case"iframe":case"object":Ie("load",a);break;case"video":case"audio":for(p=0;p<Bl.length;p++)Ie(Bl[p],a);break;case"image":Ie("error",a),Ie("load",a);break;case"details":Ie("toggle",a);break;case"embed":case"source":case"link":Ie("error",a),Ie("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in c)if(c.hasOwnProperty(W)&&(p=c[W],p!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(a,s,W,p,c,null)}return;default:if(Hh(s)){for(ie in c)c.hasOwnProperty(ie)&&(p=c[ie],p!==void 0&&Op(a,s,ie,p,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(p=c[D],p!=null&&rt(a,s,D,p,c,null))}function II(a,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,_=null,N=null,D=null,U=null,W=null,ie=null;for(ne in c){var se=c[ne];if(c.hasOwnProperty(ne)&&se!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=se;default:p.hasOwnProperty(ne)||rt(a,s,ne,null,p,se)}}for(var X in p){var ne=p[X];if(se=c[X],p.hasOwnProperty(X)&&(ne!=null||se!=null))switch(X){case"type":_=ne;break;case"name":b=ne;break;case"checked":W=ne;break;case"defaultChecked":ie=ne;break;case"value":N=ne;break;case"defaultValue":D=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ne!==se&&rt(a,s,X,ne,p,se)}}zh(a,N,D,U,W,ie,_,b);return;case"select":ne=N=D=X=null;for(_ in c)if(U=c[_],c.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":ne=U;default:p.hasOwnProperty(_)||rt(a,s,_,null,p,U)}for(b in p)if(_=p[b],U=c[b],p.hasOwnProperty(b)&&(_!=null||U!=null))switch(b){case"value":X=_;break;case"defaultValue":D=_;break;case"multiple":N=_;default:_!==U&&rt(a,s,b,_,p,U)}s=D,c=N,p=ne,X!=null?Oo(a,!!c,X,!1):!!p!=!!c&&(s!=null?Oo(a,!!c,s,!0):Oo(a,!!c,c?[]:"",!1));return;case"textarea":ne=X=null;for(D in c)if(b=c[D],c.hasOwnProperty(D)&&b!=null&&!p.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:rt(a,s,D,null,p,b)}for(N in p)if(b=p[N],_=c[N],p.hasOwnProperty(N)&&(b!=null||_!=null))switch(N){case"value":X=b;break;case"defaultValue":ne=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==_&&rt(a,s,N,b,p,_)}$x(a,X,ne);return;case"option":for(var pe in c)if(X=c[pe],c.hasOwnProperty(pe)&&X!=null&&!p.hasOwnProperty(pe))switch(pe){case"selected":a.selected=!1;break;default:rt(a,s,pe,null,p,X)}for(U in p)if(X=p[U],ne=c[U],p.hasOwnProperty(U)&&X!==ne&&(X!=null||ne!=null))switch(U){case"selected":a.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:rt(a,s,U,X,p,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in c)X=c[Pe],c.hasOwnProperty(Pe)&&X!=null&&!p.hasOwnProperty(Pe)&&rt(a,s,Pe,null,p,X);for(W in p)if(X=p[W],ne=c[W],p.hasOwnProperty(W)&&X!==ne&&(X!=null||ne!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:rt(a,s,W,X,p,ne)}return;default:if(Hh(s)){for(var it in c)X=c[it],c.hasOwnProperty(it)&&X!==void 0&&!p.hasOwnProperty(it)&&Op(a,s,it,void 0,p,X);for(ie in p)X=p[ie],ne=c[ie],!p.hasOwnProperty(ie)||X===ne||X===void 0&&ne===void 0||Op(a,s,ie,X,p,ne);return}}for(var K in c)X=c[K],c.hasOwnProperty(K)&&X!=null&&!p.hasOwnProperty(K)&&rt(a,s,K,null,p,X);for(se in p)X=p[se],ne=c[se],!p.hasOwnProperty(se)||X===ne||X==null&&ne==null||rt(a,s,se,X,p,ne)}function KS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LI(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var b=c[p],_=b.transferSize,N=b.initiatorType,D=b.duration;if(_&&D&&KS(N)){for(N=0,D=b.responseEnd,p+=1;p<c.length;p++){var U=c[p],W=U.startTime;if(W>D)break;var ie=U.transferSize,se=U.initiatorType;ie&&KS(se)&&(U=U.responseEnd,N+=ie*(U<D?1:(D-W)/(U-W)))}if(--p,s+=8*(_+N)/(b.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var kp=null,jp=null;function td(a){return a.nodeType===9?a:a.ownerDocument}function FS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GS(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Rp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dp=null;function UI(){var a=window.event;return a&&a.type==="popstate"?a===Dp?!1:(Dp=a,!0):(Dp=null,!1)}var WS=typeof setTimeout=="function"?setTimeout:void 0,BI=typeof clearTimeout=="function"?clearTimeout:void 0,YS=typeof Promise=="function"?Promise:void 0,qI=typeof queueMicrotask=="function"?queueMicrotask:typeof YS<"u"?function(a){return YS.resolve(null).then(a).catch($I)}:WS;function $I(a){setTimeout(function(){throw a})}function Xi(a){return a==="head"}function JS(a,s){var c=s,p=0;do{var b=c.nextSibling;if(a.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"||c==="/&"){if(p===0){a.removeChild(b),ls(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")$l(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,$l(c);for(var _=c.firstChild;_;){var N=_.nextSibling,D=_.nodeName;_[al]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&_.rel.toLowerCase()==="stylesheet"||c.removeChild(_),_=N}}else c==="body"&&$l(a.ownerDocument.body);c=b}while(c);ls(s)}function XS(a,s){var c=a;a=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=p}while(c)}function Mp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Mp(c),qh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function zI(a,s,c,p){for(;a.nodeType===1;){var b=c;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[al])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=dr(a.nextSibling),a===null)break}return null}function VI(a,s,c){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=dr(a.nextSibling),a===null))return null;return a}function QS(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=dr(a.nextSibling),a===null))return null;return a}function Ip(a){return a.data==="$?"||a.data==="$~"}function Lp(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function HI(a,s){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function dr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var Up=null;function ZS(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(s===0)return dr(a.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}a=a.nextSibling}return null}function eE(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return a;s--}else c!=="/$"&&c!=="/&"||s++}a=a.previousSibling}return null}function tE(a,s,c){switch(s=td(c),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function $l(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);qh(a)}var fr=new Map,nE=new Set;function nd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ci=F.d;F.d={f:KI,r:FI,D:GI,C:WI,L:YI,m:JI,X:QI,S:XI,M:ZI};function KI(){var a=ci.f(),s=Gc();return a||s}function FI(a){var s=Co(a);s!==null&&s.tag===5&&s.type==="form"?b_(s):ci.r(a)}var as=typeof document>"u"?null:document;function rE(a,s,c){var p=as;if(p&&typeof s=="string"&&s){var b=ir(s);b='link[rel="'+a+'"][href="'+b+'"]',typeof c=="string"&&(b+='[crossorigin="'+c+'"]'),nE.has(b)||(nE.add(b),a={rel:a,crossOrigin:c,href:s},p.querySelector(b)===null&&(s=p.createElement("link"),an(s,"link",a),Wt(s),p.head.appendChild(s)))}}function GI(a){ci.D(a),rE("dns-prefetch",a,null)}function WI(a,s){ci.C(a,s),rE("preconnect",a,s)}function YI(a,s,c){ci.L(a,s,c);var p=as;if(p&&a&&s){var b='link[rel="preload"][as="'+ir(s)+'"]';s==="image"&&c&&c.imageSrcSet?(b+='[imagesrcset="'+ir(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(b+='[imagesizes="'+ir(c.imageSizes)+'"]')):b+='[href="'+ir(a)+'"]';var _=b;switch(s){case"style":_=os(a);break;case"script":_=ss(a)}fr.has(_)||(a=g({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:a,as:s},c),fr.set(_,a),p.querySelector(b)!==null||s==="style"&&p.querySelector(zl(_))||s==="script"&&p.querySelector(Vl(_))||(s=p.createElement("link"),an(s,"link",a),Wt(s),p.head.appendChild(s)))}}function JI(a,s){ci.m(a,s);var c=as;if(c&&a){var p=s&&typeof s.as=="string"?s.as:"script",b='link[rel="modulepreload"][as="'+ir(p)+'"][href="'+ir(a)+'"]',_=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ss(a)}if(!fr.has(_)&&(a=g({rel:"modulepreload",href:a},s),fr.set(_,a),c.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Vl(_)))return}p=c.createElement("link"),an(p,"link",a),Wt(p),c.head.appendChild(p)}}}function XI(a,s,c){ci.S(a,s,c);var p=as;if(p&&a){var b=No(p).hoistableStyles,_=os(a);s=s||"default";var N=b.get(_);if(!N){var D={loading:0,preload:null};if(N=p.querySelector(zl(_)))D.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":s},c),(c=fr.get(_))&&Bp(a,c);var U=N=p.createElement("link");Wt(U),an(U,"link",a),U._p=new Promise(function(W,ie){U.onload=W,U.onerror=ie}),U.addEventListener("load",function(){D.loading|=1}),U.addEventListener("error",function(){D.loading|=2}),D.loading|=4,rd(N,s,p)}N={type:"stylesheet",instance:N,count:1,state:D},b.set(_,N)}}}function QI(a,s){ci.X(a,s);var c=as;if(c&&a){var p=No(c).hoistableScripts,b=ss(a),_=p.get(b);_||(_=c.querySelector(Vl(b)),_||(a=g({src:a,async:!0},s),(s=fr.get(b))&&qp(a,s),_=c.createElement("script"),Wt(_),an(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function ZI(a,s){ci.M(a,s);var c=as;if(c&&a){var p=No(c).hoistableScripts,b=ss(a),_=p.get(b);_||(_=c.querySelector(Vl(b)),_||(a=g({src:a,async:!0,type:"module"},s),(s=fr.get(b))&&qp(a,s),_=c.createElement("script"),Wt(_),an(_,"link",a),c.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(b,_))}}function iE(a,s,c,p){var b=(b=Se.current)?nd(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=os(c.href),c=No(b).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=os(c.href);var _=No(b).hoistableStyles,N=_.get(a);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,N),(_=b.querySelector(zl(a)))&&!_._p&&(N.instance=_,N.state.loading=5),fr.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},fr.set(a,c),_||eL(b,a,c,N.state))),s&&p===null)throw Error(r(528,""));return N}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ss(c),c=No(b).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function os(a){return'href="'+ir(a)+'"'}function zl(a){return'link[rel="stylesheet"]['+a+"]"}function aE(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function eL(a,s,c,p){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=a.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),an(s,"link",c),Wt(s),a.head.appendChild(s))}function ss(a){return'[src="'+ir(a)+'"]'}function Vl(a){return"script[async]"+a}function oE(a,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=a.querySelector('style[data-href~="'+ir(c.href)+'"]');if(p)return s.instance=p,Wt(p),p;var b=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),Wt(p),an(p,"style",b),rd(p,c.precedence,a),s.instance=p;case"stylesheet":b=os(c.href);var _=a.querySelector(zl(b));if(_)return s.state.loading|=4,s.instance=_,Wt(_),_;p=aE(c),(b=fr.get(b))&&Bp(p,b),_=(a.ownerDocument||a).createElement("link"),Wt(_);var N=_;return N._p=new Promise(function(D,U){N.onload=D,N.onerror=U}),an(_,"link",p),s.state.loading|=4,rd(_,c.precedence,a),s.instance=_;case"script":return _=ss(c.src),(b=a.querySelector(Vl(_)))?(s.instance=b,Wt(b),b):(p=c,(b=fr.get(_))&&(p=g({},c),qp(p,b)),a=a.ownerDocument||a,b=a.createElement("script"),Wt(b),an(b,"link",p),a.head.appendChild(b),s.instance=b);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,rd(p,c.precedence,a));return s.instance}function rd(a,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,_=b,N=0;N<p.length;N++){var D=p[N];if(D.dataset.precedence===s)_=D;else if(_!==b)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(a,s.firstChild))}function Bp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function qp(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var id=null;function sE(a,s,c){if(id===null){var p=new Map,b=id=new Map;b.set(c,p)}else b=id,p=b.get(c),p||(p=new Map,b.set(c,p));if(p.has(a))return p;for(p.set(a,null),c=c.getElementsByTagName(a),b=0;b<c.length;b++){var _=c[b];if(!(_[al]||_[en]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var N=_.getAttribute(s)||"";N=a+N;var D=p.get(N);D?D.push(_):p.set(N,[_])}}return p}function lE(a,s,c){a=a.ownerDocument||a,a.head.insertBefore(c,s==="title"?a.querySelector("head > title"):null)}function tL(a,s,c){if(c===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function uE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function nL(a,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=os(p.href),_=s.querySelector(zl(b));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=ad.bind(a),s.then(a,a)),c.state.loading|=4,c.instance=_,Wt(_);return}_=s.ownerDocument||s,p=aE(p),(b=fr.get(b))&&Bp(p,b),_=_.createElement("link"),Wt(_);var N=_;N._p=new Promise(function(D,U){N.onload=D,N.onerror=U}),an(_,"link",p),c.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=ad.bind(a),s.addEventListener("load",c),s.addEventListener("error",c))}}var $p=0;function rL(a,s){return a.stylesheets&&a.count===0&&sd(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var p=setTimeout(function(){if(a.stylesheets&&sd(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&$p===0&&($p=62500*LI());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&sd(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>$p?50:800)+s);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function ad(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var od=null;function sd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,od=new Map,s.forEach(iL,a),od=null,ad.call(a))}function iL(a,s){if(!(s.state.loading&4)){var c=od.get(a);if(c)var p=c.get(null);else{c=new Map,od.set(a,c);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<b.length;_++){var N=b[_];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),p=N)}p&&c.set(null,p)}b=s.instance,N=b.getAttribute("data-precedence"),_=c.get(N)||p,_===p&&c.set(null,b),c.set(N,b),this.count++,p=ad.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),_?_.parentNode.insertBefore(b,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),s.state.loading|=4}}var Hl={$$typeof:O,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function aL(a,s,c,p,b,_,N,D,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ih(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ih(0),this.hiddenUpdates=Ih(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=_,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function cE(a,s,c,p,b,_,N,D,U,W,ie,se){return a=new aL(a,s,c,N,U,W,ie,se,D),s=1,_===!0&&(s|=24),_=Bn(3,null,null,s),a.current=_,_.stateNode=a,s=xm(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:p,isDehydrated:c,cache:s},Em(_),a}function dE(a){return a?(a=Uo,a):Uo}function fE(a,s,c,p,b,_){b=dE(b),p.context===null?p.context=b:p.pendingContext=b,p=qi(s),p.payload={element:c},_=_===void 0?null:_,_!==null&&(p.callback=_),c=$i(a,p,s),c!==null&&(Rn(c,a,s),_l(c,a,s))}function hE(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function zp(a,s){hE(a,s),(a=a.alternate)&&hE(a,s)}function mE(a){if(a.tag===13||a.tag===31){var s=ka(a,67108864);s!==null&&Rn(s,a,67108864),zp(a,67108864)}}function pE(a){if(a.tag===13||a.tag===31){var s=Hn();s=Lh(s);var c=ka(a,s);c!==null&&Rn(c,a,s),zp(a,s)}}var ld=!0;function oL(a,s,c,p){var b=B.T;B.T=null;var _=F.p;try{F.p=2,Vp(a,s,c,p)}finally{F.p=_,B.T=b}}function sL(a,s,c,p){var b=B.T;B.T=null;var _=F.p;try{F.p=8,Vp(a,s,c,p)}finally{F.p=_,B.T=b}}function Vp(a,s,c,p){if(ld){var b=Hp(p);if(b===null)Pp(a,s,p,ud,c),vE(a,p);else if(uL(b,a,s,c,p))p.stopPropagation();else if(vE(a,p),s&4&&-1<lL.indexOf(a)){for(;b!==null;){var _=Co(b);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var N=Ta(_.pendingLanes);if(N!==0){var D=_;for(D.pendingLanes|=2,D.entangledLanes|=2;N;){var U=1<<31-Ln(N);D.entanglements[1]|=U,N&=~U}$r(_),(We&6)===0&&(Kc=tt()+500,Ul(0))}}break;case 31:case 13:D=ka(_,2),D!==null&&Rn(D,_,2),Gc(),zp(_,2)}if(_=Hp(p),_===null&&Pp(a,s,p,ud,c),_===b)break;b=_}b!==null&&p.stopPropagation()}else Pp(a,s,p,null,c)}}function Hp(a){return a=Fh(a),Kp(a)}var ud=null;function Kp(a){if(ud=null,a=To(a),a!==null){var s=o(a);if(s===null)a=null;else{var c=s.tag;if(c===13){if(a=l(s),a!==null)return a;a=null}else if(c===31){if(a=u(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return ud=a,null}function gE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ar()){case el:return 2;case tl:return 8;case Aa:case Mh:return 32;case Qu:return 268435456;default:return 32}default:return 32}}var Fp=!1,Qi=null,Zi=null,ea=null,Kl=new Map,Fl=new Map,ta=[],lL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vE(a,s){switch(a){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(s.pointerId)}}function Gl(a,s,c,p,b,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[b]},s!==null&&(s=Co(s),s!==null&&mE(s)),a):(a.eventSystemFlags|=p,s=a.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),a)}function uL(a,s,c,p,b){switch(s){case"focusin":return Qi=Gl(Qi,a,s,c,p,b),!0;case"dragenter":return Zi=Gl(Zi,a,s,c,p,b),!0;case"mouseover":return ea=Gl(ea,a,s,c,p,b),!0;case"pointerover":var _=b.pointerId;return Kl.set(_,Gl(Kl.get(_)||null,a,s,c,p,b)),!0;case"gotpointercapture":return _=b.pointerId,Fl.set(_,Gl(Fl.get(_)||null,a,s,c,p,b)),!0}return!1}function yE(a){var s=To(a.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){a.blockedOn=s,jx(a.priority,function(){pE(c)});return}}else if(s===31){if(s=u(c),s!==null){a.blockedOn=s,jx(a.priority,function(){pE(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function cd(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Hp(a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);Kh=p,c.target.dispatchEvent(p),Kh=null}else return s=Co(c),s!==null&&mE(s),a.blockedOn=c,!1;s.shift()}return!0}function bE(a,s,c){cd(a)&&c.delete(s)}function cL(){Fp=!1,Qi!==null&&cd(Qi)&&(Qi=null),Zi!==null&&cd(Zi)&&(Zi=null),ea!==null&&cd(ea)&&(ea=null),Kl.forEach(bE),Fl.forEach(bE)}function dd(a,s){a.blockedOn===s&&(a.blockedOn=null,Fp||(Fp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,cL)))}var fd=null;function xE(a){fd!==a&&(fd=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fd===a&&(fd=null);for(var s=0;s<a.length;s+=3){var c=a[s],p=a[s+1],b=a[s+2];if(typeof p!="function"){if(Kp(p||c)===null)continue;break}var _=Co(c);_!==null&&(a.splice(s,3),s-=3,Hm(_,{pending:!0,data:b,method:c.method,action:p},p,b))}}))}function ls(a){function s(U){return dd(U,a)}Qi!==null&&dd(Qi,a),Zi!==null&&dd(Zi,a),ea!==null&&dd(ea,a),Kl.forEach(s),Fl.forEach(s);for(var c=0;c<ta.length;c++){var p=ta[c];p.blockedOn===a&&(p.blockedOn=null)}for(;0<ta.length&&(c=ta[0],c.blockedOn===null);)yE(c),c.blockedOn===null&&ta.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var b=c[p],_=c[p+1],N=b[Cn]||null;if(typeof _=="function")N||xE(c);else if(N){var D=null;if(_&&_.hasAttribute("formAction")){if(b=_,N=_[Cn]||null)D=N.formAction;else if(Kp(b)!==null)continue}else D=N.action;typeof D=="function"?c[p+1]=D:(c.splice(p,3),p-=3),xE(c)}}}function wE(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(N){return b=N})},focusReset:"manual",scroll:"manual"})}function s(){b!==null&&(b(),b=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),b!==null&&(b(),b=null)}}}function Gp(a){this._internalRoot=a}hd.prototype.render=Gp.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Hn();fE(c,p,a,s,null,null)},hd.prototype.unmount=Gp.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;fE(a.current,2,null,a,null,null),Gc(),s[Ao]=null}};function hd(a){this._internalRoot=a}hd.prototype.unstable_scheduleHydration=function(a){if(a){var s=kx();a={blockedOn:null,target:a,priority:s};for(var c=0;c<ta.length&&s!==0&&s<ta[c].priority;c++);ta.splice(c,0,a),c===0&&yE(a)}};var _E=t.version;if(_E!=="19.2.0")throw Error(r(527,_E,"19.2.0"));F.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var dL={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{nl=md.inject(dL),In=md}catch{}}return Yl.createRoot=function(a,s){if(!i(a))throw Error(r(299));var c=!1,p="",b=P_,_=O_,N=k_;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(b=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=cE(a,1,!1,null,null,c,p,null,b,_,N,wE),a[Ao]=s.current,Np(a),new Gp(s)},Yl.hydrateRoot=function(a,s,c){if(!i(a))throw Error(r(299));var p=!1,b="",_=P_,N=O_,D=k_,U=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),s=cE(a,1,!0,s,c??null,p,b,U,_,N,D,wE),s.context=dE(null),c=s.current,p=Hn(),p=Lh(p),b=qi(p),b.callback=null,$i(c,b,p),c=p,s.current.lanes=c,il(s,c),$r(s),a[Ao]=s.current,Np(a),new hd(s)},Yl.version="19.2.0",Yl}var jE;function EL(){if(jE)return Xp.exports;jE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xp.exports=SL(),Xp.exports}var AL=EL();const TL=Mr(AL);var Vv=function(e,t){return Vv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vv(e,t)};function M2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Vv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Gd=function(){return Gd=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Gd.apply(this,arguments)};function Ls(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function I2(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(l=e[u])&&(o=(i<3?l(o):i>3?l(t,n,o):l(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function L2(e,t){return function(n,r){t(n,r,e)}}function U2(e,t,n,r,i,o){function l(C){if(C!==void 0&&typeof C!="function")throw new TypeError("Function expected");return C}for(var u=r.kind,f=u==="getter"?"get":u==="setter"?"set":"value",d=!t&&e?r.static?e:e.prototype:null,h=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g,v=!1,x=n.length-1;x>=0;x--){var S={};for(var E in r)S[E]=E==="access"?{}:r[E];for(var E in r.access)S.access[E]=r.access[E];S.addInitializer=function(C){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(C||null))};var T=(0,n[x])(u==="accessor"?{get:h.get,set:h.set}:h[f],S);if(u==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(g=l(T.get))&&(h.get=g),(g=l(T.set))&&(h.set=g),(g=l(T.init))&&i.unshift(g)}else(g=l(T))&&(u==="field"?i.unshift(g):h[f]=g)}d&&Object.defineProperty(d,r.name,h),v=!0}function B2(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function q2(e){return typeof e=="symbol"?e:"".concat(e)}function $2(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function z2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function xe(e,t,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function u(h){try{d(r.next(h))}catch(g){l(g)}}function f(h){try{d(r.throw(h))}catch(g){l(g)}}function d(h){h.done?o(h.value):i(h.value).then(u,f)}d((r=r.apply(e,t||[])).next())})}function V2(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(d){return function(h){return f([d,h])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var Kf=Object.create?(function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}):(function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]});function H2(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Kf(t,e,n)}function Wd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s0(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],l;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){l={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function K2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s0(arguments[t]));return e}function F2(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],l=0,u=o.length;l<u;l++,i++)r[i]=o[l];return r}function G2(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Ts(e){return this instanceof Ts?(this.v=e,this):new Ts(e)}function W2(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(x){return function(S){return Promise.resolve(S).then(x,g)}}function u(x,S){r[x]&&(i[x]=function(E){return new Promise(function(T,C){o.push([x,E,T,C])>1||f(x,E)})},S&&(i[x]=S(i[x])))}function f(x,S){try{d(r[x](S))}catch(E){v(o[0][3],E)}}function d(x){x.value instanceof Ts?Promise.resolve(x.value.v).then(h,g):v(o[0][2],x)}function h(x){f("next",x)}function g(x){f("throw",x)}function v(x,S){x(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function Y2(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,o){t[i]=e[i]?function(l){return(n=!n)?{value:Ts(e[i](l)),done:!1}:o?o(l):l}:o}}function J2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Wd=="function"?Wd(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,f){l=e[o](l),i(u,f,l.done,l.value)})}}function i(o,l,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},l)}}function X2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var CL=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},Hv=function(e){return Hv=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},Hv(e)};function Q2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=Hv(e),r=0;r<n.length;r++)n[r]!=="default"&&Kf(t,e,n[r]);return CL(t,e),t}function Z2(e){return e&&e.__esModule?e:{default:e}}function eP(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function tP(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n}function nP(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function rP(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var NL=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function iP(e){function t(o){e.error=e.hasError?new NL(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var n,r=0;function i(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(i);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(o).then(i,function(l){return t(l),i()})}else r|=1}catch(l){t(l)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function aP(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,o,l){return r?t?".jsx":".js":i&&(!o||!l)?n:i+o+"."+l.toLowerCase()+"js"}):e}const PL={__extends:M2,__assign:Gd,__rest:Ls,__decorate:I2,__param:L2,__esDecorate:U2,__runInitializers:B2,__propKey:q2,__setFunctionName:$2,__metadata:z2,__awaiter:xe,__generator:V2,__createBinding:Kf,__exportStar:H2,__values:Wd,__read:s0,__spread:K2,__spreadArrays:F2,__spreadArray:G2,__await:Ts,__asyncGenerator:W2,__asyncDelegator:Y2,__asyncValues:J2,__makeTemplateObject:X2,__importStar:Q2,__importDefault:Z2,__classPrivateFieldGet:eP,__classPrivateFieldSet:tP,__classPrivateFieldIn:nP,__addDisposableResource:rP,__disposeResources:iP,__rewriteRelativeImportExtension:aP},OL=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rP,get __assign(){return Gd},__asyncDelegator:Y2,__asyncGenerator:W2,__asyncValues:J2,__await:Ts,__awaiter:xe,__classPrivateFieldGet:eP,__classPrivateFieldIn:nP,__classPrivateFieldSet:tP,__createBinding:Kf,__decorate:I2,__disposeResources:iP,__esDecorate:U2,__exportStar:H2,__extends:M2,__generator:V2,__importDefault:Z2,__importStar:Q2,__makeTemplateObject:X2,__metadata:z2,__param:L2,__propKey:q2,__read:s0,__rest:Ls,__rewriteRelativeImportExtension:aP,__runInitializers:B2,__setFunctionName:$2,__spread:K2,__spreadArray:G2,__spreadArrays:F2,__values:Wd,default:PL},Symbol.toStringTag,{value:"Module"})),kL="modulepreload",jL=function(e){return"/"+e},RE={},Us=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),f=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(n.map(d=>{if(d=jL(d),d in RE)return;RE[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":kL,h||(v.as="script"),v.crossOrigin="",v.href=d,f&&v.setAttribute("nonce",f),document.head.appendChild(v),h)return new Promise((x,S)=>{v.addEventListener("load",x),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},RL=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>wo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class l0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class DE extends l0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ME extends l0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class IE extends l0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kv||(Kv={}));class DL{constructor(t,{headers:n={},customFetch:r,region:i=Kv.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=RL(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xe(this,arguments,void 0,function*(n,r={}){var i;try{const{headers:o,method:l,body:u,signal:f}=r;let d={},{region:h}=r;h||(h=this.region);const g=new URL(`${this.url}/${n}`);h&&h!=="any"&&(d["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(d["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(d["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;const x=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:v,signal:f}).catch(C=>{throw C.name==="AbortError"?C:new DE(C)}),S=x.headers.get("x-relay-error");if(S&&S==="true")throw new ME(x);if(!x.ok)throw new IE(x);let E=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return E==="application/json"?T=yield x.json():E==="application/octet-stream"||E==="application/pdf"?T=yield x.blob():E==="text/event-stream"?T=x:E==="multipart/form-data"?T=yield x.formData():T=yield x.text(),{data:T,error:null,response:x}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new DE(o)}:{data:null,error:o,response:o instanceof IE||o instanceof ME?o.context:void 0}}})}}var fn={};const Bs=j2(OL);var pd={},gd={},vd={},yd={},bd={},ML=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Cs=ML();const IL=Cs.fetch,oP=Cs.fetch.bind(Cs),sP=Cs.Headers,LL=Cs.Request,UL=Cs.Response,wo=Object.freeze(Object.defineProperty({__proto__:null,Headers:sP,Request:LL,Response:UL,default:oP,fetch:IL},Symbol.toStringTag,{value:"Module"})),BL=j2(wo);var xd={},LE;function lP(){if(LE)return xd;LE=1,Object.defineProperty(xd,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return xd.default=e,xd}var UE;function uP(){if(UE)return bd;UE=1,Object.defineProperty(bd,"__esModule",{value:!0});const e=Bs,t=e.__importDefault(BL),n=e.__importDefault(lP());class r{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,g,v,x;let S=null,E=null,T=null,C=d.status,P=d.statusText;if(d.ok){if(this.method!=="HEAD"){const j=await d.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?E=j:E=JSON.parse(j))}const R=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),k=(v=d.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&k&&k.length>1&&(T=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,T=null,C=406,P="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const R=await d.text();try{S=JSON.parse(R),Array.isArray(S)&&d.status===404&&(E=[],S=null,C=200,P="OK")}catch{d.status===404&&R===""?(C=204,P="No Content"):S={message:R}}if(S&&this.isMaybeSingle&&(!((x=S==null?void 0:S.details)===null||x===void 0)&&x.includes("0 rows"))&&(S=null,C=200,P="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:E,count:T,status:C,statusText:P}});return this.shouldThrowOnError||(f=f.catch(d=>{var h,g,v;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(g=d==null?void 0:d.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(v=d==null?void 0:d.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return bd.default=r,bd}var BE;function cP(){if(BE)return yd;BE=1,Object.defineProperty(yd,"__esModule",{value:!0});const t=Bs.__importDefault(uP());class n extends t.default{select(i){let o=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const d=f?`${f}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:d="text"}={}){var h;const g=[i?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return yd.default=n,yd}var qE;function u0(){if(qE)return vd;qE=1,Object.defineProperty(vd,"__esModule",{value:!0});const t=Bs.__importDefault(cP());class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return vd.default=n,vd}var $E;function dP(){if($E)return gd;$E=1,Object.defineProperty(gd,"__esModule",{value:!0});const t=Bs.__importDefault(u0());class n{constructor(i,{headers:o={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(i,o){const{head:l=!1,count:u}=o??{},f=l?"HEAD":"GET";let d=!1;const h=(i??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",h),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:l=!0}={}){var u;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(d.length>0){const h=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,x)=>v.concat(Object.keys(x)),[]);if(g.length>0){const v=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var o;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return gd.default=n,gd}var zE;function qL(){if(zE)return pd;zE=1,Object.defineProperty(pd,"__esModule",{value:!0});const e=Bs,t=e.__importDefault(dP()),n=e.__importDefault(u0());class r{constructor(o,{headers:l={},schema:u,fetch:f}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:f=!1,count:d}={}){var h;let g;const v=new URL(`${this.url}/rpc/${o}`);let x;u||f?(g=u?"HEAD":"GET",Object.entries(l).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{v.searchParams.append(E,T)})):(g="POST",x=l);const S=new Headers(this.headers);return d&&S.set("Prefer",`count=${d}`),new n.default({method:g,url:v,headers:S,schema:this.schemaName,body:x,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return pd.default=r,pd}var VE;function $L(){if(VE)return fn;VE=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.PostgrestError=fn.PostgrestBuilder=fn.PostgrestTransformBuilder=fn.PostgrestFilterBuilder=fn.PostgrestQueryBuilder=fn.PostgrestClient=void 0;const e=Bs,t=e.__importDefault(qL());fn.PostgrestClient=t.default;const n=e.__importDefault(dP());fn.PostgrestQueryBuilder=n.default;const r=e.__importDefault(u0());fn.PostgrestFilterBuilder=r.default;const i=e.__importDefault(cP());fn.PostgrestTransformBuilder=i.default;const o=e.__importDefault(uP());fn.PostgrestBuilder=o.default;const l=e.__importDefault(lP());return fn.PostgrestError=l.default,fn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:o.default,PostgrestError:l.default},fn}var zL=$L();const VL=Mr(zL),{PostgrestClient:HL,PostgrestQueryBuilder:Mie,PostgrestFilterBuilder:Iie,PostgrestTransformBuilder:Lie,PostgrestBuilder:Uie,PostgrestError:Bie}=VL;class KL{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const FL="2.76.1",GL=`realtime-js/${FL}`,WL="1.0.0",Fv=1e4,YL=1e3,JL=100;var uu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(uu||(uu={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var kr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kr||(kr={}));var Gv;(function(e){e.websocket="websocket"})(Gv||(Gv={}));var Ja;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ja||(Ja={}));class XL{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(t.slice(l,l+i));l=l+i;const f=r.decode(t.slice(l,l+o));l=l+o;const d=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:u,event:f,payload:d}}}class fP{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const HE=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,l)=>(o[l]=QL(l,e,t,i),o),{}):{}},QL=(e,t,n,r)=>{const i=t.find(u=>u.name===e),o=i==null?void 0:i.type,l=n[e];return o&&!r.includes(o)?hP(o,l):Wv(l)},hP=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return nU(t,n)}switch(e){case lt.bool:return ZL(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return eU(t);case lt.json:case lt.jsonb:return tU(t);case lt.timestamp:return rU(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return Wv(t);default:return Wv(t)}},Wv=e=>e,ZL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eU=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tU=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},nU=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const l=e.slice(1,n);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>hP(t,u))}return e},rU=e=>typeof e=="string"?e.replace(" ","T"):e,mP=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class tg{constructor(t,n,r={},i=Fv){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var KE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(KE||(KE={}));class cu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cu.syncState(this.state,i,o,l),this.pendingDiffs.forEach(f=>{this.state=cu.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=cu.syncDiff(this.state,i,o,l),u())}),this.onJoin((i,o,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:l})}),this.onLeave((i,o,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),l=this.transformState(n),u={},f={};return this.map(o,(d,h)=>{l[d]||(f[d]=h)}),this.map(l,(d,h)=>{const g=o[d];if(g){const v=h.map(T=>T.presence_ref),x=g.map(T=>T.presence_ref),S=h.filter(T=>x.indexOf(T.presence_ref)<0),E=g.filter(T=>v.indexOf(T.presence_ref)<0);S.length>0&&(u[d]=S),E.length>0&&(f[d]=E)}else u[d]=h}),this.syncDiff(o,{joins:u,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(u,f)=>{var d;const h=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(f),h.length>0){const g=t[u].map(x=>x.presence_ref),v=h.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...v)}r(u,h,f)}),this.map(l,(u,f)=>{let d=t[u];if(!d)return;const h=f.map(g=>g.presence_ref);d=d.filter(g=>h.indexOf(g.presence_ref)<0),t[u]=d,i(u,d,f),d.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var FE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(FE||(FE={}));var du;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(du||(du={}));var di;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(di||(di={}));class c0{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new tg(this,kr.join,this.params,this.timeout),this.rejoinTimer=new fP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new cu(this),this.broadcastEndpointURL=mP(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[du.PRESENCE]&&this.bindings[du.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(di.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(di.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var S;if(this.socket.setAuth(),x===void 0){t==null||t(di.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,C=[];for(let P=0;P<T;P++){const O=E[P],{filter:{event:R,schema:k,table:j,filter:M}}=O,V=x&&x[P];if(V&&V.event===R&&V.schema===k&&V.table===j&&V.filter===M)C.push(Object.assign(Object.assign({},O),{id:V.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(di.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(di.SUBSCRIBED);return}}).receive("error",x=>{this.state=Bt.errored,t==null||t(di.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(di.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Bt.joined&&t===du.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const d=await u.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=t,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,f;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new tg(this,kr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new tg(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>JL){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:d,join:h}=kr;if(r&&[u,f,d,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var S,E,T;return((S=x.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=x.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(x=>x.callback(v,r)):(o=this.bindings[l])===null||o===void 0||o.filter(x=>{var S,E,T,C,P,O;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const R=x.id,k=(S=x.filter)===null||S===void 0?void 0:S.event;return R&&((E=n.ids)===null||E===void 0?void 0:E.includes(R))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const R=(P=(C=x==null?void 0:x.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return R==="*"||R===((O=n==null?void 0:n.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:E,table:T,commit_timestamp:C,type:P,errors:O}=S;v=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:C,eventType:P,new:{},old:{},errors:O}),this._getPayloadRecords(S))}x.callback(v,r)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&c0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kr.close,{},t)}_onError(t){this._on(kr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=HE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=HE(t.columns,t.old_record)),n}}const ng=()=>{},wd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iU=[1e3,2e3,5e3,1e4],aU=1e4,oU=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sU{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fv,this.transport=null,this.heartbeatIntervalMs=wd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ng,this.ref=0,this.reconnectTimer=null,this.logger=ng,this.conn=null,this.sendBuffer=[],this.serializer=new XL,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Us(async()=>{const{default:u}=await Promise.resolve().then(()=>wo);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Gv.websocket}`,this.httpEndpoint=mP(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KL.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:WL}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case uu.connecting:return Ja.Connecting;case uu.open:return Ja.Open;case uu.closing:return Ja.Closing;default:return Ja.Closed}}isConnected(){return this.connectionState()===Ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new c0(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(YL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:l}=n,u=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,o,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(kr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([oU],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:GL};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(kr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new fP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,l,u,f,d,h;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Fv,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:wd.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:ng,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t==null?void 0:t.reconnectAfterMs)!==null&&f!==void 0?f:(g=>iU[g-1]||aU),this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:((g,v)=>v(JSON.stringify(g))),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class d0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function wt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class lU extends d0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yv extends d0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const f0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>wo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},uU=()=>xe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Us(()=>Promise.resolve().then(()=>wo),void 0)).Response:Response}),Jv=e=>{if(Array.isArray(e))return e.map(n=>Jv(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Jv(r)}),t},cU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dU=(e,t,n)=>xe(void 0,void 0,void 0,function*(){const r=yield uU();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new lU(rg(i),o,l))}).catch(i=>{t(new Yv(rg(i),i))}):t(new Yv(rg(e),e))}),fU=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(cU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function ku(e,t,n,r,i,o){return xe(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,fU(t,r,i,o)).then(f=>{if(!f.ok)throw f;return r!=null&&r.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>dU(f,u,r))})})}function pu(e,t,n,r){return xe(this,void 0,void 0,function*(){return ku(e,"GET",t,n,r)})}function Or(e,t,n,r,i){return xe(this,void 0,void 0,function*(){return ku(e,"POST",t,r,i,n)})}function Xv(e,t,n,r,i){return xe(this,void 0,void 0,function*(){return ku(e,"PUT",t,r,i,n)})}function hU(e,t,n,r){return xe(this,void 0,void 0,function*(){return ku(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function h0(e,t,n,r,i){return xe(this,void 0,void 0,function*(){return ku(e,"DELETE",t,r,i,n)})}class mU{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wt(t))return{data:null,error:t};throw t}})}}var pP;class pU{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[pP]="BlobDownloadBuilder",this.promise=null}asStream(){return new mU(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wt(t))return{data:null,error:t};throw t}})}}pP=Symbol.toStringTag;const gU={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vU{constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=f0(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return xe(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},GE),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield(t=="PUT"?Xv:Or)(this.fetch,`${this.url}/object/${h}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:d,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(wt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return xe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let f;const d=Object.assign({upsert:GE.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",d.cacheControl)):(f=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const g=yield Xv(this.fetch,u.toString(),f,{headers:h});return{data:{path:o,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(wt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(t,n){return xe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield Or(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new d0("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}update(t,n,r){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return xe(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Or(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return xe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Or(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return xe(this,void 0,void 0,function*(){try{const i=yield Or(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}download(t,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(t),f=()=>pu(this.fetch,`${this.url}/${i}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new pU(f,this.shouldThrowOnError)}info(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield pu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jv(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}exists(t){return xe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield hU(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r)&&r instanceof Yv){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&i.push(f);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${d}`)}}}remove(t){return xe(this,void 0,void 0,function*(){try{return{data:yield h0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}list(t,n,r){return xe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},gU),n),{prefix:t||""});return{data:yield Or(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}listV2(t,n){return xe(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Or(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const gP="2.76.1",vP={"X-Client-Info":`storage-js/${gP}`};class yU{constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vP),n),this.fetch=f0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xe(this,void 0,void 0,function*(){try{return{data:yield pu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(wt(t))return{data:null,error:t};throw t}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield pu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}createBucket(t){return xe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(wt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return xe(this,void 0,void 0,function*(){try{return{data:yield Xv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(wt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield h0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}}class bU{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vP),n),this.fetch=f0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Or(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}listBuckets(t){return xe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`,o=yield pu(this.fetch,i,{headers:this.headers});return{data:Array.isArray(o)?o.filter(u=>u.type==="ANALYTICS"):[],error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield h0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(wt(n))return{data:null,error:n};throw n}})}}const m0={"X-Client-Info":`storage-js/${gP}`,"Content-Type":"application/json"};class yP extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Jn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class ig extends yP{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class xU extends yP{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var WE;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(WE||(WE={}));const p0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>wo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wU=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YE=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_U=(e,t,n)=>xe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new ig(YE(l),i,u))}).catch(()=>{const l=i+"",u=o.statusText||`HTTP ${i} error`;t(new ig(u,i,l))});else{const l=i+"",u=o.statusText||`HTTP ${i} error`;t(new ig(u,i,l))}}else t(new xU(YE(e),e))}),SU=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(wU(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function EU(e,t,n,r,i,o){return xe(this,void 0,void 0,function*(){return new Promise((l,u)=>{e(n,SU(t,r,i,o)).then(f=>{if(!f.ok)throw f;if(r!=null&&r.noResolveJson)return f;const d=f.headers.get("content-type");return!d||!d.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>_U(f,u,r))})})}function Xn(e,t,n,r,i){return xe(this,void 0,void 0,function*(){return EU(e,"POST",t,r,i,n)})}class AU{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m0),n),this.fetch=p0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Xn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}getIndex(t,n){return xe(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}listIndexes(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return xe(this,void 0,void 0,function*(){try{return{data:(yield Xn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jn(r))return{data:null,error:r};throw r}})}}class TU{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m0),n),this.fetch=p0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Xn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}getVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}listVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Xn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}queryVectors(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}deleteVectors(t){return xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Xn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}}class CU{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},m0),n),this.fetch=p0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Xn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}getBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}listBuckets(){return xe(this,arguments,void 0,function*(t={}){try{return{data:yield Xn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}deleteBucket(t){return xe(this,void 0,void 0,function*(){try{return{data:(yield Xn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jn(n))return{data:null,error:n};throw n}})}}class NU extends CU{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new PU(this.url,this.headers,t,this.fetch)}}class PU extends AU{constructor(t,n,r,i){super(t,n,i),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xe(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new OU(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class OU extends TU{constructor(t,n,r,i,o){super(t,n,o),this.vectorBucketName=r,this.indexName=i}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xe(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class kU extends yU{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new vU(this.url,this.headers,t,this.fetch)}get vectors(){return new NU(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bU(this.url+"/iceberg",this.headers,this.fetch)}}const jU="2.76.1";let ou="";typeof Deno<"u"?ou="deno":typeof document<"u"?ou="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ou="react-native":ou="node";const RU={"X-Client-Info":`supabase-js-${ou}/${jU}`},DU={headers:RU},MU={schema:"public"},IU={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LU={},UU=e=>{let t;return e?t=e:typeof fetch>"u"?t=oP:t=fetch,(...n)=>t(...n)},BU=()=>typeof Headers>"u"?sP:Headers,qU=(e,t,n)=>{const r=UU(n),i=BU();return async(o,l)=>{var u;const f=(u=await t())!==null&&u!==void 0?u:e;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(o,Object.assign(Object.assign({},l),{headers:d}))}};function $U(e){return e.endsWith("/")?e:e+"/"}function zU(e,t){var n,r;const{db:i,auth:o,realtime:l,global:u}=e,{db:f,auth:d,realtime:h,global:g}=t,v={db:Object.assign(Object.assign({},f),i),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},h),l),storage:{},global:Object.assign(Object.assign(Object.assign({},g),u),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function VU(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($U(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bP="2.76.1",gs=30*1e3,Qv=3,ag=Qv*gs,HU="http://localhost:9999",KU="supabase.auth.token",FU={"X-Client-Info":`gotrue-js/${bP}`},Zv="X-Supabase-Api-Version",xP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GU=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WU=600*1e3;class gu extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class YU extends gu{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function JU(e){return Ne(e)&&e.name==="AuthApiError"}class Xa extends gu{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ya extends gu{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ia extends ya{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function XU(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class us extends ya{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _d extends ya{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Sd extends ya{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QU(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class JE extends ya{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ey extends ya{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function og(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class XE extends ya{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ty extends ya{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),QE=` 	
\r=`.split(""),ZU=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<QE.length;t+=1)e[QE[t].charCodeAt(0)]=-2;for(let t=0;t<Yd.length;t+=1)e[Yd[t].charCodeAt(0)]=t;return e})();function ZE(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Yd[r]),t.queuedBits-=6}}function wP(e,t,n){const r=ZU[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eA(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=l=>{nB(l,r,n)};for(let l=0;l<e.length;l+=1)wP(e.charCodeAt(l),i,o);return t.join("")}function eB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tB(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}eB(r,t)}}function nB(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function xs(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)wP(e.charCodeAt(i),n,r);return new Uint8Array(t)}function rB(e){const t=[];return tB(e,n=>t.push(n)),new Uint8Array(t)}function Qa(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>ZE(i,n,r)),ZE(null,n,r),t.join("")}function iB(e){return Math.round(Date.now()/1e3)+e}function aB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Kn=()=>typeof window<"u"&&typeof document<"u",Ha={tested:!1,writable:!1},_P=()=>{if(!Kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ha.tested)return Ha.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ha.tested=!0,Ha.writable=!0}catch{Ha.tested=!0,Ha.writable=!1}return Ha.writable};function oB(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const SP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Us(async()=>{const{default:r}=await Promise.resolve().then(()=>wo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},sB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ka=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ra=async(e,t)=>{await e.removeItem(t)};class Ff{constructor(){this.promise=new Ff.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ff.promiseConstructor=Promise;function sg(e){const t=e.split(".");if(t.length!==3)throw new ty("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!GU.test(t[r]))throw new ty("JWT not in base64url format");return{header:JSON.parse(eA(t[0])),payload:JSON.parse(eA(t[1])),signature:xs(t[2]),raw:{header:t[0],payload:t[1]}}}async function lB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uB(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await e(o);if(!t(o,null,l)){r(l);return}}catch(l){if(!t(o,l)){i(l);return}}})()})}function cB(e){return("0"+e.toString(16)).substr(-2)}function dB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,cB).join("")}async function fB(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function hB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await fB(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cs(e,t,n=!1){const r=dB();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await vs(e,`${t}-code-verifier`,i);const o=await hB(r);return[o,r===o?"plain":"s256"]}const mB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pB(e){const t=e.headers.get(Zv);if(!t||!t.match(mB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ds(e){if(!yB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function lg(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tA(e){return JSON.parse(JSON.stringify(e))}const Fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bB=[502,503,504];async function nA(e){var t;if(!sB(e))throw new ey(Fa(e),0);if(bB.includes(e.status))throw new ey(Fa(e),e.status);let n;try{n=await e.json()}catch(o){throw new Xa(Fa(o),o)}let r;const i=pB(e);if(i&&i.getTime()>=xP["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new XE(Fa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ia}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new XE(Fa(n),e.status,n.weak_password.reasons);throw new YU(Fa(n),e.status||500,r)}const xB=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function ke(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Zv]||(o[Zv]=xP["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await wB(e,t,n+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function wB(e,t,n,r,i,o){const l=xB(t,r,i,o);let u;try{u=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new ey(Fa(f),0)}if(u.ok||await nA(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(f){await nA(f)}}function Pr(e){var t;let n=null;EB(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=iB(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function rA(e){const t=Pr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function sa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _B(e){return{data:e,error:null}}function SB(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,l=Ls(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function iA(e){return e}function EB(e){return e.access_token&&e.refresh_token&&e.expires_in}const ug=["global","local","others"];class AB{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=SP(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ug[0]){if(ug.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ug.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:sa})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ls(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:SB,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:sa})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,l,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:iA});if(h.error)throw h.error;const g=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ne(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ds(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:sa})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ds(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:sa})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ds(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:sa})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ds(t.userId);try{const{data:n,error:r}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ds(t.userId),ds(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,l,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:iA});if(h.error)throw h.error;const g=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},g),d),error:null}}catch(d){if(Ne(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}function aA(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const fs={debug:!!(globalThis&&_P()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class EP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TB extends EP{}async function CB(e,t,n){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function NB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function AP(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function PB(e){return parseInt(e,16)}function OB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function kB(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:f,resources:d,scheme:h,uri:g,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=AP(e.address),S=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${x}

${E}`;let C=`URI: ${g}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),f&&(C+=`
Request ID: ${f}`),d){let P=`
Resources:`;for(const O of d){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);P+=`
- ${O}`}C+=P}return`${T}
${C}`}class Mt extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Jd extends Mt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function jB({error:e,options:t}){var n,r,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(TP(l)){if(o.rp.id!==l)return new Mt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function RB({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(TP(r)){if(n.rpId!==r)return new Mt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class DB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const MB=new DB;function IB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Ls(e,["challenge","user","excludeCredentials"]),o=xs(t).buffer,l=Object.assign(Object.assign({},n),{id:xs(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:o,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:xs(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function LB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ls(e,["challenge","allowCredentials"]),i=xs(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:xs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function UB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qa(new Uint8Array(i.authenticatorData)),clientDataJSON:Qa(new Uint8Array(i.clientDataJSON)),signature:Qa(new Uint8Array(i.signature)),userHandle:i.userHandle?Qa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function TP(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function oA(){var e,t;return!!(Kn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function qB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jd("Browser returned unexpected credential type",t)}:{data:null,error:new Jd("Empty credential response",t)}}catch(t){return{data:null,error:jB({error:t,options:e})}}}async function $B(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Jd("Browser returned unexpected credential type",t)}:{data:null,error:new Jd("Empty credential response",t)}}catch(t){return{data:null,error:RB({error:t,options:e})}}}const zB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},VB={userVerification:"preferred",hints:["security-key"]};function Xd(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const o in i){const l=i[o];if(l!==void 0)if(Array.isArray(l))r[o]=l;else if(n(l))r[o]=l;else if(t(l)){const u=r[o];t(u)?r[o]=Xd(u,l):r[o]=Xd(l)}else r[o]=l}return r}function HB(e,t){return Xd(zB,e,t||{})}function KB(e,t){return Xd(VB,e,t||{})}class FB{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const f=i??MB.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${r}`),d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=HB(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:g}=await qB({publicKey:d,signal:f});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}case"request":{const d=KB(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:g}=await $B(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:f}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:g}}}}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new Xa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!n)return{data:null,error:new gu("rpId is required for WebAuthn authentication")};try{if(!oA())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new Xa("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!n)return{data:null,error:new gu("rpId is required for WebAuthn registration")};try{if(!oA())return{data:null,error:new Xa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var g;return(g=h.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:f,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(l){return Ne(l)?{data:null,error:l}:{data:null,error:new Xa("Unexpected error in register",l)}}}}NB();const GB={url:HU,storageKey:KU,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FU,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sA(e,t,n){return await n()}const hs={};class vu{get jwks(){var t,n;return(n=(t=hs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=hs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hs[this.storageKey]=Object.assign(Object.assign({},hs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vu.nextInstanceID,vu.nextInstanceID+=1,this.instanceID>0&&Kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},GB),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new AB({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=SP(i.fetch),this.lock=i.lock||sA,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Kn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=CB:this.lock=sA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new FB(this)},this.persistSession?(i.storage?this.storage=i.storage:_P()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aA(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=aA(this.memoryStorage)),Kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=oB(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Kn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),QU(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?{error:n}:{error:new Xa("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Pr}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(o){if(Ne(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:h,password:g,options:v}=t;let x=null,S=null;this.flowType==="pkce"&&([x,S]=await cs(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:S},xform:Pr})}else if("phone"in t){const{phone:h,password:g,options:v}=t;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Pr})}else throw new _d("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(o){if(Ne(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:l,options:u}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rA})}else if("phone"in t){const{phone:o,password:l,options:u}=t;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:rA})}else throw new _d("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new us}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,o,l,u,f,d,h,g,v;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:E,wallet:T,statement:C,options:P}=t;let O;if(Kn())if(typeof T=="object")O=T;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")O=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=T}const R=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),k=await O.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=AP(k[0]);let M=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const z=await O.request({method:"eth_chainId"});M=PB(z)}const V={domain:R.host,address:j,statement:C,uri:R.href,version:"1",chainId:M,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(o=P==null?void 0:P.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=kB(V),S=await O.request({method:"personal_sign",params:[OB(x),j]})}try{const{data:E,error:T}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:S},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Pr});if(T)throw T;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new us}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:T})}catch(E){if(Ne(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(t){var n,r,i,o,l,u,f,d,h,g,v,x;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:C,statement:P,options:O}=t;let R;if(Kn())if(typeof C=="object")R=C;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))R=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=C}const k=new URL((n=O==null?void 0:O.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const j=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O==null?void 0:O.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),P?{statement:P}:null));let M;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")M=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)M=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),E=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${k.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(r=O==null?void 0:O.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=O==null?void 0:O.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((l=O==null?void 0:O.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((u=O==null?void 0:O.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((f=O==null?void 0:O.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((d=O==null?void 0:O.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((g=(h=O==null?void 0:O.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||g===void 0)&&g.length?["Resources",...O.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const j=await R.signMessage(new TextEncoder().encode(S),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=j}}try{const{data:T,error:C}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Qa(E)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Pr});if(C)throw C;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new us}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:C})}catch(T){if(Ne(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(t){const n=await Ka(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Pr});if(await ra(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new us}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:l})}catch(o){if(Ne(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:l}=t,u=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Pr}),{data:f,error:d}=u;return d?{data:{user:null,session:null},error:d}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new us}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:d})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,l;try{if("email"in t){const{email:u,options:f}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await cs(this.storage,this.storageKey));const{error:g}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:u,options:f}=t,{data:d,error:h}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new _d("You must provide either an email or phone number.")}catch(u){if(Ne(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Pr});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:d,session:f},error:null}}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await cs(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:_B})}catch(o){if(Ne(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ia;const{error:i}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:l}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:l,error:u}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new _d("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ka(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ag:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Ka(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=lg()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(f,d,h)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,d,h))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:sa}):await this._useSession(async n=>{var r,i,o;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ia}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:sa})})}catch(n){if(Ne(n))return XU(n)&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ia;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await cs(this.storage,this.storageKey));const{data:d,error:h}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:sa});if(h)throw h;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ia;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:l}=sg(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ia;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Kn())throw new Sd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Sd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new JE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new JE("No code detected.");const{data:P,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:l,expires_in:u,expires_at:f,token_type:d}=t;if(!o||!u||!l||!d)throw new Sd("No session defined in URL");const h=Math.round(Date.now()/1e3),g=parseInt(u);let v=h+g;f&&(v=parseInt(f));const x=v-h;x*1e3<=gs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const S=v-g;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,h);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const C={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:g,expires_at:v,refresh_token:l,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:C,redirectType:t.type},error:null}}catch(r){if(Ne(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ka(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(JU(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=aB(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await cs(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ne(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var l,u,f,d,h;const{data:g,error:v}=o;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(d=g.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Kn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ne(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:o}}=n;if(i)throw i;const{options:l,provider:u,token:f,access_token:d,nonce:h}=t,g=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pr}),{data:v,error:x}=g;return x?{data:{user:null,session:null},error:x}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new us}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:x})}catch(i){if(Ne(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)throw l;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await uB(async i=>(i>0&&await lB(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Pr})),(i,o)=>{const l=200*Math.pow(2,i);return o&&og(o)&&Date.now()+l-r<gs})}catch(r){if(this._debug(n,"error",r),Ne(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Kn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ka(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ka(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await vs(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:lg()}else if(i&&!i.user&&!i.user){const l=await Ka(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await ra(this.storage,this.storageKey+"-user"),await vs(this.storage,this.storageKey,i)):i.user=lg()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ag;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${ag}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),og(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ia;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ff;const{data:o,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new ia;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(i,"error",o),Ne(o)){const l={data:null,error:o};return og(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await vs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=tA(i);await vs(this.storage,this.storageKey,o)}else{const i=tA(n);await vs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ra(this.storage,this.storageKey),await ra(this.storage,this.storageKey+"-code-verifier"),await ra(this.storage,this.storageKey+"-user"),this.userStorage&&await ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/gs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${gs}ms, refresh threshold is ${Qv} ticks`),i<=Qv&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof EP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=await cs(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:d}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?UB(t.webauthn.credential_response):BB(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:IB(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:LB(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=sg(i.access_token);let u=null;l.aal&&(u=l.aal);let f=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const h=l.amr||[];return{data:{currentLevel:u,nextLevel:f,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+WU>i)return r;const{data:o,error:l}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:x,error:S}=await this.getSession();if(S||!x.session)return{data:null,error:S};r=x.session.access_token}const{header:i,payload:o,signature:l,raw:{header:u,payload:f}}=sg(r);n!=null&&n.allowExpired||gB(o.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:x}=await this.getUser(r);if(x)throw x;return{data:{claims:o,header:i,signature:l},error:null}}const h=vB(i.alg),g=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,g,l,rB(`${u}.${f}`)))throw new ty("Invalid JWT signature");return{data:{claims:o,header:i,signature:l},error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}vu.nextInstanceID=0;const WB=vu;class YB extends WB{constructor(t){super(t)}}class JB{constructor(t,n,r){var i,o,l;this.supabaseUrl=t,this.supabaseKey=n;const u=VU(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:MU,realtime:LU,auth:Object.assign(Object.assign({},IU),{storageKey:f}),global:DU},h=zU(r??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=qU(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new HL(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new kU(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new DL(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:l,flowType:u,lock:f,debug:d},h,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new YB({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:u,lock:f,debug:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new sU(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const XB=(e,t,n)=>new JB(e,t,n);function QB(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}QB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ZB=void 0,e3=void 0;throw new Error("Missing Supabase environment variables");const xn=XB(ZB,e3,{auth:{persistSession:!0,autoRefreshToken:!0}});var _t=(e=>(e.ARABICA="Arabica",e.ROBUSTA="Robusta",e.LIBERICA="Liberica",e.BLEND="Blend",e))(_t||{}),Dr=(e=>(e.PENDING="Pending",e.APPROVED="Approved",e.REJECTED="Rejected",e.COMPLETED="Completed",e))(Dr||{}),yu=(e=>(e.ACCEPTED="Accepted",e.RETURNED="Returned",e))(yu||{}),g0=(e=>(e.PAID="Paid",e.UNPAID="Unpaid",e.PARTIALLY_PAID="Partially Paid",e.REFUNDED="Refunded",e))(g0||{}),ny=(e=>(e.UTILITIES="Utilities",e.SALARY="Salary",e.RENT="Rent",e.MARKETING="Marketing",e.MAINTENANCE="Maintenance",e.OTHER="Other",e))(ny||{}),Sn=(e=>(e.ADMIN="Admin",e.ROASTER="Roaster",e.QC="QC",e.SALES="Sales",e.USER="User",e))(Sn||{}),zt=(e=>(e.GREEN_BEAN="Green Bean",e.ROASTED_BEAN="Roasted Bean",e))(zt||{}),vi=(e=>(e.LOW="Low",e.MEDIUM="Medium",e.HIGH="High",e))(vi||{}),mi=(e=>(e.TODO="To Do",e.IN_PROGRESS="In Progress",e.DONE="Done",e))(mi||{});const CP=A.createContext(void 0),t3=({children:e})=>{const[t,n]=A.useState(null),[r,i]=A.useState(null),[o,l]=A.useState(!0),u=async v=>{const{data:x,error:S}=await xn.from("users").select("*").eq("id",v).maybeSingle();return S?(console.error("Error fetching user profile:",S),null):x};A.useEffect(()=>{xn.auth.getSession().then(({data:{session:x}})=>{x!=null&&x.user&&(i(x.user),u(x.user.id).then(n)),l(!1)});const{data:{subscription:v}}=xn.auth.onAuthStateChange((x,S)=>{i((S==null?void 0:S.user)??null),S!=null&&S.user?u(S.user.id).then(n):n(null)});return()=>v.unsubscribe()},[]);const f=async(v,x)=>{try{const{data:S,error:E}=await xn.auth.signInWithPassword({email:v,password:x});if(E)return{success:!1,error:E.message};if(S.user){const T=await u(S.user.id);n(T)}return{success:!0}}catch(S){return{success:!1,error:S.message}}},d=async(v,x,S)=>{try{const{data:E}=await xn.from("users").select("username").eq("username",S).maybeSingle();if(E)return{success:!1,error:"Username already exists"};const{data:T,error:C}=await xn.auth.signUp({email:v,password:x});if(C)return{success:!1,error:C.message};if(T.user){const{error:P}=await xn.from("users").insert({id:T.user.id,username:S,role:Sn.USER});if(P)return{success:!1,error:"Failed to create user profile"}}return{success:!0}}catch(E){return{success:!1,error:E.message}}},h=async()=>{await xn.auth.signOut(),n(null),i(null)},g=async v=>{try{if(v.password){const{error:x}=await xn.auth.updateUser({password:v.password});if(x)return{success:!1,error:x.message}}return{success:!0}}catch(x){return{success:!1,error:x.message}}};return m.jsx(CP.Provider,{value:{user:t,supabaseUser:r,loading:o,signIn:f,signUp:d,signOut:h,updateProfile:g},children:e})},NP=()=>{const e=A.useContext(CP);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},n3=e=>{const t=new Date,n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getFullYear().toString().slice(-2),i=`${n}${r}`,o=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${e}${i}-${o}`},hn=(e,t)=>({getAll:async()=>{const{data:n,error:r}=await xn.from(e).select("*").order("created_at",{ascending:!1});return r?(console.error(`Error fetching ${e}:`,r),[]):n},getById:async n=>{const{data:r,error:i}=await xn.from(e).select("*").eq("id",n).maybeSingle();return i?(console.error(`Error fetching ${e} by id:`,i),null):r},add:async n=>{const r=n3(t),i={...n,id:r},{data:o,error:l}=await xn.from(e).insert(i).select().single();return l?(console.error(`Error adding ${e}:`,l),null):o},update:async(n,r)=>{const{data:i,error:o}=await xn.from(e).update(r).eq("id",n).select().single();return o?(console.error(`Error updating ${e}:`,o),null):i},remove:async n=>{const{error:r}=await xn.from(e).delete().eq("id",n);return r?(console.error(`Error removing ${e}:`,r),!1):!0}}),r3={users:{...hn("users","US"),getByUsername:async e=>{const{data:t,error:n}=await xn.from("users").select("*").eq("username",e).maybeSingle();return n?(console.error("Error fetching user by username:",n),null):t}},suppliers:hn("suppliers","SP"),purchaseOrders:hn("purchase_orders","PO"),stock:hn("stock_items","ST"),sales:hn("sales_records","SL"),grades:hn("green_bean_grades","GR"),roasts:hn("roast_profiles","RT"),externalRoasts:hn("external_roast_logs","ER"),cuppings:hn("cupping_sessions","CP"),blends:hn("blends","BL"),warehouseLogs:hn("warehouse_logs","LG"),alertSettings:hn("alert_settings","AL"),packaging:hn("packaging","PK"),expenses:hn("expenses","EX"),todos:hn("todos","TD"),comments:hn("comments","CM")},i3=()=>({dataService:r3,isLoading:!1}),PP=A.createContext(void 0),lA=(e,t)=>{let n=e;for(const r in t)n=n.replace(new RegExp(`{{${r}}}`,"g"),String(t[r]));return n},a3=({children:e})=>{const[t,n]=A.useState(()=>{const l=localStorage.getItem("language");return l==="en"||l==="id"?l:"id"}),[r,i]=A.useState(null);A.useEffect(()=>{(async()=>{try{const[u,f]=await Promise.all([fetch("/locales/en.json"),fetch("/locales/id.json")]);if(!u.ok||!f.ok)throw new Error("Failed to fetch translation files");const d=await u.json(),h=await f.json();i({en:d,id:h})}catch(u){console.error("Failed to load translation files:",u)}})()},[]),A.useEffect(()=>{localStorage.setItem("language",t)},[t]);const o=A.useCallback((l,u)=>{if(!r)return l;const f=l.split(".");let d=r[t];for(const g of f)if(d=d==null?void 0:d[g],d===void 0){let v=r.en;for(const x of f)v=v==null?void 0:v[x];return typeof v=="string"?u?lA(v,u):v:l}return typeof d!="string"?l:u?lA(d,u):d},[t,r]);return r?m.jsx(PP.Provider,{value:{language:t,setLanguage:n,t:o},children:e}):null},Le=()=>{const e=A.useContext(PP);if(e===void 0)throw new Error("useTranslation must be used within a LanguageProvider");return e},o3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M10 21h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2Z"}),m.jsx("path",{d:"M12 2v4"}),m.jsx("path",{d:"M18 6h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3"}),m.jsx("path",{d:"M2 12h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H2v6Z"})]}),s3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),m.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),l3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"3",y:"3",width:"7",height:"9"}),m.jsx("rect",{x:"14",y:"3",width:"7",height:"5"}),m.jsx("rect",{x:"14",y:"12",width:"7",height:"9"}),m.jsx("rect",{x:"3",y:"16",width:"7",height:"5"})]}),u3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1V21c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5V3h5.5l3.5 3.5V21c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5V6.5L15.5 2z"}),m.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]}),c3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),m.jsx("path",{d:"m9 12 2 2 4-4"})]}),d3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),m.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),f3=()=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M14.5 20.5 9.5 19l-2 2.5 2 2.5 5 1.5-2-2.5 2-2.5zM19.5 15.5l-5-1.5 2-2.5-2-2.5 5 1.5 2 2.5-2 2.5zM4 9A5 5 0 0 1 9 4h0a5 5 0 0 1 5 5v0a5 5 0 0 1-5 5h0a5 5 0 0 1-5-5Z"})}),h3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M3 9.5a2.5 2.5 0 0 1 5 0"}),m.jsx("path",{d:"M4 12a4 4 0 0 0 4 4h0a4 4 0 0 0 4-4v-3"}),m.jsx("path",{d:"M13 18.5a2.5 2.5 0 0 0 5 0"}),m.jsx("path",{d:"M14 16a4 4 0 0 1-4-4v-3"}),m.jsx("path",{d:"m14 11 3-3 3 3"}),m.jsx("path",{d:"M3 13h.01"}),m.jsx("path",{d:"M21 17h-8"}),m.jsx("path",{d:"M7 13h.01"})]}),m3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M8 2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8Zm7 0v2.95c0 .58-.47 1.05-1.05 1.05H9.05C8.47 6 8 5.53 8 4.95V2"}),m.jsx("path",{d:"M18 6h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3"})]}),p3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3-3-3s-3-1-3-3a7 7 0 0 0-7 7c0 2 1 3 3 3s3 1 3 3Z"}),m.jsx("path",{d:"M20.34 10.22a7 7 0 0 0-8.56-8.56"}),m.jsx("path",{d:"M3.66 13.78a7 7 0 0 0 8.56 8.56"})]}),g3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3 6.5l8-4.5a2 2 0 0 1 2 0l8 4.5a2 2 0 0 1 1 1.85Z"}),m.jsx("path",{d:"M22 22H2"}),m.jsx("path",{d:"M6 16v.01"}),m.jsx("path",{d:"M6 12v.01"}),m.jsx("rect",{width:"8",height:"12",x:"12",y:"10"})]}),v3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"8",cy:"21",r:"1"}),m.jsx("circle",{cx:"19",cy:"21",r:"1"}),m.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),y3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2"}),m.jsx("path",{d:"M8 6h8"}),m.jsx("path",{d:"M8 10h8"}),m.jsx("path",{d:"M8 14h4"}),m.jsx("path",{d:"M8 18h4"})]}),b3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M21 8c0-2.2-1.8-4-4-4H7c-2.2 0-4 1.8-4 4v8c0 2.2 1.8 4 4 4h10c2.2 0 4-1.8 4-4Z"}),m.jsx("path",{d:"M7 16h10"}),m.jsx("path",{d:"M7 12h10"}),m.jsx("path",{d:"M12 12v8"})]}),x3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),m.jsx("circle",{cx:"9",cy:"7",r:"4"}),m.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),m.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),w3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),_3=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),m.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),m.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),S3=e=>{switch(e){case"Dashboard":return m.jsx(l3,{});case"Purchase Orders":return m.jsx(u3,{});case"Grading Form":return m.jsx(c3,{});case"Suppliers":return m.jsx(d3,{});case"Roasting Form":return m.jsx(f3,{});case"External Roasting":return m.jsx(h3,{});case"Cupping Form":return m.jsx(m3,{});case"Blending Form":return m.jsx(p3,{});case"Warehouse":return m.jsx(g3,{});case"Sales":return m.jsx(v3,{});case"Kalkulator HPP":return m.jsx(y3,{});case"Financial Management":return m.jsx(b3,{});case"User Management":return m.jsx(x3,{});case"Tasks":return m.jsx(w3,{});case"Analytics":return m.jsx(_3,{});default:return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})}},E3=({viewName:e,currentView:t,onClick:n,children:r,text:i})=>{const o=t===e;return m.jsxs("li",{onClick:n,className:`flex items-center p-3 my-1 rounded-lg cursor-pointer transition-all duration-200 ${o?"bg-brand-brown-500 text-white shadow-md":"text-brand-brown-100 hover:bg-brand-brown-700 hover:text-white"}`,children:[r,m.jsx("span",{className:"ml-3 font-medium",children:i})]})},A3=({currentView:e,setCurrentView:t,isOpen:n,setOpen:r,currentUser:i})=>{const{t:o}=Le(),l=A.useMemo(()=>{if(!i)return[];const f=["Dashboard","Analytics","Purchase Orders","Grading Form","Suppliers","Roasting Form","External Roasting","Cupping Form","Blending Form","Warehouse","Sales","Tasks","Kalkulator HPP","Financial Management","User Management"];return{[Sn.ADMIN]:f,[Sn.ROASTER]:["Dashboard","Analytics","Roasting Form","External Roasting","Blending Form","Warehouse","Cupping Form","Tasks"],[Sn.QC]:["Dashboard","Analytics","Grading Form","Cupping Form","Warehouse","Tasks"],[Sn.SALES]:["Dashboard","Analytics","Sales","Warehouse","Tasks"],[Sn.USER]:["Dashboard","Analytics","Warehouse","Tasks"]}[i.role]||[]},[i]),u=f=>{t(f),r(!1)};return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden transition-opacity ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>r(!1)}),m.jsxs("aside",{className:`absolute lg:relative z-40 w-64 h-full bg-brand-brown-800 text-white flex flex-col transition-transform transform ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0`,children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-brand-brown-700",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(o3,{}),m.jsx("h1",{className:"ml-2 text-xl font-bold",children:"Coffee ERP"})]}),m.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-1 text-white",children:m.jsx(s3,{})})]}),m.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:m.jsx("ul",{children:l.map(f=>m.jsx(E3,{viewName:f,currentView:e,onClick:()=>u(f),text:o(`sidebar.${f}`,{}),children:S3(f)},f))})}),m.jsx("div",{className:"p-4 border-t border-brand-brown-700",children:m.jsx("p",{className:"text-xs text-brand-brown-300",children:" 2024 Coffee ERP Pro"})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let T3,C3;function N3(){return{geminiUrl:T3,vertexUrl:C3}}function P3(e,t,n,r){var i,o;if(!(e!=null&&e.baseUrl)){const l=N3();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _o{}function ge(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function w(e,t,n){for(let o=0;o<t.length-1;o++){const l=t[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const f=e[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];w(h,t.slice(o+1),n[d])}else for(const d of f)w(d,t.slice(o+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const f=e[u];w(f[0],t.slice(o+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function y(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const l=e[o];return Array.isArray(l)?l.map(u=>y(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function O3(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),o=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&o.length>u)for(let f=u;f<o.length;f++){const d=o[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}ry(e,i,o,0,l)}}function ry(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const o=t[r];if(o.endsWith("[]")){const l=o.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const f of u[l])ry(f,t,n,r+1,i)}else if(o==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=l[d];for(const[d,h]of Object.entries(f)){const g=[];for(const v of n.slice(r))v==="*"?g.push(d):g.push(v);w(l,g,h)}for(const d of u)delete l[d]}}else{const l=e;o in l&&ry(l[o],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v0(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k3(e){const t={},n=y(e,["operationName"]);n!=null&&w(t,["operationName"],n);const r=y(e,["resourceName"]);return r!=null&&w(t,["_url","resourceName"],r),t}function j3(e){const t={},n=y(e,["name"]);n!=null&&w(t,["name"],n);const r=y(e,["metadata"]);r!=null&&w(t,["metadata"],r);const i=y(e,["done"]);i!=null&&w(t,["done"],i);const o=y(e,["error"]);o!=null&&w(t,["error"],o);const l=y(e,["response","generateVideoResponse"]);return l!=null&&w(t,["response"],D3(l)),t}function R3(e){const t={},n=y(e,["name"]);n!=null&&w(t,["name"],n);const r=y(e,["metadata"]);r!=null&&w(t,["metadata"],r);const i=y(e,["done"]);i!=null&&w(t,["done"],i);const o=y(e,["error"]);o!=null&&w(t,["error"],o);const l=y(e,["response"]);return l!=null&&w(t,["response"],M3(l)),t}function D3(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>I3(l))),w(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&w(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function M3(e){const t={},n=y(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>L3(l))),w(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&w(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function I3(e){const t={},n=y(e,["video"]);return n!=null&&w(t,["video"],q3(n)),t}function L3(e){const t={},n=y(e,["_self"]);return n!=null&&w(t,["video"],$3(n)),t}function U3(e){const t={},n=y(e,["operationName"]);return n!=null&&w(t,["_url","operationName"],n),t}function B3(e){const t={},n=y(e,["operationName"]);return n!=null&&w(t,["_url","operationName"],n),t}function q3(e){const t={},n=y(e,["uri"]);n!=null&&w(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&w(t,["videoBytes"],v0(r));const i=y(e,["encoding"]);return i!=null&&w(t,["mimeType"],i),t}function $3(e){const t={},n=y(e,["gcsUri"]);n!=null&&w(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&w(t,["videoBytes"],v0(r));const i=y(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uA;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(uA||(uA={}));var cA;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(cA||(cA={}));var dA;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(dA||(dA={}));var da;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(da||(da={}));var fA;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(fA||(fA={}));var hA;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(hA||(hA={}));var mA;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(mA||(mA={}));var pA;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(pA||(pA={}));var gA;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(gA||(gA={}));var vA;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(vA||(vA={}));var yA;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yA||(yA={}));var bA;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(bA||(bA={}));var xA;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(xA||(xA={}));var wA;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(wA||(wA={}));var _A;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(_A||(_A={}));var SA;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(SA||(SA={}));var Qd;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Qd||(Qd={}));var EA;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(EA||(EA={}));var iy;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(iy||(iy={}));var AA;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(AA||(AA={}));var TA;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(TA||(TA={}));var CA;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V"})(CA||(CA={}));var NA;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(NA||(NA={}));var PA;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(PA||(PA={}));var OA;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(OA||(OA={}));var kA;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kA||(kA={}));var jA;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(jA||(jA={}));var RA;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(RA||(RA={}));var DA;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(DA||(DA={}));var MA;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(MA||(MA={}));var IA;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(IA||(IA={}));var LA;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(LA||(LA={}));var UA;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(UA||(UA={}));var BA;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(BA||(BA={}));var qA;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(qA||(qA={}));var $A;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})($A||($A={}));var zA;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(zA||(zA={}));var VA;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(VA||(VA={}));var HA;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(HA||(HA={}));var KA;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(KA||(KA={}));var FA;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(FA||(FA={}));var GA;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(GA||(GA={}));var WA;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(WA||(WA={}));var YA;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(YA||(YA={}));var JA;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(JA||(JA={}));var XA;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(XA||(XA={}));var QA;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(QA||(QA={}));var ZA;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(ZA||(ZA={}));var ys;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ys||(ys={}));class ay{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Jl{get text(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const g=[];for(const v of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[x,S]of Object.entries(v))x!=="text"&&x!=="thought"&&(S!==null||S!==void 0)&&g.push(x);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const g of(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[v,x]of Object.entries(g))v!=="inlineData"&&(x!==null||x!==void 0)&&h.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(d+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,o,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,i,o,l,u,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,o,l,u,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class eT{}class tT{}class z3{}class V3{}class H3{}class K3{}class nT{}class rT{}class iT{}class F3{}class Zd{_fromAPIResponse({apiResponse:t,isVertexAI:n}){const r=new Zd;let i;const o=t;return n?i=R3(o):i=j3(o),Object.assign(r,i),r}}class aT{}class oT{}class sT{}class G3{}class W3{}class Y3{}class lT{}class J3{get text(){var t,n,r;let i="",o=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var t,n,r;let i="";const o=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class X3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ke(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function OP(e,t){const n=Ke(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function kP(e){return Array.isArray(e)?e.map(t=>ef(t)):[ef(e)]}function ef(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function jP(e){const t=ef(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function RP(e){const t=ef(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function uT(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function DP(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>uT(t)):[uT(e)]}function oy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function cT(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function dT(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function gn(e){if(e==null)throw new Error("ContentUnion is required");return oy(e)?e:{role:"user",parts:DP(e)}}function y0(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=gn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=gn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>gn(n)):[gn(t)]}function xr(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(cT(e)||dT(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[gn(e)]}const t=[],n=[],r=oy(e[0]);for(const i of e){const o=oy(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)t.push(i);else{if(cT(i)||dT(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:DP(n)}),t}function Q3(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(da).includes(n[0].toUpperCase())?n[0].toUpperCase():da.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(da).includes(r.toUpperCase())?r.toUpperCase():da.TYPE_UNSPECIFIED})}}function ws(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(t.nullable=!0,e=o[1]):o[1].type==="null"&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&Q3(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(da).includes(u.toUpperCase())?u.toUpperCase():da.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=ws(u);else if(r.includes(l)){const f=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}f.push(ws(d))}t[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(u))f[d]=ws(h);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=u}return t}function b0(e){return ws(e)}function x0(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function w0(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function qs(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ws(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ws(t.response));return e}function $s(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Z3(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Ai(e,t){if(typeof t!="string")throw new Error("name must be a string");return Z3(e,t,"cachedContents")}function MP(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ba(e){return v0(e)}function e4(e){return e!=null&&typeof e=="object"&&"name"in e}function t4(e){return e!=null&&typeof e=="object"&&"video"in e}function n4(e){return e!=null&&typeof e=="object"&&"uri"in e}function IP(e){var t;let n;if(e4(e)&&(n=e.name),!(n4(e)&&(n=e.uri,n===void 0))&&!(t4(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function LP(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function UP(e){for(const t of["models","tunedModels","publisherModels"])if(r4(e,t))return e[t];return[]}function r4(e,t){return e!==null&&typeof e=="object"&&t in e}function i4(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function a4(e,t={}){const n=[],r=new Set;for(const i of e){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=i4(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function BP(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function o4(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function qP(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function zs(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function $P(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s4(e){const t={},n=y(e,["responsesFile"]);n!=null&&w(t,["fileName"],n);const r=y(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>U4(l))),w(t,["inlinedResponses"],o)}const i=y(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(t,["inlinedEmbedContentResponses"],o)}return t}function l4(e){const t={},n=y(e,["predictionsFormat"]);n!=null&&w(t,["format"],n);const r=y(e,["gcsDestination","outputUriPrefix"]);r!=null&&w(t,["gcsUri"],r);const i=y(e,["bigqueryDestination","outputUri"]);return i!=null&&w(t,["bigqueryUri"],i),t}function u4(e){const t={},n=y(e,["format"]);n!=null&&w(t,["predictionsFormat"],n);const r=y(e,["gcsUri"]);r!=null&&w(t,["gcsDestination","outputUriPrefix"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&w(t,["bigqueryDestination","outputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function $d(e){const t={},n=y(e,["name"]);n!=null&&w(t,["name"],n);const r=y(e,["metadata","displayName"]);r!=null&&w(t,["displayName"],r);const i=y(e,["metadata","state"]);i!=null&&w(t,["state"],$P(i));const o=y(e,["metadata","createTime"]);o!=null&&w(t,["createTime"],o);const l=y(e,["metadata","endTime"]);l!=null&&w(t,["endTime"],l);const u=y(e,["metadata","updateTime"]);u!=null&&w(t,["updateTime"],u);const f=y(e,["metadata","model"]);f!=null&&w(t,["model"],f);const d=y(e,["metadata","output"]);return d!=null&&w(t,["dest"],s4(qP(d))),t}function sy(e){const t={},n=y(e,["name"]);n!=null&&w(t,["name"],n);const r=y(e,["displayName"]);r!=null&&w(t,["displayName"],r);const i=y(e,["state"]);i!=null&&w(t,["state"],$P(i));const o=y(e,["error"]);o!=null&&w(t,["error"],o);const l=y(e,["createTime"]);l!=null&&w(t,["createTime"],l);const u=y(e,["startTime"]);u!=null&&w(t,["startTime"],u);const f=y(e,["endTime"]);f!=null&&w(t,["endTime"],f);const d=y(e,["updateTime"]);d!=null&&w(t,["updateTime"],d);const h=y(e,["model"]);h!=null&&w(t,["model"],h);const g=y(e,["inputConfig"]);g!=null&&w(t,["src"],c4(g));const v=y(e,["outputConfig"]);return v!=null&&w(t,["dest"],l4(qP(v))),t}function c4(e){const t={},n=y(e,["instancesFormat"]);n!=null&&w(t,["format"],n);const r=y(e,["gcsSource","uris"]);r!=null&&w(t,["gcsUri"],r);const i=y(e,["bigquerySource","inputUri"]);return i!=null&&w(t,["bigqueryUri"],i),t}function d4(e,t){const n={};if(y(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(t,["fileName"]);r!=null&&w(n,["fileName"],r);const i=y(t,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>L4(e,l))),w(n,["requests","requests"],o)}return n}function f4(e){const t={},n=y(e,["format"]);n!=null&&w(t,["instancesFormat"],n);const r=y(e,["gcsUri"]);r!=null&&w(t,["gcsSource","uris"],r);const i=y(e,["bigqueryUri"]);if(i!=null&&w(t,["bigquerySource","inputUri"],i),y(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function h4(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["data"]);n!=null&&w(t,["data"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function m4(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],zs(e,r)),n}function p4(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],zs(e,r)),n}function g4(e){const t={},n=y(e,["content"]);n!=null&&w(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&w(t,["citationMetadata"],v4(r));const i=y(e,["tokenCount"]);i!=null&&w(t,["tokenCount"],i);const o=y(e,["finishReason"]);o!=null&&w(t,["finishReason"],o);const l=y(e,["urlContextMetadata"]);l!=null&&w(t,["urlContextMetadata"],l);const u=y(e,["avgLogprobs"]);u!=null&&w(t,["avgLogprobs"],u);const f=y(e,["groundingMetadata"]);f!=null&&w(t,["groundingMetadata"],f);const d=y(e,["index"]);d!=null&&w(t,["index"],d);const h=y(e,["logprobsResult"]);h!=null&&w(t,["logprobsResult"],h);const g=y(e,["safetyRatings"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(x=>x)),w(t,["safetyRatings"],v)}return t}function v4(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(t,["citations"],r)}return t}function zP(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>K4(o))),w(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&w(t,["role"],r),t}function y4(e,t){const n={},r=y(e,["displayName"]);if(t!==void 0&&r!=null&&w(t,["batch","displayName"],r),y(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function b4(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&w(t,["displayName"],r);const i=y(e,["dest"]);return t!==void 0&&i!=null&&w(t,["outputConfig"],u4(o4(i))),n}function fT(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["src"]);i!=null&&w(n,["batch","inputConfig"],d4(e,BP(e,i)));const o=y(t,["config"]);return o!=null&&y4(o,n),n}function x4(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["model"],Ke(e,r));const i=y(t,["src"]);i!=null&&w(n,["inputConfig"],f4(BP(e,i)));const o=y(t,["config"]);return o!=null&&b4(o,n),n}function w4(e,t){const n={},r=y(e,["displayName"]);return t!==void 0&&r!=null&&w(t,["batch","displayName"],r),n}function _4(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["src"]);i!=null&&w(n,["batch","inputConfig"],P4(e,i));const o=y(t,["config"]);return o!=null&&w4(o,n),n}function S4(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],zs(e,r)),n}function E4(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],zs(e,r)),n}function A4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&w(t,["name"],r);const i=y(e,["done"]);i!=null&&w(t,["done"],i);const o=y(e,["error"]);return o!=null&&w(t,["error"],o),t}function T4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["name"]);r!=null&&w(t,["name"],r);const i=y(e,["done"]);i!=null&&w(t,["done"],i);const o=y(e,["error"]);return o!=null&&w(t,["error"],o),t}function C4(e,t){const n={},r=y(t,["contents"]);if(r!=null){let o=y0(e,r);Array.isArray(o)&&(o=o.map(l=>l)),w(n,["requests[]","request","content"],o)}const i=y(t,["config"]);return i!=null&&(w(n,["_self"],N4(i,n)),O3(n,{"requests[].*":"requests[].request.*"})),n}function N4(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&w(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&w(t,["requests[]","title"],i);const o=y(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&w(t,["requests[]","outputDimensionality"],o),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function P4(e,t){const n={},r=y(t,["fileName"]);r!=null&&w(n,["file_name"],r);const i=y(t,["inlinedRequests"]);return i!=null&&w(n,["requests"],C4(e,i)),n}function O4(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function k4(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],zP(gn(i)));const o=y(t,["temperature"]);o!=null&&w(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&w(r,["topP"],l);const u=y(t,["topK"]);u!=null&&w(r,["topK"],u);const f=y(t,["candidateCount"]);f!=null&&w(r,["candidateCount"],f);const d=y(t,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=y(t,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const g=y(t,["responseLogprobs"]);g!=null&&w(r,["responseLogprobs"],g);const v=y(t,["logprobs"]);v!=null&&w(r,["logprobs"],v);const x=y(t,["presencePenalty"]);x!=null&&w(r,["presencePenalty"],x);const S=y(t,["frequencyPenalty"]);S!=null&&w(r,["frequencyPenalty"],S);const E=y(t,["seed"]);E!=null&&w(r,["seed"],E);const T=y(t,["responseMimeType"]);T!=null&&w(r,["responseMimeType"],T);const C=y(t,["responseSchema"]);C!=null&&w(r,["responseSchema"],b0(C));const P=y(t,["responseJsonSchema"]);if(P!=null&&w(r,["responseJsonSchema"],P),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=y(t,["safetySettings"]);if(n!==void 0&&O!=null){let L=O;Array.isArray(L)&&(L=L.map(H=>F4(H))),w(n,["safetySettings"],L)}const R=y(t,["tools"]);if(n!==void 0&&R!=null){let L=$s(R);Array.isArray(L)&&(L=L.map(H=>G4(qs(H)))),w(n,["tools"],L)}const k=y(t,["toolConfig"]);if(n!==void 0&&k!=null&&w(n,["toolConfig"],k),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=y(t,["cachedContent"]);n!==void 0&&j!=null&&w(n,["cachedContent"],Ai(e,j));const M=y(t,["responseModalities"]);M!=null&&w(r,["responseModalities"],M);const V=y(t,["mediaResolution"]);V!=null&&w(r,["mediaResolution"],V);const z=y(t,["speechConfig"]);if(z!=null&&w(r,["speechConfig"],x0(z)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=y(t,["thinkingConfig"]);te!=null&&w(r,["thinkingConfig"],te);const Z=y(t,["imageConfig"]);return Z!=null&&w(r,["imageConfig"],Z),r}function j4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>g4(d))),w(t,["candidates"],f)}const i=y(e,["modelVersion"]);i!=null&&w(t,["modelVersion"],i);const o=y(e,["promptFeedback"]);o!=null&&w(t,["promptFeedback"],o);const l=y(e,["responseId"]);l!=null&&w(t,["responseId"],l);const u=y(e,["usageMetadata"]);return u!=null&&w(t,["usageMetadata"],u),t}function R4(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],zs(e,r)),n}function D4(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],zs(e,r)),n}function M4(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function I4(e){const t={},n=y(e,["timeRangeFilter"]);if(n!=null&&w(t,["timeRangeFilter"],n),y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function L4(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["request","model"],Ke(e,r));const i=y(t,["contents"]);if(i!=null){let u=xr(i);Array.isArray(u)&&(u=u.map(f=>zP(f))),w(n,["request","contents"],u)}const o=y(t,["metadata"]);o!=null&&w(n,["metadata"],o);const l=y(t,["config"]);return l!=null&&w(n,["request","generationConfig"],k4(e,l,y(n,["request"],{}))),n}function U4(e){const t={},n=y(e,["response"]);n!=null&&w(t,["response"],j4(n));const r=y(e,["error"]);return r!=null&&w(t,["error"],r),t}function B4(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);if(t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),y(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function q4(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);t!==void 0&&i!=null&&w(t,["_query","pageToken"],i);const o=y(e,["filter"]);return t!==void 0&&o!=null&&w(t,["_query","filter"],o),n}function $4(e){const t={},n=y(e,["config"]);return n!=null&&B4(n,t),t}function z4(e){const t={},n=y(e,["config"]);return n!=null&&q4(n,t),t}function V4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const i=y(e,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>$d(l))),w(t,["batchJobs"],o)}return t}function H4(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const i=y(e,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>sy(l))),w(t,["batchJobs"],o)}return t}function K4(e){const t={},n=y(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],n);const r=y(e,["thought"]);r!=null&&w(t,["thought"],r);const i=y(e,["inlineData"]);i!=null&&w(t,["inlineData"],h4(i));const o=y(e,["fileData"]);o!=null&&w(t,["fileData"],O4(o));const l=y(e,["thoughtSignature"]);l!=null&&w(t,["thoughtSignature"],l);const u=y(e,["functionCall"]);u!=null&&w(t,["functionCall"],u);const f=y(e,["codeExecutionResult"]);f!=null&&w(t,["codeExecutionResult"],f);const d=y(e,["executableCode"]);d!=null&&w(t,["executableCode"],d);const h=y(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const g=y(e,["text"]);return g!=null&&w(t,["text"],g),t}function F4(e){const t={};if(y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=y(e,["category"]);n!=null&&w(t,["category"],n);const r=y(e,["threshold"]);return r!=null&&w(t,["threshold"],r),t}function G4(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearch"]);r!=null&&w(t,["googleSearch"],I4(r));const i=y(e,["googleSearchRetrieval"]);if(i!=null&&w(t,["googleSearchRetrieval"],i),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],M4(o));const l=y(e,["urlContext"]);l!=null&&w(t,["urlContext"],l);const u=y(e,["computerUse"]);u!=null&&w(t,["computerUse"],u);const f=y(e,["codeExecution"]);return f!=null&&w(t,["codeExecution"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uo;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(uo||(uo={}));class ju{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,o;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W4 extends _o{constructor(t){super(),this.apiClient=t,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new ju(uo.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(t){const n=fT(this.apiClient,t),r=n._url,i=ge("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const g=Object.assign({},h);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const x=g.request;x.systemInstruction=v,g.request=x}d.push(g)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(t),l=this.getBigqueryUri(t);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=x4(this.apiClient,t);return u=ge("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>sy(h))}else{const d=fT(this.apiClient,t);return u=ge("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>$d(h))}}async createEmbeddingsInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_4(this.apiClient,t);return o=ge("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>$d(f))}}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=D4(this.apiClient,t);return u=ge("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>sy(h))}else{const d=R4(this.apiClient,t);return u=ge("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>$d(h))}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const f=p4(this.apiClient,t);l=ge("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=m4(this.apiClient,t);l=ge("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=z4(t);return u=ge("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=H4(h),v=new lT;return Object.assign(v,g),v})}else{const d=$4(t);return u=ge("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=V4(h),v=new lT;return Object.assign(v,g),v})}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=E4(this.apiClient,t);return u=ge("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>T4(h))}else{const d=S4(this.apiClient,t);return u=ge("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>A4(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y4(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["data"]);n!=null&&w(t,["data"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function hT(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gq(o))),w(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&w(t,["role"],r),t}function J4(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&w(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const o=y(e,["displayName"]);t!==void 0&&o!=null&&w(t,["displayName"],o);const l=y(e,["contents"]);if(t!==void 0&&l!=null){let h=xr(l);Array.isArray(h)&&(h=h.map(g=>hT(g))),w(t,["contents"],h)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&w(t,["systemInstruction"],hT(gn(u)));const f=y(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>vq(g))),w(t,["tools"],h)}const d=y(e,["toolConfig"]);if(t!==void 0&&d!=null&&w(t,["toolConfig"],d),y(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function X4(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&w(t,["ttl"],r);const i=y(e,["expireTime"]);t!==void 0&&i!=null&&w(t,["expireTime"],i);const o=y(e,["displayName"]);t!==void 0&&o!=null&&w(t,["displayName"],o);const l=y(e,["contents"]);if(t!==void 0&&l!=null){let g=xr(l);Array.isArray(g)&&(g=g.map(v=>v)),w(t,["contents"],g)}const u=y(e,["systemInstruction"]);t!==void 0&&u!=null&&w(t,["systemInstruction"],gn(u));const f=y(e,["tools"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>yq(v))),w(t,["tools"],g)}const d=y(e,["toolConfig"]);t!==void 0&&d!=null&&w(t,["toolConfig"],d);const h=y(e,["kmsKeyName"]);return t!==void 0&&h!=null&&w(t,["encryption_spec","kmsKeyName"],h),n}function Q4(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["model"],OP(e,r));const i=y(t,["config"]);return i!=null&&J4(i,n),n}function Z4(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["model"],OP(e,r));const i=y(t,["config"]);return i!=null&&X4(i,n),n}function eq(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],Ai(e,r)),n}function tq(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],Ai(e,r)),n}function nq(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function rq(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function iq(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function aq(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&w(t,["description"],n);const r=y(e,["name"]);r!=null&&w(t,["name"],r);const i=y(e,["parameters"]);i!=null&&w(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&w(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&w(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&w(t,["responseJsonSchema"],u),t}function oq(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],Ai(e,r)),n}function sq(e,t){const n={},r=y(t,["name"]);return r!=null&&w(n,["_url","name"],Ai(e,r)),n}function lq(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function uq(e){const t={},n=y(e,["timeRangeFilter"]);if(n!=null&&w(t,["timeRangeFilter"],n),y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function cq(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),n}function dq(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),n}function fq(e){const t={},n=y(e,["config"]);return n!=null&&cq(n,t),t}function hq(e){const t={},n=y(e,["config"]);return n!=null&&dq(n,t),t}function mq(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(t,["cachedContents"],o)}return t}function pq(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const i=y(e,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(t,["cachedContents"],o)}return t}function gq(e){const t={},n=y(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],n);const r=y(e,["thought"]);r!=null&&w(t,["thought"],r);const i=y(e,["inlineData"]);i!=null&&w(t,["inlineData"],Y4(i));const o=y(e,["fileData"]);o!=null&&w(t,["fileData"],iq(o));const l=y(e,["thoughtSignature"]);l!=null&&w(t,["thoughtSignature"],l);const u=y(e,["functionCall"]);u!=null&&w(t,["functionCall"],u);const f=y(e,["codeExecutionResult"]);f!=null&&w(t,["codeExecutionResult"],f);const d=y(e,["executableCode"]);d!=null&&w(t,["executableCode"],d);const h=y(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const g=y(e,["text"]);return g!=null&&w(t,["text"],g),t}function vq(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearch"]);r!=null&&w(t,["googleSearch"],uq(r));const i=y(e,["googleSearchRetrieval"]);if(i!=null&&w(t,["googleSearchRetrieval"],i),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],lq(o));const l=y(e,["urlContext"]);l!=null&&w(t,["urlContext"],l);const u=y(e,["computerUse"]);u!=null&&w(t,["computerUse"],u);const f=y(e,["codeExecution"]);return f!=null&&w(t,["codeExecution"],f),t}function yq(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>aq(v))),w(t,["functionDeclarations"],g)}const r=y(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const i=y(e,["googleSearch"]);i!=null&&w(t,["googleSearch"],i);const o=y(e,["googleSearchRetrieval"]);o!=null&&w(t,["googleSearchRetrieval"],o);const l=y(e,["enterpriseWebSearch"]);l!=null&&w(t,["enterpriseWebSearch"],l);const u=y(e,["googleMaps"]);u!=null&&w(t,["googleMaps"],u);const f=y(e,["urlContext"]);f!=null&&w(t,["urlContext"],f);const d=y(e,["computerUse"]);d!=null&&w(t,["computerUse"],d);const h=y(e,["codeExecution"]);return h!=null&&w(t,["codeExecution"],h),t}function bq(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&w(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&w(t,["expireTime"],i),n}function xq(e,t){const n={},r=y(e,["ttl"]);t!==void 0&&r!=null&&w(t,["ttl"],r);const i=y(e,["expireTime"]);return t!==void 0&&i!=null&&w(t,["expireTime"],i),n}function wq(e,t){const n={},r=y(t,["name"]);r!=null&&w(n,["_url","name"],Ai(e,r));const i=y(t,["config"]);return i!=null&&bq(i,n),n}function _q(e,t){const n={},r=y(t,["name"]);r!=null&&w(n,["_url","name"],Ai(e,r));const i=y(t,["config"]);return i!=null&&xq(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sq extends _o{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ju(uo.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Z4(this.apiClient,t);return u=ge("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=Q4(this.apiClient,t);return u=ge("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=sq(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=oq(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=tq(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=rq(h),v=new oT;return Object.assign(v,g),v})}else{const d=eq(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=nq(h),v=new oT;return Object.assign(v,g),v})}}async update(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=_q(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=wq(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=hq(t);return u=ge("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=pq(h),v=new sT;return Object.assign(v,g),v})}else{const d=fq(t);return u=ge("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=mq(h),v=new sT;return Object.assign(v,g),v})}}}function mT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(e){return this instanceof ht?(this.v=e,this):new ht(e)}function _s(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(x){return function(S){return Promise.resolve(S).then(x,g)}}function u(x,S){r[x]&&(i[x]=function(E){return new Promise(function(T,C){o.push([x,E,T,C])>1||f(x,E)})},S&&(i[x]=S(i[x])))}function f(x,S){try{d(r[x](S))}catch(E){v(o[0][3],E)}}function d(x){x.value instanceof ht?Promise.resolve(x.value.v).then(h,g):v(o[0][2],x)}function h(x){f("next",x)}function g(x){f("throw",x)}function v(x,S){x(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function fu(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof mT=="function"?mT(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(u,f){l=e[o](l),i(u,f,l.done,l.value)})}}function i(o,l,u,f){Promise.resolve(f).then(function(d){o({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eq(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:VP(n)}function VP(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function Aq(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function pT(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),o&&!VP(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}class Tq{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Cq(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Cq{constructor(t,n,r,i={},o=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),Aq(o)}async sendMessage(t){var n;await this.sendPromise;const r=gn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,u;const f=await i,d=(l=(o=f.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(g))!==null&&u!==void 0?u:[]);const x=d?[d]:[];this.recordHistory(r,x,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=gn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(t=!1){const n=t?pT(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){var r,i;return _s(this,arguments,function*(){var l,u,f,d;const h=[];try{for(var g=!0,v=fu(t),x;x=yield ht(v.next()),l=x.done,!l;g=!0){d=x.value,g=!1;const S=d;if(Eq(S)){const E=(i=(r=S.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;E!==void 0&&h.push(E)}yield yield ht(S)}}catch(S){u={error:S}}finally{try{!g&&!l&&(f=v.return)&&(yield ht(f.call(v)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...pT(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gf extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Gf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nq(e){const t={},n=y(e,["file"]);return n!=null&&w(t,["file"],n),t}function Pq(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function Oq(e){const t={},n=y(e,["name"]);return n!=null&&w(t,["_url","file"],IP(n)),t}function kq(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function jq(e){const t={},n=y(e,["name"]);return n!=null&&w(t,["_url","file"],IP(n)),t}function Rq(e,t){const n={},r=y(e,["pageSize"]);t!==void 0&&r!=null&&w(t,["_query","pageSize"],r);const i=y(e,["pageToken"]);return t!==void 0&&i!=null&&w(t,["_query","pageToken"],i),n}function Dq(e){const t={},n=y(e,["config"]);return n!=null&&Rq(n,t),t}function Mq(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const i=y(e,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),w(t,["files"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Iq extends _o{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new ju(uo.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Dq(t);return o=ge("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Mq(f),h=new G3;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Nq(t);return o=ge("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Pq(f),h=new W3;return Object.assign(h,d),h})}}async get(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jq(t);return o=ge("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Oq(t);return o=ge("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=kq(f),h=new Y3;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zd(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["data"]);n!=null&&w(t,["data"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function Lq(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Qq(o))),w(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&w(t,["role"],r),t}function Uq(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function Bq(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&w(t,["description"],n);const r=y(e,["name"]);r!=null&&w(t,["name"],r);const i=y(e,["parameters"]);i!=null&&w(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&w(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&w(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&w(t,["responseJsonSchema"],u),t}function qq(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&w(t,["modelConfig"],n);const r=y(e,["audioTimestamp"]);r!=null&&w(t,["audioTimestamp"],r);const i=y(e,["candidateCount"]);i!=null&&w(t,["candidateCount"],i);const o=y(e,["enableAffectiveDialog"]);o!=null&&w(t,["enableAffectiveDialog"],o);const l=y(e,["frequencyPenalty"]);l!=null&&w(t,["frequencyPenalty"],l);const u=y(e,["logprobs"]);u!=null&&w(t,["logprobs"],u);const f=y(e,["maxOutputTokens"]);f!=null&&w(t,["maxOutputTokens"],f);const d=y(e,["mediaResolution"]);d!=null&&w(t,["mediaResolution"],d);const h=y(e,["presencePenalty"]);h!=null&&w(t,["presencePenalty"],h);const g=y(e,["responseJsonSchema"]);g!=null&&w(t,["responseJsonSchema"],g);const v=y(e,["responseLogprobs"]);v!=null&&w(t,["responseLogprobs"],v);const x=y(e,["responseMimeType"]);x!=null&&w(t,["responseMimeType"],x);const S=y(e,["responseModalities"]);S!=null&&w(t,["responseModalities"],S);const E=y(e,["responseSchema"]);E!=null&&w(t,["responseSchema"],E);const T=y(e,["routingConfig"]);T!=null&&w(t,["routingConfig"],T);const C=y(e,["seed"]);C!=null&&w(t,["seed"],C);const P=y(e,["speechConfig"]);P!=null&&w(t,["speechConfig"],HP(P));const O=y(e,["stopSequences"]);O!=null&&w(t,["stopSequences"],O);const R=y(e,["temperature"]);R!=null&&w(t,["temperature"],R);const k=y(e,["thinkingConfig"]);k!=null&&w(t,["thinkingConfig"],k);const j=y(e,["topK"]);j!=null&&w(t,["topK"],j);const M=y(e,["topP"]);if(M!=null&&w(t,["topP"],M),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function $q(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function zq(e){const t={},n=y(e,["timeRangeFilter"]);if(n!=null&&w(t,["timeRangeFilter"],n),y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Vq(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&w(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&w(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","topK"],u);const f=y(e,["maxOutputTokens"]);t!==void 0&&f!=null&&w(t,["setup","generationConfig","maxOutputTokens"],f);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","mediaResolution"],d);const h=y(e,["seed"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","seed"],h);const g=y(e,["speechConfig"]);t!==void 0&&g!=null&&w(t,["setup","generationConfig","speechConfig"],w0(g));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&w(t,["setup","generationConfig","thinkingConfig"],v);const x=y(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=y(e,["systemInstruction"]);t!==void 0&&S!=null&&w(t,["setup","systemInstruction"],Lq(gn(S)));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let j=$s(E);Array.isArray(j)&&(j=j.map(M=>e$(qs(M)))),w(t,["setup","tools"],j)}const T=y(e,["sessionResumption"]);t!==void 0&&T!=null&&w(t,["setup","sessionResumption"],Zq(T));const C=y(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&w(t,["setup","inputAudioTranscription"],C);const P=y(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&w(t,["setup","outputAudioTranscription"],P);const O=y(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&w(t,["setup","realtimeInputConfig"],O);const R=y(e,["contextWindowCompression"]);t!==void 0&&R!=null&&w(t,["setup","contextWindowCompression"],R);const k=y(e,["proactivity"]);return t!==void 0&&k!=null&&w(t,["setup","proactivity"],k),n}function Hq(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&w(t,["setup","generationConfig"],qq(r));const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&w(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","topK"],u);const f=y(e,["maxOutputTokens"]);t!==void 0&&f!=null&&w(t,["setup","generationConfig","maxOutputTokens"],f);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","mediaResolution"],d);const h=y(e,["seed"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","seed"],h);const g=y(e,["speechConfig"]);t!==void 0&&g!=null&&w(t,["setup","generationConfig","speechConfig"],HP(w0(g)));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&w(t,["setup","generationConfig","thinkingConfig"],v);const x=y(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=y(e,["systemInstruction"]);t!==void 0&&S!=null&&w(t,["setup","systemInstruction"],gn(S));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let j=$s(E);Array.isArray(j)&&(j=j.map(M=>t$(qs(M)))),w(t,["setup","tools"],j)}const T=y(e,["sessionResumption"]);t!==void 0&&T!=null&&w(t,["setup","sessionResumption"],T);const C=y(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&w(t,["setup","inputAudioTranscription"],C);const P=y(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&w(t,["setup","outputAudioTranscription"],P);const O=y(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&w(t,["setup","realtimeInputConfig"],O);const R=y(e,["contextWindowCompression"]);t!==void 0&&R!=null&&w(t,["setup","contextWindowCompression"],R);const k=y(e,["proactivity"]);return t!==void 0&&k!=null&&w(t,["setup","proactivity"],k),n}function Kq(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["setup","model"],Ke(e,r));const i=y(t,["config"]);return i!=null&&w(n,["config"],Vq(i,n)),n}function Fq(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["setup","model"],Ke(e,r));const i=y(t,["config"]);return i!=null&&w(n,["config"],Hq(i,n)),n}function Gq(e){const t={},n=y(e,["musicGenerationConfig"]);return n!=null&&w(t,["musicGenerationConfig"],n),t}function Wq(e){const t={},n=y(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(t,["weightedPrompts"],r)}return t}function Yq(e){const t={},n=y(e,["media"]);if(n!=null){let d=kP(n);Array.isArray(d)&&(d=d.map(h=>zd(h))),w(t,["mediaChunks"],d)}const r=y(e,["audio"]);r!=null&&w(t,["audio"],zd(RP(r)));const i=y(e,["audioStreamEnd"]);i!=null&&w(t,["audioStreamEnd"],i);const o=y(e,["video"]);o!=null&&w(t,["video"],zd(jP(o)));const l=y(e,["text"]);l!=null&&w(t,["text"],l);const u=y(e,["activityStart"]);u!=null&&w(t,["activityStart"],u);const f=y(e,["activityEnd"]);return f!=null&&w(t,["activityEnd"],f),t}function Jq(e){const t={},n=y(e,["media"]);if(n!=null){let d=kP(n);Array.isArray(d)&&(d=d.map(h=>h)),w(t,["mediaChunks"],d)}const r=y(e,["audio"]);r!=null&&w(t,["audio"],RP(r));const i=y(e,["audioStreamEnd"]);i!=null&&w(t,["audioStreamEnd"],i);const o=y(e,["video"]);o!=null&&w(t,["video"],jP(o));const l=y(e,["text"]);l!=null&&w(t,["text"],l);const u=y(e,["activityStart"]);u!=null&&w(t,["activityStart"],u);const f=y(e,["activityEnd"]);return f!=null&&w(t,["activityEnd"],f),t}function Xq(e){const t={},n=y(e,["setupComplete"]);n!=null&&w(t,["setupComplete"],n);const r=y(e,["serverContent"]);r!=null&&w(t,["serverContent"],r);const i=y(e,["toolCall"]);i!=null&&w(t,["toolCall"],i);const o=y(e,["toolCallCancellation"]);o!=null&&w(t,["toolCallCancellation"],o);const l=y(e,["usageMetadata"]);l!=null&&w(t,["usageMetadata"],n$(l));const u=y(e,["goAway"]);u!=null&&w(t,["goAway"],u);const f=y(e,["sessionResumptionUpdate"]);return f!=null&&w(t,["sessionResumptionUpdate"],f),t}function Qq(e){const t={},n=y(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],n);const r=y(e,["thought"]);r!=null&&w(t,["thought"],r);const i=y(e,["inlineData"]);i!=null&&w(t,["inlineData"],zd(i));const o=y(e,["fileData"]);o!=null&&w(t,["fileData"],Uq(o));const l=y(e,["thoughtSignature"]);l!=null&&w(t,["thoughtSignature"],l);const u=y(e,["functionCall"]);u!=null&&w(t,["functionCall"],u);const f=y(e,["codeExecutionResult"]);f!=null&&w(t,["codeExecutionResult"],f);const d=y(e,["executableCode"]);d!=null&&w(t,["executableCode"],d);const h=y(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const g=y(e,["text"]);return g!=null&&w(t,["text"],g),t}function Zq(e){const t={},n=y(e,["handle"]);if(n!=null&&w(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function HP(e){const t={},n=y(e,["voiceConfig"]);if(n!=null&&w(t,["voiceConfig"],n),y(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=y(e,["languageCode"]);return r!=null&&w(t,["languageCode"],r),t}function e$(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearch"]);r!=null&&w(t,["googleSearch"],zq(r));const i=y(e,["googleSearchRetrieval"]);if(i!=null&&w(t,["googleSearchRetrieval"],i),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],$q(o));const l=y(e,["urlContext"]);l!=null&&w(t,["urlContext"],l);const u=y(e,["computerUse"]);u!=null&&w(t,["computerUse"],u);const f=y(e,["codeExecution"]);return f!=null&&w(t,["codeExecution"],f),t}function t$(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>Bq(v))),w(t,["functionDeclarations"],g)}const r=y(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const i=y(e,["googleSearch"]);i!=null&&w(t,["googleSearch"],i);const o=y(e,["googleSearchRetrieval"]);o!=null&&w(t,["googleSearchRetrieval"],o);const l=y(e,["enterpriseWebSearch"]);l!=null&&w(t,["enterpriseWebSearch"],l);const u=y(e,["googleMaps"]);u!=null&&w(t,["googleMaps"],u);const f=y(e,["urlContext"]);f!=null&&w(t,["urlContext"],f);const d=y(e,["computerUse"]);d!=null&&w(t,["computerUse"],d);const h=y(e,["codeExecution"]);return h!=null&&w(t,["codeExecution"],h),t}function n$(e){const t={},n=y(e,["promptTokenCount"]);n!=null&&w(t,["promptTokenCount"],n);const r=y(e,["cachedContentTokenCount"]);r!=null&&w(t,["cachedContentTokenCount"],r);const i=y(e,["candidatesTokenCount"]);i!=null&&w(t,["responseTokenCount"],i);const o=y(e,["toolUsePromptTokenCount"]);o!=null&&w(t,["toolUsePromptTokenCount"],o);const l=y(e,["thoughtsTokenCount"]);l!=null&&w(t,["thoughtsTokenCount"],l);const u=y(e,["totalTokenCount"]);u!=null&&w(t,["totalTokenCount"],u);const f=y(e,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(S=>S)),w(t,["promptTokensDetails"],x)}const d=y(e,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(S=>S)),w(t,["cacheTokensDetails"],x)}const h=y(e,["candidatesTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(S=>S)),w(t,["responseTokensDetails"],x)}const g=y(e,["toolUsePromptTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(S=>S)),w(t,["toolUsePromptTokensDetails"],x)}const v=y(e,["trafficType"]);return v!=null&&w(t,["trafficType"],v),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r$(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["data"]);n!=null&&w(t,["data"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function i$(e){const t={},n=y(e,["content"]);n!=null&&w(t,["content"],n);const r=y(e,["citationMetadata"]);r!=null&&w(t,["citationMetadata"],a$(r));const i=y(e,["tokenCount"]);i!=null&&w(t,["tokenCount"],i);const o=y(e,["finishReason"]);o!=null&&w(t,["finishReason"],o);const l=y(e,["urlContextMetadata"]);l!=null&&w(t,["urlContextMetadata"],l);const u=y(e,["avgLogprobs"]);u!=null&&w(t,["avgLogprobs"],u);const f=y(e,["groundingMetadata"]);f!=null&&w(t,["groundingMetadata"],f);const d=y(e,["index"]);d!=null&&w(t,["index"],d);const h=y(e,["logprobsResult"]);h!=null&&w(t,["logprobsResult"],h);const g=y(e,["safetyRatings"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(x=>x)),w(t,["safetyRatings"],v)}return t}function a$(e){const t={},n=y(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),w(t,["citations"],r)}return t}function o$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["contents"]);if(i!=null){let o=xr(i);Array.isArray(o)&&(o=o.map(l=>l)),w(n,["contents"],o)}return n}function s$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(t,["tokensInfo"],i)}return t}function l$(e){const t={},n=y(e,["values"]);n!=null&&w(t,["values"],n);const r=y(e,["statistics"]);return r!=null&&w(t,["statistics"],u$(r)),t}function u$(e){const t={},n=y(e,["truncated"]);n!=null&&w(t,["truncated"],n);const r=y(e,["token_count"]);return r!=null&&w(t,["tokenCount"],r),t}function Wf(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>m5(o))),w(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&w(t,["role"],r),t}function c$(e){const t={},n=y(e,["controlType"]);n!=null&&w(t,["controlType"],n);const r=y(e,["enableControlImageComputation"]);return r!=null&&w(t,["computeControl"],r),t}function d$(e){const t={};if(y(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function f$(e,t){const n={},r=y(e,["systemInstruction"]);t!==void 0&&r!=null&&w(t,["systemInstruction"],gn(r));const i=y(e,["tools"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>YP(u))),w(t,["tools"],l)}const o=y(e,["generationConfig"]);return t!==void 0&&o!=null&&w(t,["generationConfig"],t5(o)),n}function h$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["contents"]);if(i!=null){let l=xr(i);Array.isArray(l)&&(l=l.map(u=>Wf(u))),w(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&d$(o),n}function m$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["contents"]);if(i!=null){let l=xr(i);Array.isArray(l)&&(l=l.map(u=>u)),w(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&f$(o,n),n}function p$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);r!=null&&w(t,["totalTokens"],r);const i=y(e,["cachedContentTokenCount"]);return i!=null&&w(t,["cachedContentTokenCount"],i),t}function g$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["totalTokens"]);return r!=null&&w(t,["totalTokens"],r),t}function v$(e,t){const n={},r=y(t,["model"]);return r!=null&&w(n,["_url","name"],Ke(e,r)),n}function y$(e,t){const n={},r=y(t,["model"]);return r!=null&&w(n,["_url","name"],Ke(e,r)),n}function b$(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function x$(e){const t={},n=y(e,["sdkHttpResponse"]);return n!=null&&w(t,["sdkHttpResponse"],n),t}function w$(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&w(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&w(t,["parameters","negativePrompt"],i);const o=y(e,["numberOfImages"]);t!==void 0&&o!=null&&w(t,["parameters","sampleCount"],o);const l=y(e,["aspectRatio"]);t!==void 0&&l!=null&&w(t,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&w(t,["parameters","guidanceScale"],u);const f=y(e,["seed"]);t!==void 0&&f!=null&&w(t,["parameters","seed"],f);const d=y(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&w(t,["parameters","safetySetting"],d);const h=y(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const g=y(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&w(t,["parameters","includeSafetyAttributes"],g);const v=y(e,["includeRaiReason"]);t!==void 0&&v!=null&&w(t,["parameters","includeRaiReason"],v);const x=y(e,["language"]);t!==void 0&&x!=null&&w(t,["parameters","language"],x);const S=y(e,["outputMimeType"]);t!==void 0&&S!=null&&w(t,["parameters","outputOptions","mimeType"],S);const E=y(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&w(t,["parameters","outputOptions","compressionQuality"],E);const T=y(e,["addWatermark"]);t!==void 0&&T!=null&&w(t,["parameters","addWatermark"],T);const C=y(e,["labels"]);t!==void 0&&C!=null&&w(t,["labels"],C);const P=y(e,["editMode"]);t!==void 0&&P!=null&&w(t,["parameters","editMode"],P);const O=y(e,["baseSteps"]);return t!==void 0&&O!=null&&w(t,["parameters","editConfig","baseSteps"],O),n}function _$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=y(t,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>x5(f))),w(n,["instances[0]","referenceImages"],u)}const l=y(t,["config"]);return l!=null&&w$(l,n),n}function S$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Yf(o))),w(t,["generatedImages"],i)}return t}function E$(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&w(t,["requests[]","taskType"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&w(t,["requests[]","title"],i);const o=y(e,["outputDimensionality"]);if(t!==void 0&&o!=null&&w(t,["requests[]","outputDimensionality"],o),y(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function A$(e,t){const n={},r=y(e,["taskType"]);t!==void 0&&r!=null&&w(t,["instances[]","task_type"],r);const i=y(e,["title"]);t!==void 0&&i!=null&&w(t,["instances[]","title"],i);const o=y(e,["outputDimensionality"]);t!==void 0&&o!=null&&w(t,["parameters","outputDimensionality"],o);const l=y(e,["mimeType"]);t!==void 0&&l!=null&&w(t,["instances[]","mimeType"],l);const u=y(e,["autoTruncate"]);return t!==void 0&&u!=null&&w(t,["parameters","autoTruncate"],u),n}function T$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["contents"]);if(i!=null){let u=y0(e,i);Array.isArray(u)&&(u=u.map(f=>f)),w(n,["requests[]","content"],u)}const o=y(t,["config"]);o!=null&&E$(o,n);const l=y(t,["model"]);return l!==void 0&&w(n,["requests[]","model"],Ke(e,l)),n}function C$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["contents"]);if(i!=null){let l=y0(e,i);Array.isArray(l)&&(l=l.map(u=>u)),w(n,["instances[]","content"],l)}const o=y(t,["config"]);return o!=null&&A$(o,n),n}function N$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),w(t,["embeddings"],o)}const i=y(e,["metadata"]);return i!=null&&w(t,["metadata"],i),t}function P$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l$(l))),w(t,["embeddings"],o)}const i=y(e,["metadata"]);return i!=null&&w(t,["metadata"],i),t}function O$(e){const t={},n=y(e,["endpoint"]);n!=null&&w(t,["name"],n);const r=y(e,["deployedModelId"]);return r!=null&&w(t,["deployedModelId"],r),t}function k$(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function j$(e){const t={};if(y(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=y(e,["description"]);n!=null&&w(t,["description"],n);const r=y(e,["name"]);r!=null&&w(t,["name"],r);const i=y(e,["parameters"]);i!=null&&w(t,["parameters"],i);const o=y(e,["parametersJsonSchema"]);o!=null&&w(t,["parametersJsonSchema"],o);const l=y(e,["response"]);l!=null&&w(t,["response"],l);const u=y(e,["responseJsonSchema"]);return u!=null&&w(t,["responseJsonSchema"],u),t}function R$(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],Wf(gn(i)));const o=y(t,["temperature"]);o!=null&&w(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&w(r,["topP"],l);const u=y(t,["topK"]);u!=null&&w(r,["topK"],u);const f=y(t,["candidateCount"]);f!=null&&w(r,["candidateCount"],f);const d=y(t,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=y(t,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const g=y(t,["responseLogprobs"]);g!=null&&w(r,["responseLogprobs"],g);const v=y(t,["logprobs"]);v!=null&&w(r,["logprobs"],v);const x=y(t,["presencePenalty"]);x!=null&&w(r,["presencePenalty"],x);const S=y(t,["frequencyPenalty"]);S!=null&&w(r,["frequencyPenalty"],S);const E=y(t,["seed"]);E!=null&&w(r,["seed"],E);const T=y(t,["responseMimeType"]);T!=null&&w(r,["responseMimeType"],T);const C=y(t,["responseSchema"]);C!=null&&w(r,["responseSchema"],b0(C));const P=y(t,["responseJsonSchema"]);if(P!=null&&w(r,["responseJsonSchema"],P),y(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=y(t,["safetySettings"]);if(n!==void 0&&O!=null){let L=O;Array.isArray(L)&&(L=L.map(H=>w5(H))),w(n,["safetySettings"],L)}const R=y(t,["tools"]);if(n!==void 0&&R!=null){let L=$s(R);Array.isArray(L)&&(L=L.map(H=>C5(qs(H)))),w(n,["tools"],L)}const k=y(t,["toolConfig"]);if(n!==void 0&&k!=null&&w(n,["toolConfig"],k),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=y(t,["cachedContent"]);n!==void 0&&j!=null&&w(n,["cachedContent"],Ai(e,j));const M=y(t,["responseModalities"]);M!=null&&w(r,["responseModalities"],M);const V=y(t,["mediaResolution"]);V!=null&&w(r,["mediaResolution"],V);const z=y(t,["speechConfig"]);if(z!=null&&w(r,["speechConfig"],x0(z)),y(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const te=y(t,["thinkingConfig"]);te!=null&&w(r,["thinkingConfig"],te);const Z=y(t,["imageConfig"]);return Z!=null&&w(r,["imageConfig"],Z),r}function D$(e,t,n){const r={},i=y(t,["systemInstruction"]);n!==void 0&&i!=null&&w(n,["systemInstruction"],gn(i));const o=y(t,["temperature"]);o!=null&&w(r,["temperature"],o);const l=y(t,["topP"]);l!=null&&w(r,["topP"],l);const u=y(t,["topK"]);u!=null&&w(r,["topK"],u);const f=y(t,["candidateCount"]);f!=null&&w(r,["candidateCount"],f);const d=y(t,["maxOutputTokens"]);d!=null&&w(r,["maxOutputTokens"],d);const h=y(t,["stopSequences"]);h!=null&&w(r,["stopSequences"],h);const g=y(t,["responseLogprobs"]);g!=null&&w(r,["responseLogprobs"],g);const v=y(t,["logprobs"]);v!=null&&w(r,["logprobs"],v);const x=y(t,["presencePenalty"]);x!=null&&w(r,["presencePenalty"],x);const S=y(t,["frequencyPenalty"]);S!=null&&w(r,["frequencyPenalty"],S);const E=y(t,["seed"]);E!=null&&w(r,["seed"],E);const T=y(t,["responseMimeType"]);T!=null&&w(r,["responseMimeType"],T);const C=y(t,["responseSchema"]);C!=null&&w(r,["responseSchema"],b0(C));const P=y(t,["responseJsonSchema"]);P!=null&&w(r,["responseJsonSchema"],P);const O=y(t,["routingConfig"]);O!=null&&w(r,["routingConfig"],O);const R=y(t,["modelSelectionConfig"]);R!=null&&w(r,["modelConfig"],R);const k=y(t,["safetySettings"]);if(n!==void 0&&k!=null){let B=k;Array.isArray(B)&&(B=B.map(F=>F)),w(n,["safetySettings"],B)}const j=y(t,["tools"]);if(n!==void 0&&j!=null){let B=$s(j);Array.isArray(B)&&(B=B.map(F=>YP(qs(F)))),w(n,["tools"],B)}const M=y(t,["toolConfig"]);n!==void 0&&M!=null&&w(n,["toolConfig"],M);const V=y(t,["labels"]);n!==void 0&&V!=null&&w(n,["labels"],V);const z=y(t,["cachedContent"]);n!==void 0&&z!=null&&w(n,["cachedContent"],Ai(e,z));const te=y(t,["responseModalities"]);te!=null&&w(r,["responseModalities"],te);const Z=y(t,["mediaResolution"]);Z!=null&&w(r,["mediaResolution"],Z);const L=y(t,["speechConfig"]);L!=null&&w(r,["speechConfig"],WP(x0(L)));const H=y(t,["audioTimestamp"]);H!=null&&w(r,["audioTimestamp"],H);const J=y(t,["thinkingConfig"]);J!=null&&w(r,["thinkingConfig"],J);const re=y(t,["imageConfig"]);return re!=null&&w(r,["imageConfig"],re),r}function gT(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["contents"]);if(i!=null){let l=xr(i);Array.isArray(l)&&(l=l.map(u=>Wf(u))),w(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&w(n,["generationConfig"],R$(e,o,n)),n}function vT(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["contents"]);if(i!=null){let l=xr(i);Array.isArray(l)&&(l=l.map(u=>u)),w(n,["contents"],l)}const o=y(t,["config"]);return o!=null&&w(n,["generationConfig"],D$(e,o,n)),n}function yT(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>i$(d))),w(t,["candidates"],f)}const i=y(e,["modelVersion"]);i!=null&&w(t,["modelVersion"],i);const o=y(e,["promptFeedback"]);o!=null&&w(t,["promptFeedback"],o);const l=y(e,["responseId"]);l!=null&&w(t,["responseId"],l);const u=y(e,["usageMetadata"]);return u!=null&&w(t,["usageMetadata"],u),t}function bT(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["candidates"],d)}const i=y(e,["createTime"]);i!=null&&w(t,["createTime"],i);const o=y(e,["modelVersion"]);o!=null&&w(t,["modelVersion"],o);const l=y(e,["promptFeedback"]);l!=null&&w(t,["promptFeedback"],l);const u=y(e,["responseId"]);u!=null&&w(t,["responseId"],u);const f=y(e,["usageMetadata"]);return f!=null&&w(t,["usageMetadata"],f),t}function M$(e,t){const n={};if(y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&w(t,["parameters","sampleCount"],r);const i=y(e,["aspectRatio"]);t!==void 0&&i!=null&&w(t,["parameters","aspectRatio"],i);const o=y(e,["guidanceScale"]);if(t!==void 0&&o!=null&&w(t,["parameters","guidanceScale"],o),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=y(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&w(t,["parameters","safetySetting"],l);const u=y(e,["personGeneration"]);t!==void 0&&u!=null&&w(t,["parameters","personGeneration"],u);const f=y(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&w(t,["parameters","includeSafetyAttributes"],f);const d=y(e,["includeRaiReason"]);t!==void 0&&d!=null&&w(t,["parameters","includeRaiReason"],d);const h=y(e,["language"]);t!==void 0&&h!=null&&w(t,["parameters","language"],h);const g=y(e,["outputMimeType"]);t!==void 0&&g!=null&&w(t,["parameters","outputOptions","mimeType"],g);const v=y(e,["outputCompressionQuality"]);if(t!==void 0&&v!=null&&w(t,["parameters","outputOptions","compressionQuality"],v),y(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=y(e,["imageSize"]);if(t!==void 0&&x!=null&&w(t,["parameters","sampleImageSize"],x),y(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function I$(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&w(t,["parameters","storageUri"],r);const i=y(e,["negativePrompt"]);t!==void 0&&i!=null&&w(t,["parameters","negativePrompt"],i);const o=y(e,["numberOfImages"]);t!==void 0&&o!=null&&w(t,["parameters","sampleCount"],o);const l=y(e,["aspectRatio"]);t!==void 0&&l!=null&&w(t,["parameters","aspectRatio"],l);const u=y(e,["guidanceScale"]);t!==void 0&&u!=null&&w(t,["parameters","guidanceScale"],u);const f=y(e,["seed"]);t!==void 0&&f!=null&&w(t,["parameters","seed"],f);const d=y(e,["safetyFilterLevel"]);t!==void 0&&d!=null&&w(t,["parameters","safetySetting"],d);const h=y(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const g=y(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&w(t,["parameters","includeSafetyAttributes"],g);const v=y(e,["includeRaiReason"]);t!==void 0&&v!=null&&w(t,["parameters","includeRaiReason"],v);const x=y(e,["language"]);t!==void 0&&x!=null&&w(t,["parameters","language"],x);const S=y(e,["outputMimeType"]);t!==void 0&&S!=null&&w(t,["parameters","outputOptions","mimeType"],S);const E=y(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&w(t,["parameters","outputOptions","compressionQuality"],E);const T=y(e,["addWatermark"]);t!==void 0&&T!=null&&w(t,["parameters","addWatermark"],T);const C=y(e,["labels"]);t!==void 0&&C!=null&&w(t,["labels"],C);const P=y(e,["imageSize"]);t!==void 0&&P!=null&&w(t,["parameters","sampleImageSize"],P);const O=y(e,["enhancePrompt"]);return t!==void 0&&O!=null&&w(t,["parameters","enhancePrompt"],O),n}function L$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=y(t,["config"]);return o!=null&&M$(o,n),n}function U$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=y(t,["config"]);return o!=null&&I$(o,n),n}function B$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>X$(l))),w(t,["generatedImages"],o)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&w(t,["positivePromptSafetyAttributes"],FP(i)),t}function q$(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Yf(l))),w(t,["generatedImages"],o)}const i=y(e,["positivePromptSafetyAttributes"]);return i!=null&&w(t,["positivePromptSafetyAttributes"],GP(i)),t}function $$(e,t){const n={},r=y(e,["numberOfVideos"]);if(t!==void 0&&r!=null&&w(t,["parameters","sampleCount"],r),y(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=y(e,["durationSeconds"]);if(t!==void 0&&i!=null&&w(t,["parameters","durationSeconds"],i),y(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=y(e,["aspectRatio"]);t!==void 0&&o!=null&&w(t,["parameters","aspectRatio"],o);const l=y(e,["resolution"]);t!==void 0&&l!=null&&w(t,["parameters","resolution"],l);const u=y(e,["personGeneration"]);if(t!==void 0&&u!=null&&w(t,["parameters","personGeneration"],u),y(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(e,["negativePrompt"]);t!==void 0&&f!=null&&w(t,["parameters","negativePrompt"],f);const d=y(e,["enhancePrompt"]);if(t!==void 0&&d!=null&&w(t,["parameters","enhancePrompt"],d),y(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=y(e,["lastFrame"]);t!==void 0&&h!=null&&w(t,["instances[0]","lastFrame"],Jf(h));const g=y(e,["referenceImages"]);if(t!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(x=>q5(x))),w(t,["instances[0]","referenceImages"],v)}if(y(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function z$(e,t){const n={},r=y(e,["numberOfVideos"]);t!==void 0&&r!=null&&w(t,["parameters","sampleCount"],r);const i=y(e,["outputGcsUri"]);t!==void 0&&i!=null&&w(t,["parameters","storageUri"],i);const o=y(e,["fps"]);t!==void 0&&o!=null&&w(t,["parameters","fps"],o);const l=y(e,["durationSeconds"]);t!==void 0&&l!=null&&w(t,["parameters","durationSeconds"],l);const u=y(e,["seed"]);t!==void 0&&u!=null&&w(t,["parameters","seed"],u);const f=y(e,["aspectRatio"]);t!==void 0&&f!=null&&w(t,["parameters","aspectRatio"],f);const d=y(e,["resolution"]);t!==void 0&&d!=null&&w(t,["parameters","resolution"],d);const h=y(e,["personGeneration"]);t!==void 0&&h!=null&&w(t,["parameters","personGeneration"],h);const g=y(e,["pubsubTopic"]);t!==void 0&&g!=null&&w(t,["parameters","pubsubTopic"],g);const v=y(e,["negativePrompt"]);t!==void 0&&v!=null&&w(t,["parameters","negativePrompt"],v);const x=y(e,["enhancePrompt"]);t!==void 0&&x!=null&&w(t,["parameters","enhancePrompt"],x);const S=y(e,["generateAudio"]);t!==void 0&&S!=null&&w(t,["parameters","generateAudio"],S);const E=y(e,["lastFrame"]);t!==void 0&&E!=null&&w(t,["instances[0]","lastFrame"],Ir(E));const T=y(e,["referenceImages"]);if(t!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(R=>$5(R))),w(t,["instances[0]","referenceImages"],O)}const C=y(e,["mask"]);t!==void 0&&C!=null&&w(t,["instances[0]","mask"],B5(C));const P=y(e,["compressionQuality"]);return t!==void 0&&P!=null&&w(t,["parameters","compressionQuality"],P),n}function V$(e){const t={},n=y(e,["name"]);n!=null&&w(t,["name"],n);const r=y(e,["metadata"]);r!=null&&w(t,["metadata"],r);const i=y(e,["done"]);i!=null&&w(t,["done"],i);const o=y(e,["error"]);o!=null&&w(t,["error"],o);const l=y(e,["response","generateVideoResponse"]);return l!=null&&w(t,["response"],G$(l)),t}function H$(e){const t={},n=y(e,["name"]);n!=null&&w(t,["name"],n);const r=y(e,["metadata"]);r!=null&&w(t,["metadata"],r);const i=y(e,["done"]);i!=null&&w(t,["done"],i);const o=y(e,["error"]);o!=null&&w(t,["error"],o);const l=y(e,["response"]);return l!=null&&w(t,["response"],W$(l)),t}function K$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=y(t,["image"]);o!=null&&w(n,["instances[0]","image"],Jf(o));const l=y(t,["video"]);l!=null&&w(n,["instances[0]","video"],JP(l));const u=y(t,["source"]);u!=null&&Y$(u,n);const f=y(t,["config"]);return f!=null&&$$(f,n),n}function F$(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["prompt"]);i!=null&&w(n,["instances[0]","prompt"],i);const o=y(t,["image"]);o!=null&&w(n,["instances[0]","image"],Ir(o));const l=y(t,["video"]);l!=null&&w(n,["instances[0]","video"],XP(l));const u=y(t,["source"]);u!=null&&J$(u,n);const f=y(t,["config"]);return f!=null&&z$(f,n),n}function G$(e){const t={},n=y(e,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Z$(l))),w(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&w(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function W$(e){const t={},n=y(e,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>e5(l))),w(t,["generatedVideos"],o)}const r=y(e,["raiMediaFilteredCount"]);r!=null&&w(t,["raiMediaFilteredCount"],r);const i=y(e,["raiMediaFilteredReasons"]);return i!=null&&w(t,["raiMediaFilteredReasons"],i),t}function Y$(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&w(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&w(t,["instances[0]","image"],Jf(i));const o=y(e,["video"]);return t!==void 0&&o!=null&&w(t,["instances[0]","video"],JP(o)),n}function J$(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&w(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&w(t,["instances[0]","image"],Ir(i));const o=y(e,["video"]);return t!==void 0&&o!=null&&w(t,["instances[0]","video"],XP(o)),n}function X$(e){const t={},n=y(e,["_self"]);n!=null&&w(t,["image"],o5(n));const r=y(e,["raiFilteredReason"]);r!=null&&w(t,["raiFilteredReason"],r);const i=y(e,["_self"]);return i!=null&&w(t,["safetyAttributes"],FP(i)),t}function Yf(e){const t={},n=y(e,["_self"]);n!=null&&w(t,["image"],KP(n));const r=y(e,["raiFilteredReason"]);r!=null&&w(t,["raiFilteredReason"],r);const i=y(e,["_self"]);i!=null&&w(t,["safetyAttributes"],GP(i));const o=y(e,["prompt"]);return o!=null&&w(t,["enhancedPrompt"],o),t}function Q$(e){const t={},n=y(e,["_self"]);n!=null&&w(t,["mask"],KP(n));const r=y(e,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(t,["labels"],i)}return t}function Z$(e){const t={},n=y(e,["video"]);return n!=null&&w(t,["video"],L5(n)),t}function e5(e){const t={},n=y(e,["_self"]);return n!=null&&w(t,["video"],U5(n)),t}function t5(e){const t={},n=y(e,["modelSelectionConfig"]);n!=null&&w(t,["modelConfig"],n);const r=y(e,["audioTimestamp"]);r!=null&&w(t,["audioTimestamp"],r);const i=y(e,["candidateCount"]);i!=null&&w(t,["candidateCount"],i);const o=y(e,["enableAffectiveDialog"]);o!=null&&w(t,["enableAffectiveDialog"],o);const l=y(e,["frequencyPenalty"]);l!=null&&w(t,["frequencyPenalty"],l);const u=y(e,["logprobs"]);u!=null&&w(t,["logprobs"],u);const f=y(e,["maxOutputTokens"]);f!=null&&w(t,["maxOutputTokens"],f);const d=y(e,["mediaResolution"]);d!=null&&w(t,["mediaResolution"],d);const h=y(e,["presencePenalty"]);h!=null&&w(t,["presencePenalty"],h);const g=y(e,["responseJsonSchema"]);g!=null&&w(t,["responseJsonSchema"],g);const v=y(e,["responseLogprobs"]);v!=null&&w(t,["responseLogprobs"],v);const x=y(e,["responseMimeType"]);x!=null&&w(t,["responseMimeType"],x);const S=y(e,["responseModalities"]);S!=null&&w(t,["responseModalities"],S);const E=y(e,["responseSchema"]);E!=null&&w(t,["responseSchema"],E);const T=y(e,["routingConfig"]);T!=null&&w(t,["routingConfig"],T);const C=y(e,["seed"]);C!=null&&w(t,["seed"],C);const P=y(e,["speechConfig"]);P!=null&&w(t,["speechConfig"],WP(P));const O=y(e,["stopSequences"]);O!=null&&w(t,["stopSequences"],O);const R=y(e,["temperature"]);R!=null&&w(t,["temperature"],R);const k=y(e,["thinkingConfig"]);k!=null&&w(t,["thinkingConfig"],k);const j=y(e,["topK"]);j!=null&&w(t,["topK"],j);const M=y(e,["topP"]);if(M!=null&&w(t,["topP"],M),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function n5(e,t){const n={},r=y(t,["model"]);return r!=null&&w(n,["_url","name"],Ke(e,r)),n}function r5(e,t){const n={},r=y(t,["model"]);return r!=null&&w(n,["_url","name"],Ke(e,r)),n}function i5(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function a5(e){const t={},n=y(e,["timeRangeFilter"]);if(n!=null&&w(t,["timeRangeFilter"],n),y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function o5(e){const t={},n=y(e,["bytesBase64Encoded"]);n!=null&&w(t,["imageBytes"],ba(n));const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function KP(e){const t={},n=y(e,["gcsUri"]);n!=null&&w(t,["gcsUri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&w(t,["imageBytes"],ba(r));const i=y(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function Jf(e){const t={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=y(e,["imageBytes"]);n!=null&&w(t,["bytesBase64Encoded"],ba(n));const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function Ir(e){const t={},n=y(e,["gcsUri"]);n!=null&&w(t,["gcsUri"],n);const r=y(e,["imageBytes"]);r!=null&&w(t,["bytesBase64Encoded"],ba(r));const i=y(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function s5(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=y(t,["pageToken"]);n!==void 0&&o!=null&&w(n,["_query","pageToken"],o);const l=y(t,["filter"]);n!==void 0&&l!=null&&w(n,["_query","filter"],l);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&w(n,["_url","models_url"],LP(e,u)),r}function l5(e,t,n){const r={},i=y(t,["pageSize"]);n!==void 0&&i!=null&&w(n,["_query","pageSize"],i);const o=y(t,["pageToken"]);n!==void 0&&o!=null&&w(n,["_query","pageToken"],o);const l=y(t,["filter"]);n!==void 0&&l!=null&&w(n,["_query","filter"],l);const u=y(t,["queryBase"]);return n!==void 0&&u!=null&&w(n,["_url","models_url"],LP(e,u)),r}function u5(e,t){const n={},r=y(t,["config"]);return r!=null&&s5(e,r,n),n}function c5(e,t){const n={},r=y(t,["config"]);return r!=null&&l5(e,r,n),n}function d5(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let o=UP(i);Array.isArray(o)&&(o=o.map(l=>ly(l))),w(t,["models"],o)}return t}function f5(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["nextPageToken"]);r!=null&&w(t,["nextPageToken"],r);const i=y(e,["_self"]);if(i!=null){let o=UP(i);Array.isArray(o)&&(o=o.map(l=>uy(l))),w(t,["models"],o)}return t}function h5(e){const t={},n=y(e,["maskMode"]);n!=null&&w(t,["maskMode"],n);const r=y(e,["segmentationClasses"]);r!=null&&w(t,["maskClasses"],r);const i=y(e,["maskDilation"]);return i!=null&&w(t,["dilation"],i),t}function ly(e){const t={},n=y(e,["name"]);n!=null&&w(t,["name"],n);const r=y(e,["displayName"]);r!=null&&w(t,["displayName"],r);const i=y(e,["description"]);i!=null&&w(t,["description"],i);const o=y(e,["version"]);o!=null&&w(t,["version"],o);const l=y(e,["_self"]);l!=null&&w(t,["tunedModelInfo"],N5(l));const u=y(e,["inputTokenLimit"]);u!=null&&w(t,["inputTokenLimit"],u);const f=y(e,["outputTokenLimit"]);f!=null&&w(t,["outputTokenLimit"],f);const d=y(e,["supportedGenerationMethods"]);return d!=null&&w(t,["supportedActions"],d),t}function uy(e){const t={},n=y(e,["name"]);n!=null&&w(t,["name"],n);const r=y(e,["displayName"]);r!=null&&w(t,["displayName"],r);const i=y(e,["description"]);i!=null&&w(t,["description"],i);const o=y(e,["versionId"]);o!=null&&w(t,["version"],o);const l=y(e,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>O$(v))),w(t,["endpoints"],g)}const u=y(e,["labels"]);u!=null&&w(t,["labels"],u);const f=y(e,["_self"]);f!=null&&w(t,["tunedModelInfo"],P5(f));const d=y(e,["defaultCheckpointId"]);d!=null&&w(t,["defaultCheckpointId"],d);const h=y(e,["checkpoints"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(v=>v)),w(t,["checkpoints"],g)}return t}function m5(e){const t={},n=y(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],n);const r=y(e,["thought"]);r!=null&&w(t,["thought"],r);const i=y(e,["inlineData"]);i!=null&&w(t,["inlineData"],r$(i));const o=y(e,["fileData"]);o!=null&&w(t,["fileData"],k$(o));const l=y(e,["thoughtSignature"]);l!=null&&w(t,["thoughtSignature"],l);const u=y(e,["functionCall"]);u!=null&&w(t,["functionCall"],u);const f=y(e,["codeExecutionResult"]);f!=null&&w(t,["codeExecutionResult"],f);const d=y(e,["executableCode"]);d!=null&&w(t,["executableCode"],d);const h=y(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const g=y(e,["text"]);return g!=null&&w(t,["text"],g),t}function p5(e){const t={},n=y(e,["productImage"]);return n!=null&&w(t,["image"],Ir(n)),t}function g5(e,t){const n={},r=y(e,["numberOfImages"]);t!==void 0&&r!=null&&w(t,["parameters","sampleCount"],r);const i=y(e,["baseSteps"]);t!==void 0&&i!=null&&w(t,["parameters","editConfig","baseSteps"],i);const o=y(e,["outputGcsUri"]);t!==void 0&&o!=null&&w(t,["parameters","storageUri"],o);const l=y(e,["seed"]);t!==void 0&&l!=null&&w(t,["parameters","seed"],l);const u=y(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&w(t,["parameters","safetySetting"],u);const f=y(e,["personGeneration"]);t!==void 0&&f!=null&&w(t,["parameters","personGeneration"],f);const d=y(e,["addWatermark"]);t!==void 0&&d!=null&&w(t,["parameters","addWatermark"],d);const h=y(e,["outputMimeType"]);t!==void 0&&h!=null&&w(t,["parameters","outputOptions","mimeType"],h);const g=y(e,["outputCompressionQuality"]);t!==void 0&&g!=null&&w(t,["parameters","outputOptions","compressionQuality"],g);const v=y(e,["enhancePrompt"]);t!==void 0&&v!=null&&w(t,["parameters","enhancePrompt"],v);const x=y(e,["labels"]);return t!==void 0&&x!=null&&w(t,["labels"],x),n}function v5(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["source"]);i!=null&&b5(i,n);const o=y(t,["config"]);return o!=null&&g5(o,n),n}function y5(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Yf(i))),w(t,["generatedImages"],r)}return t}function b5(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&w(t,["instances[0]","prompt"],r);const i=y(e,["personImage"]);t!==void 0&&i!=null&&w(t,["instances[0]","personImage","image"],Ir(i));const o=y(e,["productImages"]);if(t!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>p5(u))),w(t,["instances[0]","productImages"],l)}return n}function x5(e){const t={},n=y(e,["referenceImage"]);n!=null&&w(t,["referenceImage"],Ir(n));const r=y(e,["referenceId"]);r!=null&&w(t,["referenceId"],r);const i=y(e,["referenceType"]);i!=null&&w(t,["referenceType"],i);const o=y(e,["maskImageConfig"]);o!=null&&w(t,["maskImageConfig"],h5(o));const l=y(e,["controlImageConfig"]);l!=null&&w(t,["controlImageConfig"],c$(l));const u=y(e,["styleImageConfig"]);u!=null&&w(t,["styleImageConfig"],u);const f=y(e,["subjectImageConfig"]);return f!=null&&w(t,["subjectImageConfig"],f),t}function FP(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&w(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&w(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&w(t,["contentType"],i),t}function GP(e){const t={},n=y(e,["safetyAttributes","categories"]);n!=null&&w(t,["categories"],n);const r=y(e,["safetyAttributes","scores"]);r!=null&&w(t,["scores"],r);const i=y(e,["contentType"]);return i!=null&&w(t,["contentType"],i),t}function w5(e){const t={};if(y(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=y(e,["category"]);n!=null&&w(t,["category"],n);const r=y(e,["threshold"]);return r!=null&&w(t,["threshold"],r),t}function _5(e){const t={},n=y(e,["image"]);return n!=null&&w(t,["image"],Ir(n)),t}function S5(e,t){const n={},r=y(e,["mode"]);t!==void 0&&r!=null&&w(t,["parameters","mode"],r);const i=y(e,["maxPredictions"]);t!==void 0&&i!=null&&w(t,["parameters","maxPredictions"],i);const o=y(e,["confidenceThreshold"]);t!==void 0&&o!=null&&w(t,["parameters","confidenceThreshold"],o);const l=y(e,["maskDilation"]);t!==void 0&&l!=null&&w(t,["parameters","maskDilation"],l);const u=y(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&w(t,["parameters","binaryColorThreshold"],u);const f=y(e,["labels"]);return t!==void 0&&f!=null&&w(t,["labels"],f),n}function E5(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["source"]);i!=null&&T5(i,n);const o=y(t,["config"]);return o!=null&&S5(o,n),n}function A5(e){const t={},n=y(e,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Q$(i))),w(t,["generatedMasks"],r)}return t}function T5(e,t){const n={},r=y(e,["prompt"]);t!==void 0&&r!=null&&w(t,["instances[0]","prompt"],r);const i=y(e,["image"]);t!==void 0&&i!=null&&w(t,["instances[0]","image"],Ir(i));const o=y(e,["scribbleImage"]);return t!==void 0&&o!=null&&w(t,["instances[0]","scribble"],_5(o)),n}function WP(e){const t={},n=y(e,["voiceConfig"]);if(n!=null&&w(t,["voiceConfig"],n),y(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=y(e,["languageCode"]);return r!=null&&w(t,["languageCode"],r),t}function C5(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearch"]);r!=null&&w(t,["googleSearch"],a5(r));const i=y(e,["googleSearchRetrieval"]);if(i!=null&&w(t,["googleSearchRetrieval"],i),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],i5(o));const l=y(e,["urlContext"]);l!=null&&w(t,["urlContext"],l);const u=y(e,["computerUse"]);u!=null&&w(t,["computerUse"],u);const f=y(e,["codeExecution"]);return f!=null&&w(t,["codeExecution"],f),t}function YP(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>j$(v))),w(t,["functionDeclarations"],g)}const r=y(e,["retrieval"]);r!=null&&w(t,["retrieval"],r);const i=y(e,["googleSearch"]);i!=null&&w(t,["googleSearch"],i);const o=y(e,["googleSearchRetrieval"]);o!=null&&w(t,["googleSearchRetrieval"],o);const l=y(e,["enterpriseWebSearch"]);l!=null&&w(t,["enterpriseWebSearch"],l);const u=y(e,["googleMaps"]);u!=null&&w(t,["googleMaps"],u);const f=y(e,["urlContext"]);f!=null&&w(t,["urlContext"],f);const d=y(e,["computerUse"]);d!=null&&w(t,["computerUse"],d);const h=y(e,["codeExecution"]);return h!=null&&w(t,["codeExecution"],h),t}function N5(e){const t={},n=y(e,["baseModel"]);n!=null&&w(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&w(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&w(t,["updateTime"],i),t}function P5(e){const t={},n=y(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&w(t,["baseModel"],n);const r=y(e,["createTime"]);r!=null&&w(t,["createTime"],r);const i=y(e,["updateTime"]);return i!=null&&w(t,["updateTime"],i),t}function O5(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&w(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&w(t,["description"],i);const o=y(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&w(t,["defaultCheckpointId"],o),n}function k5(e,t){const n={},r=y(e,["displayName"]);t!==void 0&&r!=null&&w(t,["displayName"],r);const i=y(e,["description"]);t!==void 0&&i!=null&&w(t,["description"],i);const o=y(e,["defaultCheckpointId"]);return t!==void 0&&o!=null&&w(t,["defaultCheckpointId"],o),n}function j5(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","name"],Ke(e,r));const i=y(t,["config"]);return i!=null&&O5(i,n),n}function R5(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["config"]);return i!=null&&k5(i,n),n}function D5(e,t){const n={},r=y(e,["outputGcsUri"]);t!==void 0&&r!=null&&w(t,["parameters","storageUri"],r);const i=y(e,["includeRaiReason"]);t!==void 0&&i!=null&&w(t,["parameters","includeRaiReason"],i);const o=y(e,["outputMimeType"]);t!==void 0&&o!=null&&w(t,["parameters","outputOptions","mimeType"],o);const l=y(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&w(t,["parameters","outputOptions","compressionQuality"],l);const u=y(e,["enhanceInputImage"]);t!==void 0&&u!=null&&w(t,["parameters","upscaleConfig","enhanceInputImage"],u);const f=y(e,["imagePreservationFactor"]);t!==void 0&&f!=null&&w(t,["parameters","upscaleConfig","imagePreservationFactor"],f);const d=y(e,["labels"]);t!==void 0&&d!=null&&w(t,["labels"],d);const h=y(e,["numberOfImages"]);t!==void 0&&h!=null&&w(t,["parameters","sampleCount"],h);const g=y(e,["mode"]);return t!==void 0&&g!=null&&w(t,["parameters","mode"],g),n}function M5(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["_url","model"],Ke(e,r));const i=y(t,["image"]);i!=null&&w(n,["instances[0]","image"],Ir(i));const o=y(t,["upscaleFactor"]);o!=null&&w(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=y(t,["config"]);return l!=null&&D5(l,n),n}function I5(e){const t={},n=y(e,["sdkHttpResponse"]);n!=null&&w(t,["sdkHttpResponse"],n);const r=y(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Yf(o))),w(t,["generatedImages"],i)}return t}function L5(e){const t={},n=y(e,["uri"]);n!=null&&w(t,["uri"],n);const r=y(e,["encodedVideo"]);r!=null&&w(t,["videoBytes"],ba(r));const i=y(e,["encoding"]);return i!=null&&w(t,["mimeType"],i),t}function U5(e){const t={},n=y(e,["gcsUri"]);n!=null&&w(t,["uri"],n);const r=y(e,["bytesBase64Encoded"]);r!=null&&w(t,["videoBytes"],ba(r));const i=y(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}function B5(e){const t={},n=y(e,["image"]);n!=null&&w(t,["_self"],Ir(n));const r=y(e,["maskMode"]);return r!=null&&w(t,["maskMode"],r),t}function q5(e){const t={},n=y(e,["image"]);n!=null&&w(t,["image"],Jf(n));const r=y(e,["referenceType"]);return r!=null&&w(t,["referenceType"],r),t}function $5(e){const t={},n=y(e,["image"]);n!=null&&w(t,["image"],Ir(n));const r=y(e,["referenceType"]);return r!=null&&w(t,["referenceType"],r),t}function JP(e){const t={},n=y(e,["uri"]);n!=null&&w(t,["uri"],n);const r=y(e,["videoBytes"]);r!=null&&w(t,["encodedVideo"],ba(r));const i=y(e,["mimeType"]);return i!=null&&w(t,["encoding"],i),t}function XP(e){const t={},n=y(e,["uri"]);n!=null&&w(t,["gcsUri"],n);const r=y(e,["videoBytes"]);r!=null&&w(t,["bytesBase64Encoded"],ba(r));const i=y(e,["mimeType"]);return i!=null&&w(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z5="Content-Type",V5="X-Server-Timeout",H5="User-Agent",cy="x-goog-api-client",K5="1.27.0",F5=`google-genai-sdk/${K5}`,G5="v1beta1",W5="v1beta",xT=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Y5{constructor(t){var n,r;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:G5,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:W5,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let o={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=t.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.unaryApiCall(i,o,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=t.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),t.abortSignal),this.streamApiCall(i,o,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),t.signal=l}return n&&n.extraBody!==null&&J5(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await wT(i),new ay(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await wT(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){var n;return _s(this,arguments,function*(){const i=(n=t==null?void 0:t.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:f}=yield ht(i.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(f,{stream:!0});try{const g=JSON.parse(d);if("error"in g){const v=JSON.parse(JSON.stringify(g.error)),x=v.status,S=v.code,E=`got status: ${x}. ${JSON.stringify(g)}`;if(S>=400&&S<600)throw new Gf({message:E,status:S})}}catch(g){if(g.name==="ApiError")throw g}l+=d;let h=l.match(xT);for(;h;){const g=h[1];try{const v=new Response(g,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ht(new ay(v)),l=l.slice(h[0].length),h=l.match(xT)}catch(v){throw new Error(`exception parsing stream chunk ${g}. ${v}`)}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=F5+" "+this.clientOptions.userAgentExtra;return t[H5]=n,t[cy]=n,t[z5]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,o]of Object.entries(t.headers))r.append(i,o);t.timeout&&t.timeout>0&&r.append(V5,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f=await this.fetchUploadUrl(i,n);return o.upload(t,f,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${t.mimeType}`}};const o={file:t},l=await this.request({path:ge("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:i});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=l==null?void 0:l.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function wT(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Gf({message:i,status:n}):new Error(i)}}function J5(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const o=JSON.parse(e.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const u=Object.assign({},o);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X5="mcp_used/unknown";let Q5=!1;function QP(e){for(const t of e)if(Z5(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Q5}function ZP(e){var t;const n=(t=e[cy])!==null&&t!==void 0?t:"";e[cy]=(n+` ${X5}`).trimStart()}function Z5(e){return e!==null&&typeof e=="object"&&e instanceof _0}function e6(e,t=100){return _s(this,arguments,function*(){let r,i=0;for(;i<t;){const o=yield ht(e.listTools({cursor:r}));for(const l of o.tools)yield yield ht(l),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class _0{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new _0(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,fu(e6(h))),d;d=await f.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const g=i;l.push(g);const v=g.name;if(o[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);o[v]=h}}catch(g){n={error:g}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),a4(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function t6(e,t,n){const r=new X3;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class n6{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=a6(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(O=>{d=O}),g=t.callbacks,v=function(){d({})},x=this.apiClient,S={onopen:v,onmessage:O=>{t6(x,g.onmessage,O)},onerror:(n=g==null?void 0:g.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=g==null?void 0:g.onclose)!==null&&r!==void 0?r:function(O){}},E=this.webSocketFactory.create(f,i6(l),S);E.connect(),await h;const P={setup:{model:Ke(this.apiClient,t.model)}};return E.send(JSON.stringify(P)),new r6(E,this.apiClient)}}class r6{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Wq(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=Gq(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ys.PLAY)}pause(){this.sendPlaybackControl(ys.PAUSE)}stop(){this.sendPlaybackControl(ys.STOP)}resetContext(){this.sendPlaybackControl(ys.RESET_CONTEXT)}close(){this.conn.close()}}function i6(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function a6(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o6="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function s6(e,t,n){const r=new J3;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(e.isVertexAI()){const l=Xq(o);Object.assign(r,l)}else Object.assign(r,o);t(r)}class l6{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new n6(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,o,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();t.config&&t.config.tools&&QP(t.config.tools)&&ZP(g);const v=f6(g);if(this.apiClient.isVertexAI())h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h);else{const z=this.apiClient.getApiKey();let te="BidiGenerateContent",Z="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),te="BidiGenerateContentConstrained",Z="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${te}?${Z}=${z}`}let x=()=>{};const S=new Promise(z=>{x=z}),E=t.callbacks,T=function(){var z;(z=E==null?void 0:E.onopen)===null||z===void 0||z.call(E),x({})},C=this.apiClient,P={onopen:T,onmessage:z=>{s6(C,E.onmessage,z)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(z){}},O=this.webSocketFactory.create(h,d6(v),P);O.connect(),await S;let R=Ke(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const z=this.apiClient.getProject(),te=this.apiClient.getLocation();R=`projects/${z}/locations/${te}/`+R}let k={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Qd.AUDIO]}:t.config.responseModalities=[Qd.AUDIO]),!((o=t.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],M=[];for(const z of j)if(this.isCallableTool(z)){const te=z;M.push(await te.tool())}else M.push(z);M.length>0&&(t.config.tools=M);const V={model:R,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?k=Fq(this.apiClient,V):k=Kq(this.apiClient,V),delete k.config,O.send(JSON.stringify(k)),new c6(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const u6={turnComplete:!0};class c6{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=xr(n.turns),t.isVertexAI()||(r=r.map(i=>Wf(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!t.isVertexAI()&&!("id"in o))throw new Error(o6)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},u6),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Jq(t)}:n={realtimeInput:Yq(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function d6(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function f6(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _T=10;function ST(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Ss(l)){i=!0;break}if(!i)return!0;const o=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ss(e){return"callTool"in e&&typeof e.callTool=="function"}function h6(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>Ss(i)))!==null&&r!==void 0?r:!1}function m6(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>!Ss(i)))!==null&&r!==void 0?r:!1}function ET(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p6 extends _o{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,o,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!h6(n)||ST(n.config))return await this.generateContentInternal(f);if(m6(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,h;const g=xr(f.contents),v=(o=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:_T;let x=0;for(;x<v&&(d=await this.generateContentInternal(f),!(!d.functionCalls||d.functionCalls.length===0));){const S=d.candidates[0].content,E=[];for(const T of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ss(T)){const P=await T.callTool(d.functionCalls);E.push(...P)}x++,h={role:"user",parts:E},f.contents=xr(f.contents),f.contents.push(S),f.contents.push(h),ET(f.config)&&(g.push(S),g.push(h))}return ET(f.config)&&(d.automaticFunctionCallingHistory=g),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),ST(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=f==null?void 0:f.safetyAttributes:l.push(f);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new ju(uo.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const o=(n=t.config)===null||n===void 0?void 0:n.tools;if(!o)return t;const l=await Promise.all(o.map(async f=>Ss(f)?await f.tool():f)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&QP(t.config.tools)){const f=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),ZP(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const o=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ss(l)){const u=l,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(t){var n,r,i;const o=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:_T;let l=!1,u=0;const f=await this.initAfcToolsMap(t);return(function(d,h,g){var v,x;return _s(this,arguments,function*(){for(var S,E,T,C;u<o;){l&&(u++,l=!1);const k=yield ht(d.processParamsMaybeAddMcpUsage(g)),j=yield ht(d.generateContentStreamInternal(k)),M=[],V=[];try{for(var P=!0,O=(E=void 0,fu(j)),R;R=yield ht(O.next()),S=R.done,!S;P=!0){C=R.value,P=!1;const z=C;if(yield yield ht(z),z.candidates&&(!((v=z.candidates[0])===null||v===void 0)&&v.content)){V.push(z.candidates[0].content);for(const te of(x=z.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<o&&te.functionCall){if(!te.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(te.functionCall.name)){const Z=yield ht(h.get(te.functionCall.name).callTool([te.functionCall]));M.push(...Z)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${te.functionCall.name}`)}}}}catch(z){E={error:z}}finally{try{!P&&!S&&(T=O.return)&&(yield ht(T.call(O)))}finally{if(E)throw E.error}}if(M.length>0){l=!0;const z=new Jl;z.candidates=[{content:{role:"user",parts:M}}],yield yield ht(z);const te=[];te.push(...V),te.push({role:"user",parts:M});const Z=xr(g.contents).concat(te);g.contents=Z}else break}})})(this,f,t)}async generateContentInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=vT(this.apiClient,t);return u=ge("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=bT(h),v=new Jl;return Object.assign(v,g),v})}else{const d=gT(this.apiClient,t);return u=ge("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=yT(h),v=new Jl;return Object.assign(v,g),v})}}async generateContentStreamInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=vT(this.apiClient,t);return u=ge("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(g){return _s(this,arguments,function*(){var v,x,S,E;try{for(var T=!0,C=fu(g),P;P=yield ht(C.next()),v=P.done,!v;T=!0){E=P.value,T=!1;const O=E,R=bT(yield ht(O.json()));R.sdkHttpResponse={headers:O.headers};const k=new Jl;Object.assign(k,R),yield yield ht(k)}}catch(O){x={error:O}}finally{try{!T&&!v&&(S=C.return)&&(yield ht(S.call(C)))}finally{if(x)throw x.error}}})})}else{const d=gT(this.apiClient,t);return u=ge("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(g){return _s(this,arguments,function*(){var v,x,S,E;try{for(var T=!0,C=fu(g),P;P=yield ht(C.next()),v=P.done,!v;T=!0){E=P.value,T=!1;const O=E,R=yT(yield ht(O.json()));R.sdkHttpResponse={headers:O.headers};const k=new Jl;Object.assign(k,R),yield yield ht(k)}}catch(O){x={error:O}}finally{try{!T&&!v&&(S=C.return)&&(yield ht(S.call(C)))}finally{if(x)throw x.error}}})})}}async embedContent(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=C$(this.apiClient,t);return u=ge("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=P$(h),v=new eT;return Object.assign(v,g),v})}else{const d=T$(this.apiClient,t);return u=ge("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=N$(h),v=new eT;return Object.assign(v,g),v})}}async generateImagesInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=U$(this.apiClient,t);return u=ge("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=q$(h),v=new tT;return Object.assign(v,g),v})}else{const d=L$(this.apiClient,t);return u=ge("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=B$(h),v=new tT;return Object.assign(v,g),v})}}async editImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=_$(this.apiClient,t);return o=ge("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=S$(f),h=new z3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=M5(this.apiClient,t);return o=ge("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=I5(f),h=new V3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=v5(this.apiClient,t);return o=ge("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=y5(f),h=new H3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=E5(this.apiClient,t);return o=ge("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=A5(f),h=new K3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=r5(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>uy(h))}else{const d=n5(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>ly(h))}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=c5(this.apiClient,t);return u=ge("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=f5(h),v=new nT;return Object.assign(v,g),v})}else{const d=u5(this.apiClient,t);return u=ge("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=d5(h),v=new nT;return Object.assign(v,g),v})}}async update(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=R5(this.apiClient,t);return u=ge("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>uy(h))}else{const d=j5(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>ly(h))}}async delete(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=y$(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=x$(h),v=new rT;return Object.assign(v,g),v})}else{const d=v$(this.apiClient,t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=b$(h),v=new rT;return Object.assign(v,g),v})}}async countTokens(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=m$(this.apiClient,t);return u=ge("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=g$(h),v=new iT;return Object.assign(v,g),v})}else{const d=h$(this.apiClient,t);return u=ge("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=p$(h),v=new iT;return Object.assign(v,g),v})}}async computeTokens(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=o$(this.apiClient,t);return o=ge("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=s$(f),h=new F3;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=F$(this.apiClient,t);return u=ge("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const g=H$(h),v=new Zd;return Object.assign(v,g),v})}else{const d=K$(this.apiClient,t);return u=ge("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l.then(h=>{const g=V$(h),v=new Zd;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g6 extends _o{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=B3(t);return u=ge("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=U3(t);return u=ge("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=k3(t);return o=ge("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v6(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["data"]);n!=null&&w(t,["data"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function y6(e){const t={},n=y(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>T6(o))),w(t,["parts"],i)}const r=y(e,["role"]);return r!=null&&w(t,["role"],r),t}function b6(e,t,n){const r={},i=y(t,["expireTime"]);n!==void 0&&i!=null&&w(n,["expireTime"],i);const o=y(t,["newSessionExpireTime"]);n!==void 0&&o!=null&&w(n,["newSessionExpireTime"],o);const l=y(t,["uses"]);n!==void 0&&l!=null&&w(n,["uses"],l);const u=y(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&w(n,["bidiGenerateContentSetup"],A6(e,u));const f=y(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&w(n,["fieldMask"],f),r}function x6(e,t){const n={},r=y(t,["config"]);return r!=null&&w(n,["config"],b6(e,r,n)),n}function w6(e){const t={};if(y(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(e,["fileUri"]);n!=null&&w(t,["fileUri"],n);const r=y(e,["mimeType"]);return r!=null&&w(t,["mimeType"],r),t}function _6(e){const t={};if(y(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(e,["enableWidget"]);return n!=null&&w(t,["enableWidget"],n),t}function S6(e){const t={},n=y(e,["timeRangeFilter"]);if(n!=null&&w(t,["timeRangeFilter"],n),y(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function E6(e,t){const n={},r=y(e,["generationConfig"]);t!==void 0&&r!=null&&w(t,["setup","generationConfig"],r);const i=y(e,["responseModalities"]);t!==void 0&&i!=null&&w(t,["setup","generationConfig","responseModalities"],i);const o=y(e,["temperature"]);t!==void 0&&o!=null&&w(t,["setup","generationConfig","temperature"],o);const l=y(e,["topP"]);t!==void 0&&l!=null&&w(t,["setup","generationConfig","topP"],l);const u=y(e,["topK"]);t!==void 0&&u!=null&&w(t,["setup","generationConfig","topK"],u);const f=y(e,["maxOutputTokens"]);t!==void 0&&f!=null&&w(t,["setup","generationConfig","maxOutputTokens"],f);const d=y(e,["mediaResolution"]);t!==void 0&&d!=null&&w(t,["setup","generationConfig","mediaResolution"],d);const h=y(e,["seed"]);t!==void 0&&h!=null&&w(t,["setup","generationConfig","seed"],h);const g=y(e,["speechConfig"]);t!==void 0&&g!=null&&w(t,["setup","generationConfig","speechConfig"],w0(g));const v=y(e,["thinkingConfig"]);t!==void 0&&v!=null&&w(t,["setup","generationConfig","thinkingConfig"],v);const x=y(e,["enableAffectiveDialog"]);t!==void 0&&x!=null&&w(t,["setup","generationConfig","enableAffectiveDialog"],x);const S=y(e,["systemInstruction"]);t!==void 0&&S!=null&&w(t,["setup","systemInstruction"],y6(gn(S)));const E=y(e,["tools"]);if(t!==void 0&&E!=null){let j=$s(E);Array.isArray(j)&&(j=j.map(M=>N6(qs(M)))),w(t,["setup","tools"],j)}const T=y(e,["sessionResumption"]);t!==void 0&&T!=null&&w(t,["setup","sessionResumption"],C6(T));const C=y(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&w(t,["setup","inputAudioTranscription"],C);const P=y(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&w(t,["setup","outputAudioTranscription"],P);const O=y(e,["realtimeInputConfig"]);t!==void 0&&O!=null&&w(t,["setup","realtimeInputConfig"],O);const R=y(e,["contextWindowCompression"]);t!==void 0&&R!=null&&w(t,["setup","contextWindowCompression"],R);const k=y(e,["proactivity"]);return t!==void 0&&k!=null&&w(t,["setup","proactivity"],k),n}function A6(e,t){const n={},r=y(t,["model"]);r!=null&&w(n,["setup","model"],Ke(e,r));const i=y(t,["config"]);return i!=null&&w(n,["config"],E6(i,n)),n}function T6(e){const t={},n=y(e,["videoMetadata"]);n!=null&&w(t,["videoMetadata"],n);const r=y(e,["thought"]);r!=null&&w(t,["thought"],r);const i=y(e,["inlineData"]);i!=null&&w(t,["inlineData"],v6(i));const o=y(e,["fileData"]);o!=null&&w(t,["fileData"],w6(o));const l=y(e,["thoughtSignature"]);l!=null&&w(t,["thoughtSignature"],l);const u=y(e,["functionCall"]);u!=null&&w(t,["functionCall"],u);const f=y(e,["codeExecutionResult"]);f!=null&&w(t,["codeExecutionResult"],f);const d=y(e,["executableCode"]);d!=null&&w(t,["executableCode"],d);const h=y(e,["functionResponse"]);h!=null&&w(t,["functionResponse"],h);const g=y(e,["text"]);return g!=null&&w(t,["text"],g),t}function C6(e){const t={},n=y(e,["handle"]);if(n!=null&&w(t,["handle"],n),y(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function N6(e){const t={},n=y(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(h=>h)),w(t,["functionDeclarations"],d)}if(y(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(e,["googleSearch"]);r!=null&&w(t,["googleSearch"],S6(r));const i=y(e,["googleSearchRetrieval"]);if(i!=null&&w(t,["googleSearchRetrieval"],i),y(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(e,["googleMaps"]);o!=null&&w(t,["googleMaps"],_6(o));const l=y(e,["urlContext"]);l!=null&&w(t,["urlContext"],l);const u=y(e,["computerUse"]);u!=null&&w(t,["computerUse"],u);const f=y(e,["codeExecution"]);return f!=null&&w(t,["codeExecution"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function P6(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);t.push(...i)}else t.push(n)}return t.join(",")}function O6(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(e.bidiGenerateContentSetup=o,n=o):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const o=P6(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)o?e.fieldMask=o:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];o&&f.push(o),u.length>0&&f.push(...u),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class k6 extends _o{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=x6(this.apiClient,t);o=ge("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=O6(u,t.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j6(e,t){const n={},r=y(e,["name"]);return r!=null&&w(n,["_url","name"],r),n}function R6(e,t){const n={},r=y(e,["name"]);return r!=null&&w(n,["_url","name"],r),n}function D6(e,t,n){const r={};if(y(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&w(t,["displayName"],i),y(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(e,["epochCount"]);t!==void 0&&o!=null&&w(t,["tuningTask","hyperparameters","epochCount"],o);const l=y(e,["learningRateMultiplier"]);if(l!=null&&w(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),y(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=y(e,["batchSize"]);t!==void 0&&u!=null&&w(t,["tuningTask","hyperparameters","batchSize"],u);const f=y(e,["learningRate"]);if(t!==void 0&&f!=null&&w(t,["tuningTask","hyperparameters","learningRate"],f),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return r}function M6(e,t,n){const r={},i=y(e,["validationDataset"]);t!==void 0&&i!=null&&w(t,["supervisedTuningSpec"],J6(i));const o=y(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&w(t,["tunedModelDisplayName"],o);const l=y(e,["description"]);t!==void 0&&l!=null&&w(t,["description"],l);const u=y(e,["epochCount"]);t!==void 0&&u!=null&&w(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const f=y(e,["learningRateMultiplier"]);t!==void 0&&f!=null&&w(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const d=y(e,["exportLastCheckpointOnly"]);t!==void 0&&d!=null&&w(t,["supervisedTuningSpec","exportLastCheckpointOnly"],d);const h=y(e,["adapterSize"]);if(t!==void 0&&h!=null&&w(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h),y(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(y(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const g=y(e,["labels"]);return t!==void 0&&g!=null&&w(t,["labels"],g),r}function I6(e,t){const n={},r=y(e,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const o=y(e,["trainingDataset"]);o!=null&&w(n,["tuningTask","trainingData"],G6(o));const l=y(e,["config"]);return l!=null&&D6(l,n),n}function L6(e,t){const n={},r=y(e,["baseModel"]);r!=null&&w(n,["baseModel"],r);const i=y(e,["preTunedModel"]);i!=null&&w(n,["preTunedModel"],i);const o=y(e,["trainingDataset"]);o!=null&&W6(o,n);const l=y(e,["config"]);return l!=null&&M6(l,n),n}function U6(e,t){const n={},r=y(e,["name"]);return r!=null&&w(n,["_url","name"],r),n}function B6(e,t){const n={},r=y(e,["name"]);return r!=null&&w(n,["_url","name"],r),n}function q6(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const o=y(e,["pageToken"]);t!==void 0&&o!=null&&w(t,["_query","pageToken"],o);const l=y(e,["filter"]);return t!==void 0&&l!=null&&w(t,["_query","filter"],l),r}function $6(e,t,n){const r={},i=y(e,["pageSize"]);t!==void 0&&i!=null&&w(t,["_query","pageSize"],i);const o=y(e,["pageToken"]);t!==void 0&&o!=null&&w(t,["_query","pageToken"],o);const l=y(e,["filter"]);return t!==void 0&&l!=null&&w(t,["_query","filter"],l),r}function z6(e,t){const n={},r=y(e,["config"]);return r!=null&&q6(r,n),n}function V6(e,t){const n={},r=y(e,["config"]);return r!=null&&$6(r,n),n}function H6(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const o=y(e,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>eO(u))),w(n,["tuningJobs"],l)}return n}function K6(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=y(e,["nextPageToken"]);i!=null&&w(n,["nextPageToken"],i);const o=y(e,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>dy(u))),w(n,["tuningJobs"],l)}return n}function F6(e,t){const n={},r=y(e,["name"]);r!=null&&w(n,["model"],r);const i=y(e,["name"]);return i!=null&&w(n,["endpoint"],i),n}function G6(e,t){const n={};if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),w(n,["examples","examples"],i)}return n}function W6(e,t,n){const r={},i=y(e,["gcsUri"]);t!==void 0&&i!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],i);const o=y(e,["vertexDatasetResource"]);if(t!==void 0&&o!=null&&w(t,["supervisedTuningSpec","trainingDatasetUri"],o),y(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function eO(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&w(n,["name"],i);const o=y(e,["state"]);o!=null&&w(n,["state"],MP(o));const l=y(e,["createTime"]);l!=null&&w(n,["createTime"],l);const u=y(e,["tuningTask","startTime"]);u!=null&&w(n,["startTime"],u);const f=y(e,["tuningTask","completeTime"]);f!=null&&w(n,["endTime"],f);const d=y(e,["updateTime"]);d!=null&&w(n,["updateTime"],d);const h=y(e,["description"]);h!=null&&w(n,["description"],h);const g=y(e,["baseModel"]);g!=null&&w(n,["baseModel"],g);const v=y(e,["_self"]);return v!=null&&w(n,["tunedModel"],F6(v)),n}function dy(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&w(n,["name"],i);const o=y(e,["state"]);o!=null&&w(n,["state"],MP(o));const l=y(e,["createTime"]);l!=null&&w(n,["createTime"],l);const u=y(e,["startTime"]);u!=null&&w(n,["startTime"],u);const f=y(e,["endTime"]);f!=null&&w(n,["endTime"],f);const d=y(e,["updateTime"]);d!=null&&w(n,["updateTime"],d);const h=y(e,["error"]);h!=null&&w(n,["error"],h);const g=y(e,["description"]);g!=null&&w(n,["description"],g);const v=y(e,["baseModel"]);v!=null&&w(n,["baseModel"],v);const x=y(e,["tunedModel"]);x!=null&&w(n,["tunedModel"],x);const S=y(e,["preTunedModel"]);S!=null&&w(n,["preTunedModel"],S);const E=y(e,["supervisedTuningSpec"]);E!=null&&w(n,["supervisedTuningSpec"],E);const T=y(e,["tuningDataStats"]);T!=null&&w(n,["tuningDataStats"],T);const C=y(e,["encryptionSpec"]);C!=null&&w(n,["encryptionSpec"],C);const P=y(e,["partnerModelTuningSpec"]);P!=null&&w(n,["partnerModelTuningSpec"],P);const O=y(e,["customBaseModel"]);O!=null&&w(n,["customBaseModel"],O);const R=y(e,["experiment"]);R!=null&&w(n,["experiment"],R);const k=y(e,["labels"]);k!=null&&w(n,["labels"],k);const j=y(e,["outputUri"]);j!=null&&w(n,["outputUri"],j);const M=y(e,["pipelineJob"]);M!=null&&w(n,["pipelineJob"],M);const V=y(e,["serviceAccount"]);V!=null&&w(n,["serviceAccount"],V);const z=y(e,["tunedModelDisplayName"]);z!=null&&w(n,["tunedModelDisplayName"],z);const te=y(e,["veoTuningSpec"]);return te!=null&&w(n,["veoTuningSpec"],te),n}function Y6(e,t){const n={},r=y(e,["sdkHttpResponse"]);r!=null&&w(n,["sdkHttpResponse"],r);const i=y(e,["name"]);i!=null&&w(n,["name"],i);const o=y(e,["metadata"]);o!=null&&w(n,["metadata"],o);const l=y(e,["done"]);l!=null&&w(n,["done"],l);const u=y(e,["error"]);return u!=null&&w(n,["error"],u),n}function J6(e,t){const n={},r=y(e,["gcsUri"]);r!=null&&w(n,["validationDatasetUri"],r);const i=y(e,["vertexDatasetResource"]);return i!=null&&w(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class X6 extends _o{constructor(t){super(),this.apiClient=t,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ju(uo.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:iy.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=B6(t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>dy(h))}else{const d=U6(t);return u=ge("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>eO(h))}}async listInternal(t){var n,r,i,o;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=V6(t);return u=ge("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=K6(h),v=new aT;return Object.assign(v,g),v})}else{const d=z6(t);return u=ge("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const g=H6(h),v=new aT;return Object.assign(v,g),v})}}async cancel(t){var n,r,i,o;let l="",u={};if(this.apiClient.isVertexAI()){const f=R6(t);l=ge("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=j6(t);l=ge("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=t.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const u=L6(t);return o=ge("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>dy(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=I6(t);return o=ge("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>Y6(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q6{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Z6=1024*1024*8,e8=3,t8=1e3,n8=2,cg="x-goog-upload-status";async function r8(e,t,n){var r,i,o;let l=0,u=0,f=new ay(new Response),d="upload";for(l=e.size;u<l;){const g=Math.min(Z6,l-u),v=e.slice(u,u+g);u+g>=l&&(d+=", finalize");let x=0,S=t8;for(;x<e8&&(f=await n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(g)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[cg]));)x++,await a8(S),S=S*n8;if(u+=g,((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[cg])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(f==null?void 0:f.json());if(((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[cg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function i8(e){return{size:e.size,type:e.type}}function a8(e){return new Promise(t=>setTimeout(t,e))}class o8{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await r8(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await i8(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s8{create(t,n,r){return new l8(t,n,r)}}class l8{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AT="x-goog-api-key";class u8{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(AT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(AT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c8="gl-node/";class d8{constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=P3(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion;const i=new u8(this.apiKey);this.apiClient=new Y5({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:t.httpOptions,userAgentExtra:c8+"web",uploader:new o8,downloader:new Q6}),this.models=new p6(this.apiClient),this.live=new l6(this.apiClient,i,new s8),this.batches=new W4(this.apiClient),this.chats=new Tq(this.models,this.apiClient),this.caches=new Sq(this.apiClient),this.files=new Iq(this.apiClient),this.operations=new g6(this.apiClient),this.authTokens=new k6(this.apiClient),this.tunings=new X6(this.apiClient)}}var f8={};const S0=f8.API_KEY;S0||console.warn("API_KEY environment variable not set. Gemini AI features will be disabled.");const h8=new d8({apiKey:S0}),m8=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),p8=async(e,t,n)=>{if(!S0)return Promise.resolve("AI Analytics is disabled. Please configure your API_KEY.");const r=`
    You are a senior business analyst for a specialty coffee company in Indonesia.
    Analyze the following business data and provide concise, actionable insights. All monetary values are in Indonesian Rupiah (Rp).
    Format your response as markdown.

    **Current Inventory:**
    ${e.map(i=>`- ${i.variety} (${i.type}): ${i.quantityKg.toFixed(2)} kg`).join(`
`)}

    **Recent Sales:**
    ${t.slice(-10).map(i=>`- ${i.saleDate}: ${m8(i.totalAmount)} for ${i.items.map(o=>`${o.quantityKg}kg of ${o.variety}`).join(", ")}`).join(`
`)}

    **Active Purchase Orders:**
    ${n.filter(i=>i.status!=="Completed"&&i.status!=="Rejected").map(i=>`- PO #${i.id.slice(0,4)}: ${i.items.map(o=>`${o.quantityKg}kg of ${o.variety}`).join(", ")}, Status: ${i.status}`).join(`
`)}

    **Analysis Request:**
    1.  **Inventory Health:** Identify which coffee varieties are low in stock (under 50kg) and suggest reordering.
    2.  **Sales Performance:** Which coffee variety is the top seller based on recent sales quantity?
    3.  **Business Suggestion:** Based on sales trends and current inventory, suggest a new blend to create or a variety to promote.
    4.  **Operational Alert:** Point out any potential issues, like pending POs that might affect low-stock items.
  `;try{return(await h8.models.generateContent({model:"gemini-2.5-flash",contents:r})).text}catch(i){return console.error("Error fetching analytics from Gemini:",i),"Error: Could not fetch AI-powered analytics. The API key might be invalid or the service may be unavailable."}},qt=({title:e,value:t,icon:n,change:r,changeType:i,className:o=""})=>{const l=i==="positive"?"text-brand-green-700":i==="negative"?"text-red-600":"text-gray-600";return m.jsxs("div",{className:`bg-white p-6 rounded-xl shadow-lg flex items-center space-x-4 transition-transform hover:scale-105 ${o}`,children:[m.jsx("div",{className:"p-3 bg-brand-brown-100 rounded-full",children:n}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-brand-brown-700",children:e}),m.jsx("p",{className:"text-2xl font-bold text-brand-brown-900",children:t}),r&&m.jsx("p",{className:`text-xs mt-1 flex items-center font-medium ${l}`,children:r})]})]})};function tO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=tO(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=tO(e))&&(r&&(r+=" "),r+=t);return r}var g8=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function E0(e){if(typeof e!="string")return!1;var t=g8;return t.includes(e)}var v8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function nO(e){if(typeof e!="string")return!1;var t=v8;return t.includes(e)}function rO(e){return typeof e=="string"&&e.startsWith("data-")}function er(e){var t=Object.entries(e).filter(n=>{var[r]=n;return nO(r)||rO(r)});return Object.fromEntries(t)}function co(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return er(t)}return typeof e=="object"&&!Array.isArray(e)?er(e):null}function An(e){var t=Object.entries(e).filter(n=>{var[r]=n;return nO(r)||rO(r)||E0(r)});return Object.fromEntries(t)}function y8(e){return e==null?null:A.isValidElement(e)?An(e.props):typeof e=="object"&&!Array.isArray(e)?An(e):null}var b8=["children","width","height","viewBox","className","style","title","desc"];function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fy.apply(null,arguments)}function x8(e,t){if(e==null)return{};var n,r,i=w8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function w8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A0=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:l,style:u,title:f,desc:d}=e,h=x8(e,b8),g=o||{width:r,height:i,x:0,y:0},v=Fe("recharts-surface",l);return A.createElement("svg",fy({},An(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),A.createElement("title",null,f),A.createElement("desc",null,d),n)}),_8=["children","className"];function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hy.apply(null,arguments)}function S8(e,t){if(e==null)return{};var n,r,i=E8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E8(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ln=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=S8(e,_8),o=Fe("recharts-layer",r);return A.createElement("g",hy({className:o},An(i),{ref:t}),n)}),iO=D2(),aO=A.createContext(null),A8=()=>A.useContext(aO);function ut(e){return function(){return e}}const oO=Math.cos,tf=Math.sin,Lr=Math.sqrt,nf=Math.PI,Xf=2*nf,my=Math.PI,py=2*my,Ga=1e-6,T8=py-Ga;function sO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function C8(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return sO;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class N8{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?sO:C8(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,u=this._y1,f=r-t,d=i-n,h=l-t,g=u-n,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Ga)if(!(Math.abs(g*f-d*h)>Ga)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-l,S=i-u,E=f*f+d*d,T=x*x+S*S,C=Math.sqrt(E),P=Math.sqrt(v),O=o*Math.tan((my-Math.acos((E+v-T)/(2*C*P)))/2),R=O/P,k=O/C;Math.abs(R-1)>Ga&&this._append`L${t+R*h},${n+R*g}`,this._append`A${o},${o},0,0,${+(g*x>h*S)},${this._x1=t+k*f},${this._y1=n+k*d}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=t+u,h=n+f,g=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ga||Math.abs(this._y1-h)>Ga)&&this._append`L${d},${h}`,r&&(v<0&&(v=v%py+py),v>T8?this._append`A${r},${r},0,1,${g},${t-u},${n-f}A${r},${r},0,1,${g},${this._x1=d},${this._y1=h}`:v>Ga&&this._append`A${r},${r},0,${+(v>=my)},${g},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function T0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new N8(t)}function C0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lO(e){this._context=e}lO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qf(e){return new lO(e)}function uO(e){return e[0]}function cO(e){return e[1]}function dO(e,t){var n=ut(!0),r=null,i=Qf,o=null,l=T0(u);e=typeof e=="function"?e:e===void 0?uO:ut(e),t=typeof t=="function"?t:t===void 0?cO:ut(t);function u(f){var d,h=(f=C0(f)).length,g,v=!1,x;for(r==null&&(o=i(x=l())),d=0;d<=h;++d)!(d<h&&n(g=f[d],d,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(g,d,f),+t(g,d,f));if(x)return o=null,x+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ut(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ut(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ut(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),u):r},u}function Ed(e,t,n){var r=null,i=ut(!0),o=null,l=Qf,u=null,f=T0(d);e=typeof e=="function"?e:e===void 0?uO:ut(+e),t=typeof t=="function"?t:ut(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?cO:ut(+n);function d(g){var v,x,S,E=(g=C0(g)).length,T,C=!1,P,O=new Array(E),R=new Array(E);for(o==null&&(u=l(P=f())),v=0;v<=E;++v){if(!(v<E&&i(T=g[v],v,g))===C)if(C=!C)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=x;--S)u.point(O[S],R[S]);u.lineEnd(),u.areaEnd()}C&&(O[v]=+e(T,v,g),R[v]=+t(T,v,g),u.point(r?+r(T,v,g):O[v],n?+n(T,v,g):R[v]))}if(P)return u=null,P+""||null}function h(){return dO().defined(i).curve(l).context(o)}return d.x=function(g){return arguments.length?(e=typeof g=="function"?g:ut(+g),r=null,d):e},d.x0=function(g){return arguments.length?(e=typeof g=="function"?g:ut(+g),d):e},d.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ut(+g),d):r},d.y=function(g){return arguments.length?(t=typeof g=="function"?g:ut(+g),n=null,d):t},d.y0=function(g){return arguments.length?(t=typeof g=="function"?g:ut(+g),d):t},d.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ut(+g),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ut(!!g),d):i},d.curve=function(g){return arguments.length?(l=g,o!=null&&(u=l(o)),d):l},d.context=function(g){return arguments.length?(g==null?o=u=null:u=l(o=g),d):o},d}class fO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function P8(e){return new fO(e,!0)}function O8(e){return new fO(e,!1)}const N0={draw(e,t){const n=Lr(t/nf);e.moveTo(n,0),e.arc(0,0,n,0,Xf)}},k8={draw(e,t){const n=Lr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},hO=Lr(1/3),j8=hO*2,R8={draw(e,t){const n=Lr(t/j8),r=n*hO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},D8={draw(e,t){const n=Lr(t),r=-n/2;e.rect(r,r,n,n)}},M8=.8908130915292852,mO=tf(nf/10)/tf(7*nf/10),I8=tf(Xf/10)*mO,L8=-oO(Xf/10)*mO,U8={draw(e,t){const n=Lr(t*M8),r=I8*n,i=L8*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const l=Xf*o/5,u=oO(l),f=tf(l);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*i,f*r+u*i)}e.closePath()}},dg=Lr(3),B8={draw(e,t){const n=-Lr(t/(dg*3));e.moveTo(0,n*2),e.lineTo(-dg*n,-n),e.lineTo(dg*n,-n),e.closePath()}},hr=-.5,mr=Lr(3)/2,gy=1/Lr(12),q8=(gy/2+1)*3,$8={draw(e,t){const n=Lr(t/q8),r=n/2,i=n*gy,o=r,l=n*gy+n,u=-o,f=l;e.moveTo(r,i),e.lineTo(o,l),e.lineTo(u,f),e.lineTo(hr*r-mr*i,mr*r+hr*i),e.lineTo(hr*o-mr*l,mr*o+hr*l),e.lineTo(hr*u-mr*f,mr*u+hr*f),e.lineTo(hr*r+mr*i,hr*i-mr*r),e.lineTo(hr*o+mr*l,hr*l-mr*o),e.lineTo(hr*u+mr*f,hr*f-mr*u),e.closePath()}};function z8(e,t){let n=null,r=T0(i);e=typeof e=="function"?e:ut(e||N0),t=typeof t=="function"?t:ut(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:ut(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:ut(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function rf(){}function af(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function pO(e){this._context=e}pO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:af(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function V8(e){return new pO(e)}function gO(e){this._context=e}gO.prototype={areaStart:rf,areaEnd:rf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H8(e){return new gO(e)}function vO(e){this._context=e}vO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K8(e){return new vO(e)}function yO(e){this._context=e}yO.prototype={areaStart:rf,areaEnd:rf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function F8(e){return new yO(e)}function TT(e){return e<0?-1:1}function CT(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(o*i+l*r)/(r+i);return(TT(o)+TT(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(u))||0}function NT(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,l=e._y1,u=(o-r)/3;e._context.bezierCurveTo(r+u,i+u*t,o-u,l-u*n,o,l)}function of(e){this._context=e}of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fg(this,this._t0,NT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fg(this,NT(this,n=CT(this,e,t)),n);break;default:fg(this,this._t0,n=CT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function bO(e){this._context=new xO(e)}(bO.prototype=Object.create(of.prototype)).point=function(e,t){of.prototype.point.call(this,t,e)};function xO(e){this._context=e}xO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function G8(e){return new of(e)}function W8(e){return new bO(e)}function wO(e){this._context=e}wO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=PT(e),i=PT(t),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PT(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Y8(e){return new wO(e)}function Zf(e,t){this._context=e,this._t=t}Zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function J8(e){return new Zf(e,.5)}function X8(e){return new Zf(e,0)}function Q8(e){return new Zf(e,1)}function Ns(e,t){if((l=e.length)>1)for(var n=1,r,i,o=e[t[0]],l,u=o.length;n<l;++n)for(i=o,o=e[t[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Z8(e,t){return e[t]}function ez(e){const t=[];return t.key=e,t}function tz(){var e=ut([]),t=vy,n=Ns,r=Z8;function i(o){var l=Array.from(e.apply(this,arguments),ez),u,f=l.length,d=-1,h;for(const g of o)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(g,l[u].key,d,o)]).data=g;for(u=0,h=C0(t(l));u<f;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ut(Array.from(o)),i):e},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ut(+o),i):r},i.order=function(o){return arguments.length?(t=o==null?vy:typeof o=="function"?o:ut(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Ns,i):n},i}function nz(e,t){if((r=e.length)>0){for(var n,r,i=0,o=e[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Ns(e,t)}}function rz(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,o=r.length;n<o;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Ns(e,t)}}function iz(e,t){if(!(!((l=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var u=0,f=0,d=0;u<l;++u){for(var h=e[t[u]],g=h[r][1]||0,v=h[r-1][1]||0,x=(g-v)/2,S=0;S<u;++S){var E=e[t[S]],T=E[r][1]||0,C=E[r-1][1]||0;x+=T-C}f+=g,d+=x*g}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Ns(e,t)}}var hg={},mg={},OT;function az(){return OT||(OT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(mg)),mg}var pg={},kT;function _O(){return kT||(kT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(pg)),pg}var gg={},jT;function P0(){return jT||(jT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(gg)),gg}var vg={},yg={},RT;function oz(){return RT||(RT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(yg)),yg}var DT;function O0(){return DT||(DT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oz(),n=P0();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const o=[],l=i.length;if(l===0)return o;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<l;){const g=i[u];d?g==="\\"&&u+1<l?(u++,f+=i[u]):g===d?d="":f+=g:h?g==='"'||g==="'"?d=g:g==="]"?(h=!1,o.push(f),f=""):f+=g:g==="["?(h=!0,f&&(o.push(f),f="")):g==="."?f&&(o.push(f),f=""):f+=g,u++}return f&&o.push(f),o}e.toPath=r})(vg)),vg}var MT;function k0(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=az(),n=_O(),r=P0(),i=O0();function o(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?o(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function l(u,f,d){if(f.length===0)return d;let h=u;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return d;h=h[f[g]]}return h===void 0?d:h}e.get=o})(hg)),hg}var bg,IT;function sz(){return IT||(IT=1,bg=k0().get),bg}var lz=sz();const fo=Mr(lz);var Xt=e=>e===0?0:e>0?1:-1,wr=e=>typeof e=="number"&&e!=+e,xi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ae=e=>(typeof e=="number"||e instanceof Number)&&!wr(e),Kr=e=>Ae(e)||typeof e=="string",uz=0,bu=e=>{var t=++uz;return"".concat(e||"").concat(t)},vn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(t)&&typeof t!="string")return r;var o;if(xi(t)){if(n==null)return r;var l=t.indexOf("%");o=n*parseFloat(t.slice(0,l))/100}else o=+t;return wr(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},SO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function Ct(e,t,n){return Ae(e)&&Ae(t)?e+n*(t-e):t}function EO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):fo(r,t))===n)}var yt=e=>e===null||typeof e>"u",Ru=e=>yt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),cz=["type","size","sizeType"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yy.apply(null,arguments)}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){dz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dz(e,t,n){return(t=fz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fz(e){var t=hz(e,"string");return typeof t=="symbol"?t:t+""}function hz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mz(e,t){if(e==null)return{};var n,r,i=pz(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pz(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var AO={symbolCircle:N0,symbolCross:k8,symbolDiamond:R8,symbolSquare:D8,symbolStar:U8,symbolTriangle:B8,symbolWye:$8},gz=Math.PI/180,vz=e=>{var t="symbol".concat(Ru(e));return AO[t]||N0},yz=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*gz;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bz=(e,t)=>{AO["symbol".concat(Ru(e))]=t},j0=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=mz(e,cz),o=UT(UT({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=vz(l),x=z8().type(v).size(yz(n,r,l)),S=x();if(S!==null)return S},{className:f,cx:d,cy:h}=o,g=An(o);return d===+d&&h===+h&&n===+n?A.createElement("path",yy({},g,{className:Fe("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};j0.registerSymbol=bz;var R0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{E0(i)&&(r[i]=(o=>n[i](n,o)))}),r},xz=(e,t,n)=>r=>(e(t,n,r),null),Du=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];E0(i)&&typeof o=="function"&&(r||(r={}),r[i]=xz(o,t,n))}),r};function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(null,arguments)}function BT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(n),!0).forEach(function(r){D0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D0(e,t,n){return(t=_z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _z(e){var t=Sz(e,"string");return typeof t=="symbol"?t:t+""}function Sz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pr=32;class M0 extends A.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=pr/2,o=pr/6,l=pr/3,u=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:pr,y2:i,className:"recharts-legend-icon"});if(f==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(pr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(pr/8,"h").concat(pr,"v").concat(pr*3/4,"h").concat(-pr,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var d=wz({},t);return delete d.legendIcon,A.cloneElement(t.legendIcon,d)}return A.createElement(j0,{fill:u,cx:i,cy:i,size:pr,sizeType:"diameter",type:f})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:l}=this.props,u={x:0,y:0,width:pr,height:pr},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var v=h.formatter||i,x=Fe({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?o:h.color,E=v?v(h.value,h,g):h.value;return A.createElement("li",by({className:x,style:f,key:"legend-item-".concat(g)},Du(this.props,h,g)),A.createElement(A0,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(E," legend icon")},this.renderIcon(h,l)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}D0(M0,"displayName","Legend");D0(M0,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var xg={},wg={},qT;function Ez(){return qT||(qT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let o=0;o<n.length;o++){const l=n[o],u=r(l);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(wg)),wg}var _g={},$T;function TO(){return $T||($T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(_g)),_g}var Sg={},Eg={},Ag={},zT;function Az(){return zT||(zT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Ag)),Ag}var VT;function I0(){return VT||(VT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Az();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Eg)),Eg}var Tg={},HT;function Tz(){return HT||(HT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Tg)),Tg}var KT;function Cz(){return KT||(KT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I0(),n=Tz();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Sg)),Sg}var Cg={},Ng={},FT;function Nz(){return FT||(FT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k0();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Ng)),Ng}var Pg={},Og={},kg={},jg={},GT;function CO(){return GT||(GT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(jg)),jg}var Rg={},WT;function NO(){return WT||(WT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Rg)),Rg}var Dg={},YT;function PO(){return YT||(YT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Dg)),Dg}var JT;function Pz(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CO(),n=NO(),r=PO();function i(h,g,v){return typeof v!="function"?i(h,g,()=>{}):o(h,g,function x(S,E,T,C,P,O){const R=v(S,E,T,C,P,O);return R!==void 0?!!R:o(S,E,x,O)},new Map)}function o(h,g,v,x){if(g===h)return!0;switch(typeof g){case"object":return l(h,g,v,x);case"function":return Object.keys(g).length>0?o(h,{...g},v,x):r.eq(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:r.eq(h,g)}}function l(h,g,v,x){if(g==null)return!0;if(Array.isArray(g))return f(h,g,v,x);if(g instanceof Map)return u(h,g,v,x);if(g instanceof Set)return d(h,g,v,x);const S=Object.keys(g);if(h==null)return S.length===0;if(S.length===0)return!0;if(x!=null&&x.has(g))return x.get(g)===h;x==null||x.set(g,h);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(h)&&!(T in h)||g[T]===void 0&&h[T]!==void 0||g[T]===null&&h[T]!==null||!v(h[T],g[T],T,h,g,x))return!1}return!0}finally{x==null||x.delete(g)}}function u(h,g,v,x){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of g.entries()){const T=h.get(S);if(v(T,E,S,h,g,x)===!1)return!1}return!0}function f(h,g,v,x){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<g.length;E++){const T=g[E];let C=!1;for(let P=0;P<h.length;P++){if(S.has(P))continue;const O=h[P];let R=!1;if(v(O,T,E,h,g,x)&&(R=!0),R){S.add(P),C=!0;break}}if(!C)return!1}return!0}function d(h,g,v,x){return g.size===0?!0:h instanceof Set?f([...h],[...g],v,x):!1}e.isMatchWith=i,e.isSetMatch=d})(kg)),kg}var XT;function OO(){return XT||(XT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pz();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Og)),Og}var Mg={},Ig={},Lg={},QT;function Oz(){return QT||(QT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Lg)),Lg}var Ug={},ZT;function kO(){return ZT||(ZT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Ug)),Ug}var Bg={},e1;function jO(){return e1||(e1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",R="[object BigUint64Array]",k="[object Int8Array]",j="[object Int16Array]",M="[object Int32Array]",V="[object BigInt64Array]",z="[object Float32Array]",te="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=V,e.bigUint64ArrayTag=R,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=z,e.float64ArrayTag=te,e.functionTag=g,e.int16ArrayTag=j,e.int32ArrayTag=M,e.int8ArrayTag=k,e.mapTag=f,e.numberTag=r,e.objectTag=x,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=O,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(Bg)),Bg}var qg={},t1;function kz(){return t1||(t1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(qg)),qg}var n1;function RO(){return n1||(n1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oz(),n=kO(),r=jO(),i=NO(),o=kz();function l(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,v,x=new Map,S=void 0){const E=S==null?void 0:S(h,g,v,x);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const T=new Array(h.length);x.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,v,x,S);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;x.set(h,T);for(const[C,P]of h)T.set(C,u(P,C,v,x,S));return T}if(h instanceof Set){const T=new Set;x.set(h,T);for(const C of h)T.add(u(C,void 0,v,x,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,v,x,S);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,T),f(T,h,v,x,S),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return x.set(h,T),f(T,h,v,x,S),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return x.set(h,T),f(T,h,v,x,S),T}if(h instanceof Error){const T=new h.constructor;return x.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,f(T,h,v,x,S),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return x.set(h,T),f(T,h,v,x,S),T}if(h instanceof Number){const T=new Number(h.valueOf());return x.set(h,T),f(T,h,v,x,S),T}if(h instanceof String){const T=new String(h.valueOf());return x.set(h,T),f(T,h,v,x,S),T}if(typeof h=="object"&&d(h)){const T=Object.create(Object.getPrototypeOf(h));return x.set(h,T),f(T,h,v,x,S),T}return h}function f(h,g,v=h,x,S){const E=[...Object.keys(g),...t.getSymbols(g)];for(let T=0;T<E.length;T++){const C=E[T],P=Object.getOwnPropertyDescriptor(h,C);(P==null||P.writable)&&(h[C]=u(g[C],C,v,x,S))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(Ig)),Ig}var r1;function jz(){return r1||(r1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Mg)),Mg}var i1;function Rz(){return i1||(i1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OO(),n=jz();function r(i){return i=n.cloneDeep(i),o=>t.isMatch(o,i)}e.matches=r})(Pg)),Pg}var $g={},zg={},Vg={},a1;function Dz(){return a1||(a1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO(),n=jO();function r(i,o){return t.cloneDeepWith(i,(l,u,f,d)=>{const h=o==null?void 0:o(l,u,f,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r})(Vg)),Vg}var o1;function Mz(){return o1||(o1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dz();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(zg)),zg}var Hg={},Kg={},s1;function DO(){return s1||(s1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Kg)),Kg}var Fg={},l1;function Iz(){return l1||(l1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kO();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Fg)),Fg}var u1;function Lz(){return u1||(u1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_O(),n=DO(),r=Iz(),i=O0();function o(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const g=f[h];if((d==null||!Object.hasOwn(d,g))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(g)&&g<d.length))return!1;d=d[g]}return!0}e.has=o})(Hg)),Hg}var c1;function Uz(){return c1||(c1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OO(),n=P0(),r=Mz(),i=k0(),o=Lz();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=l})($g)),$g}var d1;function Bz(){return d1||(d1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TO(),n=Nz(),r=Rz(),i=Uz();function o(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=o})(Cg)),Cg}var f1;function qz(){return f1||(f1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ez(),n=TO(),r=Cz(),i=Bz();function o(l,u=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(u)):[]}e.uniqBy=o})(xg)),xg}var Gg,h1;function $z(){return h1||(h1=1,Gg=qz().uniqBy),Gg}var zz=$z();const m1=Mr(zz);function MO(e,t,n){return t===!0?m1(e,n):typeof t=="function"?m1(e,t):e}var Wg={exports:{}},Yg={},Jg={exports:{}},Xg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function Vz(){if(p1)return Xg;p1=1;var e=Is();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var x=v(),S=r({inst:{value:x,getSnapshot:v}}),E=S[0].inst,T=S[1];return o(function(){E.value=x,E.getSnapshot=v,f(E)&&T({inst:E})},[g,x,v]),i(function(){return f(E)&&T({inst:E}),g(function(){f(E)&&T({inst:E})})},[g]),l(x),x}function f(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!n(g,x)}catch{return!0}}function d(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return Xg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Xg}var g1;function Hz(){return g1||(g1=1,Jg.exports=Vz()),Jg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function Kz(){if(v1)return Yg;v1=1;var e=Is(),t=Hz();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Yg.useSyncExternalStoreWithSelector=function(d,h,g,v,x){var S=o(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function C(j){if(!P){if(P=!0,O=j,j=v(j),x!==void 0&&E.hasValue){var M=E.value;if(x(M,j))return R=M}return R=j}if(M=R,r(O,j))return M;var V=v(j);return x!==void 0&&x(M,V)?(O=j,M):(O=j,R=V)}var P=!1,O,R,k=g===void 0?null:g;return[function(){return C(h())},k===null?void 0:function(){return C(k())}]},[h,g,v,x]);var T=i(d,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),f(T),T},Yg}var y1;function Fz(){return y1||(y1=1,Wg.exports=Kz()),Wg.exports}var Gz=Fz(),L0=A.createContext(null),Wz=e=>e,bt=()=>{var e=A.useContext(L0);return e?e.store.dispatch:Wz},Vd=()=>{},Yz=()=>Vd,Jz=(e,t)=>e===t;function ye(e){var t=A.useContext(L0);return Gz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Yz,t?t.store.getState:Vd,t?t.store.getState:Vd,t?e:Vd,Jz)}function Xz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Qz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Zz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var b1=e=>Array.isArray(e)?e:[e];function eV(e){const t=Array.isArray(e[0])?e[0]:e;return Zz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function tV(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var nV=class{constructor(e){this.value=e}deref(){return this.value}},rV=typeof WeakRef<"u"?WeakRef:nV,iV=0,x1=1;function Ad(){return{s:iV,v:void 0,o:null,p:null}}function IO(e,t={}){let n=Ad();const{resultEqualityCheck:r}=t;let i,o=0;function l(){var g;let u=n;const{length:f}=arguments;for(let v=0,x=f;v<x;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(S);T===void 0?(u=Ad(),E.set(S,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(S);T===void 0?(u=Ad(),E.set(S,u)):u=T}}const d=u;let h;if(u.s===x1)h=u.v;else if(h=e.apply(null,arguments),o++,r){const v=((g=i==null?void 0:i.deref)==null?void 0:g.call(i))??i;v!=null&&r(v,h)&&(h=v,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new rV(h):h}return d.s=x1,d.v=h,h}return l.clearCache=()=>{n=Ad(),l.resetResultsCount()},l.resultsCount=()=>o,l.resetResultsCount=()=>{o=0},l}function aV(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),Xz(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:x=IO,argsMemoizeOptions:S=[]}=h,E=b1(v),T=b1(S),C=eV(i),P=g(function(){return o++,d.apply(null,arguments)},...E),O=x(function(){l++;const k=tV(C,arguments);return u=P.apply(null,k),u},...T);return Object.assign(O,{resultFunc:d,memoizedResultFunc:P,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:g,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var Y=aV(IO),oV=Object.assign((e,t=Y)=>{Qz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>oV}),Qg={},Zg={},ev={},w1;function sV(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-l:l-u}return 0};e.compareValues=n})(ev)),ev}var tv={},nv={},_1;function LO(){return _1||(_1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(nv)),nv}var S1;function lV(){return S1||(S1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||l!=null&&Object.hasOwn(l,o)}e.isKey=i})(tv)),tv}var E1;function uV(){return E1||(E1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sV(),n=lV(),r=O0();function i(o,l,u,f){if(o==null)return[];u=f?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const d=(x,S)=>{let E=x;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},h=(x,S)=>S==null||x==null?S:typeof x=="object"&&"key"in x?Object.hasOwn(S,x.key)?S[x.key]:d(S,x.path):typeof x=="function"?x(S):Array.isArray(x)?d(S,x):typeof S=="object"?S[x]:S,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return o.map(x=>({original:x,criteria:g.map(S=>h(S,x))})).slice().sort((x,S)=>{for(let E=0;E<g.length;E++){const T=t.compareValues(x.criteria[E],S.criteria[E],u[E]);if(T!==0)return T}return 0}).map(x=>x.original)}e.orderBy=i})(Zg)),Zg}var rv={},A1;function cV(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],o=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<o?l(h,f+1):i.push(h)}};return l(n,0),i}e.flatten=t})(rv)),rv}var iv={},T1;function UO(){return T1||(T1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DO(),n=I0(),r=CO(),i=PO();function o(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.eq(f[u],l):!1}e.isIterateeCall=o})(iv)),iv}var C1;function dV(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uV(),n=cV(),r=UO();function i(o,...l){const u=l.length;return u>1&&r.isIterateeCall(o,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(o,n.flatten(l),["asc"])}e.sortBy=i})(Qg)),Qg}var av,N1;function fV(){return N1||(N1=1,av=dV().sortBy),av}var hV=fV();const eh=Mr(hV);var BO=e=>e.legend.settings,mV=e=>e.legend.size,pV=e=>e.legend.payload,gV=Y([pV,BO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?eh(r,n):r});function vV(){return ye(gV)}var Td=1;function qO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),l={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(l.height-t.height)>Td||Math.abs(l.left-t.left)>Td||Math.abs(l.top-t.top)>Td||Math.abs(l.width-t.width)>Td)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function on(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yV=typeof Symbol=="function"&&Symbol.observable||"@@observable",P1=yV,ov=()=>Math.random().toString(36).substring(7).split("").join("."),bV={INIT:`@@redux/INIT${ov()}`,REPLACE:`@@redux/REPLACE${ov()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ov()}`},sf=bV;function U0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $O(e,t,n){if(typeof e!="function")throw new Error(on(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(on(1));return n($O)(e,t)}let r=e,i=t,o=new Map,l=o,u=0,f=!1;function d(){l===o&&(l=new Map,o.forEach((T,C)=>{l.set(C,T)}))}function h(){if(f)throw new Error(on(3));return i}function g(T){if(typeof T!="function")throw new Error(on(4));if(f)throw new Error(on(5));let C=!0;d();const P=u++;return l.set(P,T),function(){if(C){if(f)throw new Error(on(6));C=!1,d(),l.delete(P),o=null}}}function v(T){if(!U0(T))throw new Error(on(7));if(typeof T.type>"u")throw new Error(on(8));if(typeof T.type!="string")throw new Error(on(17));if(f)throw new Error(on(9));try{f=!0,i=r(i,T)}finally{f=!1}return(o=l).forEach(P=>{P()}),T}function x(T){if(typeof T!="function")throw new Error(on(10));r=T,v({type:sf.REPLACE})}function S(){const T=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(on(11));function P(){const R=C;R.next&&R.next(h())}return P(),{unsubscribe:T(P)}},[P1](){return this}}}return v({type:sf.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:x,[P1]:S}}function xV(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:sf.INIT})>"u")throw new Error(on(12));if(typeof n(void 0,{type:sf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(on(13))})}function zO(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const l=t[o];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{xV(n)}catch(o){i=o}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const g=r[h],v=n[g],x=l[g],S=v(x,u);if(typeof S>"u")throw u&&u.type,new Error(on(14));d[g]=S,f=f||S!==x}return f=f||r.length!==Object.keys(l).length,f?d:l}}function lf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function wV(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(on(15))};const l={getState:i.getState,dispatch:(f,...d)=>o(f,...d)},u=e.map(f=>f(l));return o=lf(...u)(i.dispatch),{...i,dispatch:o}}}function VO(e){return U0(e)&&"type"in e&&typeof e.type=="string"}var HO=Symbol.for("immer-nothing"),O1=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function jr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xu=Object.getPrototypeOf;function ho(e){return!!e&&!!e[tr]}function wi(e){var t;return e?KO(e)||Array.isArray(e)||!!e[O1]||!!((t=e.constructor)!=null&&t[O1])||Mu(e)||nh(e):!1}var _V=Object.prototype.constructor.toString(),k1=new WeakMap;function KO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=k1.get(n);return r===void 0&&(r=Function.toString.call(n),k1.set(n,r)),r===_V}function uf(e,t,n=!0){th(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function th(e){const t=e[tr];return t?t.type_:Array.isArray(e)?1:Mu(e)?2:nh(e)?3:0}function xy(e,t){return th(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function FO(e,t,n){const r=th(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function SV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Mu(e){return e instanceof Map}function nh(e){return e instanceof Set}function Wa(e){return e.copy_||e.base_}function wy(e,t){if(Mu(e))return new Map(e);if(nh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=KO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[tr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(xu(e),r)}else{const r=xu(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function B0(e,t=!1){return rh(e)||ho(e)||!wi(e)||(th(e)>1&&Object.defineProperties(e,{set:Cd,add:Cd,clear:Cd,delete:Cd}),Object.freeze(e),t&&Object.values(e).forEach(n=>B0(n,!0))),e}function EV(){jr(2)}var Cd={value:EV};function rh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var AV={};function mo(e){const t=AV[e];return t||jr(0,e),t}var wu;function GO(){return wu}function TV(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function j1(e,t){t&&(mo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _y(e){Sy(e),e.drafts_.forEach(CV),e.drafts_=null}function Sy(e){e===wu&&(wu=e.parent_)}function R1(e){return wu=TV(wu,e)}function CV(e){const t=e[tr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function D1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[tr].modified_&&(_y(t),jr(4)),wi(e)&&(e=cf(t,e),t.parent_||df(t,e)),t.patches_&&mo("Patches").generateReplacementPatches_(n[tr].base_,e,t.patches_,t.inversePatches_)):e=cf(t,n,[]),_y(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HO?e:void 0}function cf(e,t,n){if(rh(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[tr];if(!i)return uf(t,(o,l)=>M1(e,i,t,o,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return df(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let l=o,u=!1;i.type_===3&&(l=new Set(o),o.clear(),u=!0),uf(l,(f,d)=>M1(e,i,o,f,d,n,u),r),df(e,o,!1),n&&e.patches_&&mo("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function M1(e,t,n,r,i,o,l){if(i==null||typeof i!="object"&&!l)return;const u=rh(i);if(!(u&&!l)){if(ho(i)){const f=o&&t&&t.type_!==3&&!xy(t.assigned_,r)?o.concat(r):void 0,d=cf(e,i,f);if(FO(n,r,d),ho(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(wi(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;cf(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Mu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&df(e,i)}}}function df(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B0(t,n)}function NV(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:GO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=q0;n&&(i=[r],o=_u);const{revoke:l,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=l,u}var q0={get(e,t){if(t===tr)return e;const n=Wa(e);if(!xy(n,t))return PV(e,n,t);const r=n[t];return e.finalized_||!wi(r)?r:r===sv(e.base_,t)?(lv(e),e.copy_[t]=Ay(r,e)):r},has(e,t){return t in Wa(e)},ownKeys(e){return Reflect.ownKeys(Wa(e))},set(e,t,n){const r=WO(Wa(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=sv(Wa(e),t),o=i==null?void 0:i[tr];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(SV(n,i)&&(n!==void 0||xy(e.base_,t)))return!0;lv(e),Ey(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lv(e),Ey(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Wa(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){jr(11)},getPrototypeOf(e){return xu(e.base_)},setPrototypeOf(){jr(12)}},_u={};uf(q0,(e,t)=>{_u[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});_u.deleteProperty=function(e,t){return _u.set.call(this,e,t,void 0)};_u.set=function(e,t,n){return q0.set.call(this,e[0],t,n,e[0])};function sv(e,t){const n=e[tr];return(n?Wa(n):e)[t]}function PV(e,t,n){var i;const r=WO(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function WO(e,t){if(!(t in e))return;let n=xu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xu(n)}}function Ey(e){e.modified_||(e.modified_=!0,e.parent_&&Ey(e.parent_))}function lv(e){e.copy_||(e.copy_=wy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OV=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const l=this;return function(f=o,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&jr(6),r!==void 0&&typeof r!="function"&&jr(7);let i;if(wi(t)){const o=R1(this),l=Ay(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?_y(o):Sy(o)}return j1(o,r),D1(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===HO&&(i=void 0),this.autoFreeze_&&B0(i,!0),r){const o=[],l=[];mo("Patches").generateReplacementPatches_(t,i,o,l),r(o,l)}return i}else jr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wi(e)||jr(8),ho(e)&&(e=yi(e));const t=R1(this),n=Ay(e,void 0);return n[tr].isManual_=!0,Sy(t),n}finishDraft(e,t){const n=e&&e[tr];(!n||!n.isManual_)&&jr(9);const{scope_:r}=n;return j1(r,t),D1(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=mo("Patches").applyPatches_;return ho(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Ay(e,t){const n=Mu(e)?mo("MapSet").proxyMap_(e,t):nh(e)?mo("MapSet").proxySet_(e,t):NV(e,t);return(t?t.scope_:GO()).drafts_.push(n),n}function yi(e){return ho(e)||jr(10,e),YO(e)}function YO(e){if(!wi(e)||rh(e))return e;const t=e[tr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=wy(e,!0);return uf(n,(i,o)=>{FO(n,i,YO(o))},r),t&&(t.finalized_=!1),n}var kV=new OV,JO=kV.produce;function XO(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var jV=XO(),RV=XO,DV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lf:lf.apply(null,arguments)};function _r(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Zn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>VO(r)&&r.type===e,n}var QO=class su extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,su.prototype)}static get[Symbol.species](){return su}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new su(...t[0].concat(this)):new su(...t.concat(this))}};function I1(e){return wi(e)?JO(e,()=>{}):e}function Nd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function MV(e){return typeof e=="boolean"}var IV=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let l=new QO;return n&&(MV(n)?l.push(jV):l.push(RV(n.extraArgument))),l},ZO="RTK_autoBatch",wn=()=>e=>({payload:e,meta:{[ZO]:!0}}),L1=e=>t=>{setTimeout(t,e)},ek=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:L1(10):e.type==="callback"?e.queueNotification:L1(e.timeout),d=()=>{l=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>i&&h(),v=r.subscribe(g);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var g;try{return i=!((g=h==null?void 0:h.meta)!=null&&g[ZO]),o=!i,o&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},LV=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new QO(e);return r&&i.push(ek(typeof r=="object"?r:void 0)),i};function UV(e){const t=IV(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(U0(n))u=zO(n);else throw new Error(Zn(1));let f;typeof r=="function"?f=r(t):f=t();let d=lf;i&&(d=DV({trace:!1,...typeof i=="object"&&i}));const h=wV(...f),g=LV(h);let v=typeof l=="function"?l(g):g();const x=d(...v);return $O(u,o,x)}function tk(e){const t={},n=[];let r;const i={addCase(o,l){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Zn(28));if(u in t)throw new Error(Zn(29));return t[u]=l,i},addAsyncThunk(o,l){return l.pending&&(t[o.pending.type]=l.pending),l.rejected&&(t[o.rejected.type]=l.rejected),l.fulfilled&&(t[o.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return n.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function BV(e){return typeof e=="function"}function qV(e,t){let[n,r,i]=tk(t),o;if(BV(e))o=()=>I1(e());else{const u=I1(e);o=()=>u}function l(u=o(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,g)=>{if(g)if(ho(h)){const x=g(h,f);return x===void 0?h:x}else{if(wi(h))return JO(h,v=>g(v,f));{const v=g(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=o,l}var $V="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zV=(e=21)=>{let t="",n=e;for(;n--;)t+=$V[Math.random()*64|0];return t},VV=Symbol.for("rtk-slice-createasyncthunk");function HV(e,t){return`${e}/${t}`}function KV({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[VV];return function(i){const{name:o,reducerPath:l=o}=i;if(!o)throw new Error(Zn(11));const u=(typeof i.reducers=="function"?i.reducers(GV()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(R,k){const j=typeof R=="string"?R:R.type;if(!j)throw new Error(Zn(12));if(j in d.sliceCaseReducersByType)throw new Error(Zn(13));return d.sliceCaseReducersByType[j]=k,h},addMatcher(R,k){return d.sliceMatchers.push({matcher:R,reducer:k}),h},exposeAction(R,k){return d.actionCreators[R]=k,h},exposeCaseReducer(R,k){return d.sliceCaseReducersByName[R]=k,h}};f.forEach(R=>{const k=u[R],j={reducerName:R,type:HV(o,R),createNotation:typeof i.reducers=="function"};YV(k)?XV(j,k,h,t):WV(j,k,h)});function g(){const[R={},k=[],j=void 0]=typeof i.extraReducers=="function"?tk(i.extraReducers):[i.extraReducers],M={...R,...d.sliceCaseReducersByType};return qV(i.initialState,V=>{for(let z in M)V.addCase(z,M[z]);for(let z of d.sliceMatchers)V.addMatcher(z.matcher,z.reducer);for(let z of k)V.addMatcher(z.matcher,z.reducer);j&&V.addDefaultCase(j)})}const v=R=>R,x=new Map,S=new WeakMap;let E;function T(R,k){return E||(E=g()),E(R,k)}function C(){return E||(E=g()),E.getInitialState()}function P(R,k=!1){function j(V){let z=V[R];return typeof z>"u"&&k&&(z=Nd(S,j,C)),z}function M(V=v){const z=Nd(x,k,()=>new WeakMap);return Nd(z,V,()=>{const te={};for(const[Z,L]of Object.entries(i.selectors??{}))te[Z]=FV(L,V,()=>Nd(S,V,C),k);return te})}return{reducerPath:R,getSelectors:M,get selectors(){return M(j)},selectSlice:j}}const O={name:o,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...P(l),injectInto(R,{reducerPath:k,...j}={}){const M=k??l;return R.inject({reducerPath:M,reducer:T},j),{...O,...P(M,!0)}}};return O}}function FV(e,t,n,r){function i(o,...l){let u=t(o);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var nr=KV();function GV(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function WV({type:e,reducerName:t,createNotation:n},r,i){let o,l;if("reducer"in r){if(n&&!JV(r))throw new Error(Zn(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,l?_r(e,l):_r(e))}function YV(e){return e._reducerDefinitionType==="asyncThunk"}function JV(e){return e._reducerDefinitionType==="reducerWithPrepare"}function XV({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Zn(18));const{payloadCreator:o,fulfilled:l,pending:u,rejected:f,settled:d,options:h}=n,g=i(e,o,h);r.exposeAction(t,g),l&&r.addCase(g.fulfilled,l),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),d&&r.addMatcher(g.settled,d),r.exposeCaseReducer(t,{fulfilled:l||Pd,pending:u||Pd,rejected:f||Pd,settled:d||Pd})}function Pd(){}var QV="task",nk="listener",rk="completed",$0="cancelled",ZV=`task-${$0}`,eH=`task-${rk}`,Ty=`${nk}-${$0}`,tH=`${nk}-${rk}`,ih=class{constructor(e){Wp(this,"name","TaskAbortError");Wp(this,"message");this.code=e,this.message=`${QV} ${$0} (reason: ${e})`}},z0=(e,t)=>{if(typeof e!="function")throw new TypeError(Zn(32))},ff=()=>{},ik=(e,t=ff)=>(e.catch(t),e),ak=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ao=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},oo=e=>{if(e.aborted){const{reason:t}=e;throw new ih(t)}};function ok(e,t){let n=ff;return new Promise((r,i)=>{const o=()=>i(new ih(e.reason));if(e.aborted){o();return}n=ak(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ff})}var nH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof ih?"cancelled":"rejected",error:n}}finally{t==null||t()}},hf=e=>t=>ik(ok(e,t).then(n=>(oo(e),n))),sk=e=>{const t=hf(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Es}=Object,U1={},ah="listenerMiddleware",rH=(e,t)=>{const n=r=>ak(e,()=>ao(r,e.reason));return(r,i)=>{z0(r);const o=new AbortController;n(o);const l=nH(async()=>{oo(e),oo(o.signal);const u=await r({pause:hf(o.signal),delay:sk(o.signal),signal:o.signal});return oo(o.signal),u},()=>ao(o,eH));return i!=null&&i.autoJoin&&t.push(l.catch(ff)),{result:hf(e)(l),cancel(){ao(o,ZV)}}}},iH=(e,t)=>{const n=async(r,i)=>{oo(t);let o=()=>{};const u=[new Promise((f,d)=>{let h=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await ok(t,Promise.race(u));return oo(t),f}finally{o()}};return(r,i)=>ik(n(r,i))},lk=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=_r(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Zn(21));return z0(o),{predicate:i,type:t,effect:o}},uk=Es(e=>{const{type:t,predicate:n,effect:r}=lk(e);return{id:zV(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zn(22))}}},{withTypes:()=>uk}),B1=(e,t)=>{const{type:n,effect:r,predicate:i}=lk(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},Cy=e=>{e.pending.forEach(t=>{ao(t,Ty)})},aH=(e,t)=>()=>{for(const n of t.keys())Cy(n);e.clear()},q1=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},ck=Es(_r(`${ah}/add`),{withTypes:()=>ck}),oH=_r(`${ah}/removeAll`),dk=Es(_r(`${ah}/remove`),{withTypes:()=>dk}),sH=(...e)=>{console.error(`${ah}/error`,...e)},Iu=(e={})=>{const t=new Map,n=new Map,r=x=>{const S=n.get(x)??0;n.set(x,S+1)},i=x=>{const S=n.get(x)??1;S===1?n.delete(x):n.set(x,S-1)},{extra:o,onError:l=sH}=e;z0(l);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),S=>{x.unsubscribe(),S!=null&&S.cancelActive&&Cy(x)}),f=x=>{const S=B1(t,x)??uk(x);return u(S)};Es(f,{withTypes:()=>f});const d=x=>{const S=B1(t,x);return S&&(S.unsubscribe(),x.cancelActive&&Cy(S)),!!S};Es(d,{withTypes:()=>d});const h=async(x,S,E,T)=>{const C=new AbortController,P=iH(f,C.signal),O=[];try{x.pending.add(C),r(x),await Promise.resolve(x.effect(S,Es({},E,{getOriginalState:T,condition:(R,k)=>P(R,k).then(Boolean),take:P,delay:sk(C.signal),pause:hf(C.signal),extra:o,signal:C.signal,fork:rH(C.signal,O),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((R,k,j)=>{R!==C&&(ao(R,Ty),j.delete(R))})},cancel:()=>{ao(C,Ty),x.pending.delete(C)},throwIfCancelled:()=>{oo(C.signal)}})))}catch(R){R instanceof ih||q1(l,R,{raisedBy:"effect"})}finally{await Promise.all(O),ao(C,tH),i(x),x.pending.delete(C)}},g=aH(t,n);return{middleware:x=>S=>E=>{if(!VO(E))return S(E);if(ck.match(E))return f(E.payload);if(oH.match(E)){g();return}if(dk.match(E))return d(E.payload);let T=x.getState();const C=()=>{if(T===U1)throw new Error(Zn(23));return T};let P;try{if(P=S(E),t.size>0){const O=x.getState(),R=Array.from(t.values());for(const k of R){let j=!1;try{j=k.predicate(E,O,T)}catch(M){j=!1,q1(l,M,{raisedBy:"predicate"})}j&&h(k,E,x,C)}}}finally{T=U1}return P},startListening:f,stopListening:d,clearListeners:g}};function Zn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var lH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fk=nr({name:"chartLayout",initialState:lH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:uH,setLayout:cH,setChartSize:dH,setScale:fH}=fk.actions,hH=fk.reducer;function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(r){mH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mH(e,t,n){return(t=pH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mf=Math.PI/180,vH=e=>e*180/Math.PI,It=(e,t,n,r)=>({x:e+Math.cos(-mf*r)*n,y:t+Math.sin(-mf*r)*n}),hk=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},yH=(e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)},bH=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,l=yH({x:n,y:r},{x:i,y:o});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>o&&(f=2*Math.PI-f),{radius:l,angle:vH(f),angleInRadian:f}},xH=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-o*360,endAngle:n-o*360}},wH=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return e+l*360},_H=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:o}=bH({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=xH(t),h=o,g;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=f}return g?z1(z1({},t),{},{radius:i,angle:wH(h,t)}):null};function mk(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function V1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V1(Object(n),!0).forEach(function(r){SH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SH(e,t,n){return(t=EH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ct(e,t,n){return yt(e)||yt(t)?n:Kr(t)?fo(e,t,n):typeof t=="function"?t(e):n}var TH=(e,t,n,r,i)=>{var o,l=-1,u=(o=t==null?void 0:t.length)!==null&&o!==void 0?o:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var f=0;f<u;f++){var d=f>0?n[f-1].coordinate:n[u-1].coordinate,h=n[f].coordinate,g=f>=u-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Xt(h-d)!==Xt(g-h)){var x=[];if(Xt(g-h)===Xt(i[1]-i[0])){v=g;var S=h+i[1]-i[0];x[0]=Math.min(S,(S+d)/2),x[1]=Math.max(S,(S+d)/2)}else{v=d;var E=g+i[1]-i[0];x[0]=Math.min(h,(E+h)/2),x[1]=Math.max(h,(E+h)/2)}var T=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>T[0]&&e<=T[1]||e>=x[0]&&e<=x[1]){({index:l}=n[f]);break}}else{var C=Math.min(d,g),P=Math.max(d,g);if(e>(C+h)/2&&e<=(P+h)/2){({index:l}=n[f]);break}}}else if(t){for(var O=0;O<u;O++)if(O===0&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O>0&&O<u-1&&e>(t[O].coordinate+t[O-1].coordinate)/2&&e<=(t[O].coordinate+t[O+1].coordinate)/2||O===u-1&&e>(t[O].coordinate+t[O-1].coordinate)/2){({index:l}=t[O]);break}}return l},CH=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&o!=="center"&&Ae(e[o]))return yr(yr({},e),{},{[o]:e[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&l!=="middle"&&Ae(e[l]))return yr(yr({},e),{},{[l]:e[l]+(i||0)})}return e},xa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",pk=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,o,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(o=!0),u.coordinate));return i||l.push(t),o||l.push(n),l},gk=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:g,niceTicks:v,axisType:x}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=x==="angleAxis"&&o&&o.length>=2?Xt(o[0]-o[1])*2*E:E,g||v){var T=(g||v||[]).map((C,P)=>{var O=r?r.indexOf(C):C;return{coordinate:l(O)+E,value:C,offset:E,index:P}});return T.filter(C=>!wr(C.coordinate))}return f&&d?d.map((C,P)=>({coordinate:l(C)+E,value:C,index:P,offset:E})):l.ticks&&h!=null?l.ticks(h).map((C,P)=>({coordinate:l(C)+E,value:C,offset:E,index:P})):l.domain().map((C,P)=>({coordinate:l(C)+E,value:r?r[C]:C,index:P,offset:E}))},H1=1e-4,NH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-H1,o=Math.max(r[0],r[1])+H1,l=e(t[0]),u=e(t[n-1]);(l<i||l>o||u<i||u>o)&&e.domain([t[0],t[n-1]])}},PH=(e,t)=>{if(!t||t.length!==2||!Ae(t[0])||!Ae(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ae(e[0])||e[0]<n)&&(i[0]=n),(!Ae(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},OH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,l=0;l<t;++l){var u=wr(e[l][n][1])?e[l][n][0]:e[l][n][1];u>=0?(e[l][n][0]=i,e[l][n][1]=i+u,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+u,o=e[l][n][1])}},kH=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var l=wr(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},jH={sign:OH,expand:nz,none:Ns,silhouette:rz,wiggle:iz,positive:kH},RH=(e,t,n)=>{var r=jH[n],i=tz().keys(t).value((o,l)=>+ct(o,l,0)).order(vy).offset(r);return i(e)};function DH(e){return e==null?void 0:String(e)}function K1(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:o,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yt(i[t.dataKey])){var u=EO(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=ct(i,yt(l)?t.dataKey:l);return yt(f)?null:t.scale(f)}var F1=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=ct(o,t.dataKey,t.scale.domain()[l]);return yt(u)?null:t.scale(u)-i/2+r},MH=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},IH=e=>{var t=e.flat(2).filter(Ae);return[Math.min(...t),Math.max(...t)]},LH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],UH=(e,t,n)=>{if(e!=null)return LH(Object.keys(e).reduce((r,i)=>{var o=e[i],{stackedData:l}=o,u=l.reduce((f,d)=>{var h=mk(d,t,n),g=IH(h);return[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},G1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Su=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=eh(t,h=>h.coordinate),o=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function Y1(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return yr(yr({},t),{},{dataKey:n,payload:r,value:i,name:o})}function Vs(e,t){if(e)return String(e);if(typeof t=="string")return t}function BH(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var o=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return o?{x:e,y:t}:null}return r?_H({x:e,y:t},r):null}var qH=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,{radius:l}=r;return yr(yr(yr({},r),It(r.cx,r.cy,l,o)),{},{angle:o,radius:l})}var u=i.coordinate,{angle:f}=r;return yr(yr(yr({},r),It(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{x:0,y:0}},$H=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ti=e=>e.layout.width,Ci=e=>e.layout.height,zH=e=>e.layout.scale,vk=e=>e.layout.margin,oh=Y(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sh=Y(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yk="data-recharts-item-index",bk="data-recharts-item-data-key",Lu=60;function J1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(n),!0).forEach(function(r){VH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VH(e,t,n){return(t=HH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FH=e=>e.brush.height;function GH(e){var t=sh(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Lu;return n+i}return n},0)}function WH(e){var t=sh(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Lu;return n+i}return n},0)}function YH(e){var t=oh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function JH(e){var t=oh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Vt=Y([Ti,Ci,vk,FH,GH,WH,YH,JH,BO,mV],(e,t,n,r,i,o,l,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},g={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=Od(Od({},g),h),x=v.bottom;v.bottom+=r,v=CH(v,f,d);var S=e-v.left-v.right,E=t-v.top-v.bottom;return Od(Od({brushBottom:x},v),{},{width:Math.max(S,0),height:Math.max(E,0)})}),XH=Y(Vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),V0=Y(Ti,Ci,(e,t)=>({x:0,y:0,width:e,height:t})),QH=A.createContext(null),Tn=()=>A.useContext(QH)!=null,lh=e=>e.brush,uh=Y([lh,Vt,vk],(e,t,n)=>({height:e.height,x:Ae(e.x)?e.x:t.left,y:Ae(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Ae(e.width)?e.width:t.width})),uv={},cv={},dv={},X1;function ZH(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:o}={}){let l,u=null;const f=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},g=()=>{d&&h(),E()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},S=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{S(),l=void 0,u=null},T=()=>{h()},C=function(...P){if(i!=null&&i.aborted)return;l=this,u=P;const O=v==null;x(),f&&O&&h()};return C.schedule=x,C.cancel=E,C.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),C}e.debounce=t})(dv)),dv}var Q1;function eK(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZH();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:l=!1,trailing:u=!0,maxWait:f}=o,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,g=null;const v=t.debounce(function(...E){h=r.apply(this,E),g=null},i,{edges:d}),x=function(...E){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(h=r.apply(this,E),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,E),h)},S=()=>(v.flush(),h);return x.cancel=v.cancel,x.flush=S,x}e.debounce=n})(cv)),cv}var Z1;function tK(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eK();function n(r,i=0,o={}){const{leading:l=!0,trailing:u=!0}=o;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(uv)),uv}var fv,eC;function nK(){return eC||(eC=1,fv=tK().throttle),fv}var rK=nK();const iK=Mr(rK);var pf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},xk=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:l}=n,u=xi(r)?e:Number(r),f=xi(i)?t:Number(i);return o&&o>0&&(u?f=u/o:f&&(u=f*o),l&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},aK={width:0,height:0,overflow:"visible"},oK={width:0,overflowX:"visible"},sK={height:0,overflowY:"visible"},lK={},uK=e=>{var{width:t,height:n}=e,r=xi(t),i=xi(n);return r&&i?aK:r?oK:i?sK:lK};function cK(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function yn(e){return Number.isFinite(e)}function Ps(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ny.apply(null,arguments)}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(r){dK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dK(e,t,n){return(t=fK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wk=A.createContext({width:-1,height:-1});function _k(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return n<=0||r<=0?null:A.createElement(wk.Provider,{value:i},t)}var H0=()=>A.useContext(wk),mK=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:l=0,minHeight:u,maxHeight:f,children:d,debounce:h=0,id:g,className:v,onResize:x,style:S={}}=e,E=A.useRef(null),T=A.useRef();T.current=x,A.useImperativeHandle(t,()=>E.current);var[C,P]=A.useState({containerWidth:r.width,containerHeight:r.height}),O=A.useCallback((V,z)=>{P(te=>{var Z=Math.round(V),L=Math.round(z);return te.containerWidth===Z&&te.containerHeight===L?te:{containerWidth:Z,containerHeight:L}})},[]);A.useEffect(()=>{var V=L=>{var H,{width:J,height:re}=L[0].contentRect;O(J,re),(H=T.current)===null||H===void 0||H.call(T,J,re)};h>0&&(V=iK(V,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(V),{width:te,height:Z}=E.current.getBoundingClientRect();return O(te,Z),z.observe(E.current),()=>{z.disconnect()}},[O,h]);var{containerWidth:R,containerHeight:k}=C;pf(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:M}=xk(R,k,{width:i,height:o,aspect:n,maxHeight:f});return pf(j>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,M,i,o,l,u,n),A.createElement("div",{id:g?"".concat(g):void 0,className:Fe("recharts-responsive-container",v),style:nC(nC({},S),{},{width:i,height:o,minWidth:l,minHeight:u,maxHeight:f}),ref:E},A.createElement("div",{style:uK({width:i,height:o})},A.createElement(_k,{width:j,height:M},d)))}),la=A.forwardRef((e,t)=>{var n=H0();if(Ps(n.width)&&Ps(n.height))return e.children;var{width:r,height:i}=cK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:l}=xk(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Ae(o)&&Ae(l)?A.createElement(_k,{width:o,height:l},e.children):A.createElement(mK,Ny({},e,{width:r,height:i,ref:t}))}),ch=()=>{var e,t=Tn(),n=ye(XH),r=ye(uh),i=(e=ye(lh))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},pK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Sk=()=>{var e;return(e=ye(Vt))!==null&&e!==void 0?e:pK},K0=()=>ye(Ti),F0=()=>ye(Ci),gK=()=>ye(e=>e.layout.margin),ze=e=>e.layout.layoutType,dh=()=>ye(ze),fh=e=>{var t=bt(),n=Tn(),{width:r,height:i}=e,o=H0(),l=r,u=i;return o&&(l=o.width>0?o.width:r,u=o.height>0?o.height:i),A.useEffect(()=>{!n&&Ps(l)&&Ps(u)&&t(dH({width:l,height:u}))},[t,n,l,u]),null},vK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ek=nr({name:"legend",initialState:vK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:wn()},removeLegendPayload:{reducer(e,t){var n=yi(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:wn()}}}),{setLegendSize:rC,setLegendSettings:yK,addLegendPayload:Ak,removeLegendPayload:Tk}=Ek.actions,bK=Ek.reducer,xK=["contextPayload"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Py.apply(null,arguments)}function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){G0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G0(e,t,n){return(t=wK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SK(e,t){if(e==null)return{};var n,r,i=EK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function EK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AK(e){return e.value}function TK(e){var{contextPayload:t}=e,n=SK(e,xK),r=MO(t,e.payloadUniqBy,AK),i=Os(Os({},n),{},{payload:r});return A.isValidElement(e.content)?A.cloneElement(e.content,i):typeof e.content=="function"?A.createElement(e.content,i):A.createElement(M0,i)}function CK(e,t,n,r,i,o){var{layout:l,align:u,verticalAlign:f}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?d={left:((r||0)-o.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((i||0)-o.height)/2}:h=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Os(Os({},d),h)}function NK(e){var t=bt();return A.useEffect(()=>{t(yK(e))},[t,e]),null}function PK(e){var t=bt();return A.useEffect(()=>(t(rC(e)),()=>{t(rC({width:0,height:0}))}),[t,e]),null}function OK(e){var t=vV(),n=A8(),r=gK(),{width:i,height:o,wrapperStyle:l,portal:u}=e,[f,d]=qO([t]),h=K0(),g=F0();if(h==null||g==null)return null;var v=h-(r.left||0)-(r.right||0),x=ks.getWidthOrHeight(e.layout,o,i,v),S=u?l:Os(Os({position:"absolute",width:(x==null?void 0:x.width)||i||"auto",height:(x==null?void 0:x.height)||o||"auto"},CK(l,e,r,h,g,f)),l),E=u??n;if(E==null)return null;var T=A.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:d},A.createElement(NK,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),A.createElement(PK,{width:f.width,height:f.height}),A.createElement(TK,Py({},e,x,{margin:r,chartWidth:h,chartHeight:g,contextPayload:t})));return iO.createPortal(T,E)}class ks extends A.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&Ae(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return A.createElement(OK,this.props)}}G0(ks,"displayName","Legend");G0(ks,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(null,arguments)}function aC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(n),!0).forEach(function(r){kK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kK(e,t,n){return(t=jK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jK(e){var t=RK(e,"string");return typeof t=="symbol"?t:t+""}function RK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DK(e){return Array.isArray(e)&&Kr(e[0])&&Kr(e[1])?e.join(" ~ "):e}var MK=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:g,accessibilityLayer:v=!1}=e,x=()=>{if(o&&o.length){var k={padding:0,margin:0},j=(u?eh(o,u):o).map((M,V)=>{if(M.type==="none")return null;var z=M.formatter||l||DK,{value:te,name:Z}=M,L=te,H=Z;if(z){var J=z(te,Z,M,V,o);if(Array.isArray(J))[L,H]=J;else if(J!=null)L=J;else return null}var re=hv({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:re},Kr(H)?A.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Kr(H)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},L),A.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:k},j)}return null},S=hv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),E=hv({margin:0},i),T=!yt(h),C=T?h:"",P=Fe("recharts-default-tooltip",f),O=Fe("recharts-tooltip-label",d);T&&g&&o!==void 0&&o!==null&&(C=g(h,o));var R=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",Oy({className:P,style:S},R),A.createElement("p",{className:O,style:E},A.isValidElement(C)?C:"".concat(C)),x())},Xl="recharts-tooltip-wrapper",IK={visibility:"hidden"};function LK(e){var{coordinate:t,translateX:n,translateY:r}=e;return Fe(Xl,{["".concat(Xl,"-right")]:Ae(n)&&t&&Ae(t.x)&&n>=t.x,["".concat(Xl,"-left")]:Ae(n)&&t&&Ae(t.x)&&n<t.x,["".concat(Xl,"-bottom")]:Ae(r)&&t&&Ae(t.y)&&r>=t.y,["".concat(Xl,"-top")]:Ae(r)&&t&&Ae(t.y)&&r<t.y})}function oC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=e;if(o&&Ae(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),g=n[r]+i;if(t[r])return l[r]?h:g;var v=f[r];if(v==null)return 0;if(l[r]){var x=h,S=v;return x<S?Math.max(g,v):Math.max(h,v)}if(d==null)return 0;var E=g+u,T=v+d;return E>T?Math.max(h,v):Math.max(g,v)}function UK(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function BK(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:l,useTranslate3d:u,viewBox:f}=e,d,h,g;return l.height>0&&l.width>0&&n?(h=oC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),g=oC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),d=UK({translateX:h,translateY:g,useTranslate3d:u})):d=IK,{cssProperties:d,cssClasses:LK({translateX:h,translateY:g,coordinate:n})}}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(n),!0).forEach(function(r){ky(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ky(e,t,n){return(t=qK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zK extends A.PureComponent{constructor(){super(...arguments),ky(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ky(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:C}=this.props,{cssClasses:P,cssProperties:O}=BK({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:g,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:x}),R=C?{}:kd(kd({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=kd(kd({},R),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:k,ref:T},o)}}var VK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wa={devToolsEnabled:!1,isSsr:VK()},Ck=()=>ye(e=>e.rootProps.accessibilityLayer);function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jy.apply(null,arguments)}function lC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(n),!0).forEach(function(r){HK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HK(e,t,n){return(t=KK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cC={curveBasisClosed:H8,curveBasisOpen:K8,curveBasis:V8,curveBumpX:P8,curveBumpY:O8,curveLinearClosed:F8,curveLinear:Qf,curveMonotoneX:G8,curveMonotoneY:W8,curveNatural:Y8,curveStep:J8,curveStepAfter:Q8,curveStepBefore:X8},jd=e=>yn(e.x)&&yn(e.y),Ql=e=>e.x,Zl=e=>e.y,GK=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ru(e));return(n==="curveMonotone"||n==="curveBump")&&t?cC["".concat(n).concat(t==="vertical"?"Y":"X")]:cC[n]||Qf},WK=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,l=GK(t,i),u=o?n.filter(jd):n,f;if(Array.isArray(r)){var d=o?r.filter(g=>jd(g)):r,h=u.map((g,v)=>uC(uC({},g),{},{base:d[v]}));return i==="vertical"?f=Ed().y(Zl).x1(Ql).x0(g=>g.base.x):f=Ed().x(Ql).y1(Zl).y0(g=>g.base.y),f.defined(jd).curve(l),f(h)}return i==="vertical"&&Ae(r)?f=Ed().y(Zl).x1(Ql).x0(r):Ae(r)?f=Ed().x(Ql).y1(Zl).y0(r):f=dO().x(Ql).y(Zl),f.defined(jd).curve(l),f(u)},W0=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var o=n&&n.length?WK(e):r;return A.createElement("path",jy({},er(e),R0(e),{className:Fe("recharts-curve",t),d:o===null?void 0:o,ref:i}))},YK=["x","y","top","left","width","height","className"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(null,arguments)}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){XK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XK(e,t,n){return(t=QK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eF(e,t){if(e==null)return{};var n,r,i=tF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nF=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),rF=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:l=0,className:u}=e,f=eF(e,YK),d=JK({x:t,y:n,top:r,left:i,width:o,height:l},f);return!Ae(t)||!Ae(n)||!Ae(o)||!Ae(l)||!Ae(r)||!Ae(i)?null:A.createElement("path",Ry({},An(d),{className:Fe("recharts-cross",u),d:nF(t,n,o,l,r,i)}))};function iF(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(n),!0).forEach(function(r){oF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oF(e,t,n){return(t=sF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sF(e){var t=lF(e,"string");return typeof t=="symbol"?t:t+""}function lF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function un(e,t){var n=aF({},e),r=t,i=Object.keys(t),o=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return o}function uF(){}function cF(e){return e!=null}function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(n),!0).forEach(function(r){dF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dF(e,t,n){return(t=fF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fF(e){var t=hF(e,"string");return typeof t=="symbol"?t:t+""}function hF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Nk=(e,t,n)=>e.map(r=>"".concat(mF(r)," ").concat(t,"ms ").concat(n)).join(","),pF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Eu=(e,t)=>Object.keys(t).reduce((n,r)=>mC(mC({},n),{},{[r]:e(r,t[r])}),{});function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(r){gF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gF(e,t,n){return(t=vF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vF(e){var t=yF(e,"string");return typeof t=="symbol"?t:t+""}function yF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gf=(e,t,n)=>e+(t-e)*n,Dy=e=>{var{from:t,to:n}=e;return t!==n},Pk=(e,t,n)=>{var r=Eu((i,o)=>{if(Dy(o)){var[l,u]=e(o.from,o.to,o.velocity);return sn(sn({},o),{},{from:l,velocity:u})}return o},t);return n<1?Eu((i,o)=>Dy(o)?sn(sn({},o),{},{velocity:gf(o.velocity,r[i].velocity,n),from:gf(o.from,r[i].from,n)}):o,t):Pk(e,r,n-1)};function bF(e,t,n,r,i,o){var l,u=r.reduce((v,x)=>sn(sn({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>Eu((v,x)=>x.from,u),d=()=>!Object.values(u).filter(Dy).length,h=null,g=v=>{l||(l=v);var x=v-l,S=x/n.dt;u=Pk(n,u,S),i(sn(sn(sn({},e),t),f())),l=v,d()||(h=o.setTimeout(g))};return()=>(h=o.setTimeout(g),()=>{h()})}function xF(e,t,n,r,i,o,l){var u=null,f=i.reduce((g,v)=>sn(sn({},g),{},{[v]:[e[v],t[v]]}),{}),d,h=g=>{d||(d=g);var v=(g-d)/r,x=Eu((E,T)=>gf(...T,n(v)),f);if(o(sn(sn(sn({},e),t),x)),v<1)u=l.setTimeout(h);else{var S=Eu((E,T)=>gf(...T,n(1)),f);o(sn(sn(sn({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{u()})}const wF=(e,t,n,r,i,o)=>{var l=pF(e,t);return n.isStepper===!0?bF(e,t,n,l,i,o):xF(e,t,n,r,l,i,o)};var vf=1e-4,Ok=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],kk=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),gC=(e,t)=>n=>{var r=Ok(e,t);return kk(r,n)},_F=(e,t)=>n=>{var r=Ok(e,t),i=[...r.map((o,l)=>o*l).slice(1),0];return kk(i,n)},vC=function(){for(var t,n,r,i,o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var f=l[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,i]=f[1].split(")")[0].split(",").map(S=>parseFloat(S)))}}else l.length===4&&([t,r,n,i]=l);var d=gC(t,n),h=gC(r,i),g=_F(t,n),v=S=>S>1?1:S<0?0:S,x=S=>{for(var E=S>1?1:S,T=E,C=0;C<8;++C){var P=d(T)-E,O=g(T);if(Math.abs(P-E)<vf||O<vf)return h(T);T=v(T-P/O)}return h(T)};return x.isStepper=!1,x},SF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,o=(l,u,f)=>{var d=-(l-u)*n,h=f*r,g=f+(d-h)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<vf&&Math.abs(g)<vf?[u,0]:[v,g]};return o.isStepper=!0,o.dt=i,o},EF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vC(e);case"spring":return SF();default:if(e.split("(")[0]==="cubic-bezier")return vC(e)}return typeof e=="function"?e:null};function AF(e){var t,n=()=>null,r=!1,i=null,o=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=e.setTimeout(o.bind(null,d),f);return}o(f),i=e.setTimeout(o.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),o(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class TF{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{cancelAnimationFrame(i)}}}function CF(){return AF(new TF)}var NF=A.createContext(CF);function PF(e,t){var n=A.useContext(NF);return A.useMemo(()=>t??n(e),[e,t,n])}var OF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},yC={t:0},mv={t:1};function Uu(e){var t=un(e,OF),{isActive:n,canBegin:r,duration:i,easing:o,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=t,h=PF(t.animationId,t.animationManager),[g,v]=A.useState(n?yC:mv),x=A.useRef(null);return A.useEffect(()=>{n||v(mv)},[n]),A.useEffect(()=>{if(!n||!r)return uF;var S=wF(yC,mv,EF(o),i,v,h.getTimeoutController()),E=()=>{x.current=S()};return h.start([f,l,E,i,u]),()=>{h.stop(),x.current&&x.current(),u()}},[n,r,i,o,l,f,u,h]),d(g.t)}function Bu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(bu(t)),r=A.useRef(e);return r.current!==e&&(n.current=bu(t),r.current=e),n.current}var kF=["radius"],jF=["radius"];function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(r){RF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RF(e,t,n){return(t=DF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DF(e){var t=MF(e,"string");return typeof t=="symbol"?t:t+""}function MF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yf.apply(null,arguments)}function wC(e,t){if(e==null)return{};var n,r,i=IF(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _C=(e,t,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,u=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=i[g]>o?o:i[g];d="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+u*h[0],",").concat(t)),d+="L ".concat(e+n-u*h[1],",").concat(t),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+l*h[1])),d+="L ".concat(e+n,",").concat(t+r-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-u*h[2],",").concat(t+r)),d+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-l*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(e,",").concat(t+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+u*x,",").concat(t,`
            L `).concat(e+n-u*x,",").concat(t,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n,",").concat(t+l*x,`
            L `).concat(e+n,",").concat(t+r-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+n-u*x,",").concat(t+r,`
            L `).concat(e+u*x,",").concat(t+r,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(t+r-l*x," Z")}else d="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},LF={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jk=e=>{var t=un(e,LF),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:o,y:l,width:u,height:f,radius:d,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:S,isUpdateAnimationActive:E}=t,T=A.useRef(u),C=A.useRef(f),P=A.useRef(o),O=A.useRef(l),R=A.useMemo(()=>({x:o,y:l,width:u,height:f,radius:d}),[o,l,u,f,d]),k=Bu(R,"rectangle-");if(o!==+o||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var j=Fe("recharts-rectangle",h);if(!E){var M=An(t),{radius:V}=M,z=wC(M,kF);return A.createElement("path",yf({},z,{radius:typeof d=="number"?d:void 0,className:j,d:_C(o,l,u,f,d)}))}var te=T.current,Z=C.current,L=P.current,H=O.current,J="0px ".concat(r===-1?1:r,"px"),re="".concat(r,"px 0px"),B=Nk(["strokeDasharray"],v,typeof g=="string"?g:void 0);return A.createElement(Uu,{animationId:k,key:k,canBegin:r>0,duration:v,easing:g,isActive:E,begin:x},F=>{var ue=Ct(te,u,F),fe=Ct(Z,f,F),ee=Ct(L,o,F),I=Ct(H,l,F);n.current&&(T.current=ue,C.current=fe,P.current=ee,O.current=I);var q;S?F>0?q={transition:B,strokeDasharray:re}:q={strokeDasharray:J}:q={strokeDasharray:re};var oe=An(t),{radius:ce}=oe,de=wC(oe,jF);return A.createElement("path",yf({},de,{radius:typeof d=="number"?d:void 0,className:j,d:_C(ee,I,ue,fe,d),ref:n,style:xC(xC({},q),t.style)}))})};function Rk(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e,l=It(t,n,r,i),u=It(t,n,r,o);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},My.apply(null,arguments)}var UF=(e,t)=>{var n=Xt(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Rd=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,d=u*(l?1:-1)+r,h=Math.asin(u/d)/mf,g=f?i:i+o*h,v=It(t,n,d,g),x=It(t,n,r,g),S=f?i-o*h:i,E=It(t,n,d*Math.cos(h*mf),S);return{center:v,circleTangency:x,lineTangency:E,theta:h}},Dk=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:l}=e,u=UF(o,l),f=o+u,d=It(t,n,i,o),h=It(t,n,i,f),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=It(t,n,r,o),x=It(t,n,r,f);g+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(t,",").concat(n," Z");return g},BF=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=e,h=Xt(d-f),{circleTangency:g,lineTangency:v,theta:x}=Rd({cx:t,cy:n,radius:i,angle:f,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:T}=Rd({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),C=u?Math.abs(f-d):Math.abs(f-d)-x-T;if(C<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Dk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var P="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
  `);if(r>0){var{circleTangency:O,lineTangency:R,theta:k}=Rd({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:j,lineTangency:M,theta:V}=Rd({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),z=u?Math.abs(f-d):Math.abs(f-d)-k-V;if(z<0&&o===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else P+="L".concat(t,",").concat(n,"Z");return P},qF={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Mk=e=>{var t=un(e,qF),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:g}=t;if(o<i||d===h)return null;var v=Fe("recharts-sector",g),x=o-i,S=vn(l,x,0,!0),E;return S>0&&Math.abs(d-h)<360?E=BF({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(S,x/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):E=Dk({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),A.createElement("path",My({},An(t),{className:v,d:E}))};function $F(e,t,n){var r,i,o,l;if(e==="horizontal")r=t.x,o=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,o=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:f,innerRadius:d,outerRadius:h,angle:g}=t,v=It(u,f,d,g),x=It(u,f,h,g);r=v.x,i=v.y,o=x.x,l=x.y}else return Rk(t);return[{x:r,y:i},{x:o,y:l}]}var pv={},gv={},vv={},SC;function zF(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LO();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(vv)),vv}var EC;function VF(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zF();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(gv)),gv}var AC;function HF(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO(),n=VF();function r(i,o,l){l&&typeof l!="number"&&t.isIterateeCall(i,o,l)&&(o=l=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),l=l===void 0?i<o?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((o-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}e.range=r})(pv)),pv}var yv,TC;function KF(){return TC||(TC=1,yv=HF().range),yv}var FF=KF();const Ik=Mr(FF);function fa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Y0(e){let t,n,r;e.length!==2?(t=fa,n=(u,f)=>fa(e(u),f),r=(u,f)=>e(u)-f):(t=e===fa||e===GF?e:WF,n=e,r=e);function i(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const g=d+h>>>1;n(u[g],f)<0?d=g+1:h=g}while(d<h)}return d}function o(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const g=d+h>>>1;n(u[g],f)<=0?d=g+1:h=g}while(d<h)}return d}function l(u,f,d=0,h=u.length){const g=i(u,f,d,h-1);return g>d&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:i,center:l,right:o}}function WF(){return 0}function Lk(e){return e===null?NaN:+e}function*YF(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const JF=Y0(fa),qu=JF.right;Y0(Lk).center;class CC extends Map{constructor(t,n=ZF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(NC(this,t))}has(t){return super.has(NC(this,t))}set(t,n){return super.set(XF(this,t),n)}delete(t){return super.delete(QF(this,t))}}function NC({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function XF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function QF({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ZF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eG(e=fa){if(e===fa)return Uk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Uk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tG=Math.sqrt(50),nG=Math.sqrt(10),rG=Math.sqrt(2);function bf(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=tG?10:o>=nG?5:o>=rG?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(e*d),f=Math.round(t*d),u/d<e&&++u,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(e/d),f=Math.round(t/d),u*d<e&&++u,f*d>t&&--f),f<u&&.5<=n&&n<2?bf(e,t,n*2):[u,f,d]}function Iy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?bf(t,e,n):bf(e,t,n);if(!(o>=i))return[];const u=o-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(o-d)/-l;else for(let d=0;d<u;++d)f[d]=(o-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function Ly(e,t,n){return t=+t,e=+e,n=+n,bf(e,t,n)[2]}function Uy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ly(t,e,n):Ly(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function PC(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function OC(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Bk(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Uk:eG(i);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,h=Math.log(f),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(f-g)/f)*(d-f/2<0?-1:1),x=Math.max(n,Math.floor(t-d*g/f+v)),S=Math.min(r,Math.floor(t+(f-d)*g/f+v));Bk(e,t,x,S,i)}const o=e[t];let l=n,u=r;for(eu(e,n,t),i(e[r],o)>0&&eu(e,n,r);l<u;){for(eu(e,l,u),++l,--u;i(e[l],o)<0;)++l;for(;i(e[u],o)>0;)--u}i(e[n],o)===0?eu(e,n,u):(++u,eu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function eu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function iG(e,t,n){if(e=Float64Array.from(YF(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return OC(e);if(t>=1)return PC(e);var r,i=(r-1)*t,o=Math.floor(i),l=PC(Bk(e,o).subarray(0,o+1)),u=OC(e.subarray(o+1));return l+(u-l)*(i-o)}}function aG(e,t,n=Lk){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),l=+n(e[o],o,e),u=+n(e[o+1],o+1,e);return l+(u-l)*(i-o)}}function oG(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Er(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ni(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const By=Symbol("implicit");function J0(){var e=new CC,t=[],n=[],r=By;function i(o){let l=e.get(o);if(l===void 0){if(r!==By)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new CC;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return J0(t,n).unknown(r)},Er.apply(i,arguments),i}function X0(){var e=J0().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,u=!1,f=0,d=0,h=.5;delete e.unknown;function g(){var v=t().length,x=i<r,S=x?i:r,E=x?r:i;o=(E-S)/Math.max(1,v-f+d*2),u&&(o=Math.floor(o)),S+=(E-S-o*(v-f))*h,l=o*(1-f),u&&(S=Math.round(S),l=Math.round(l));var T=oG(v).map(function(C){return S+o*C});return n(x?T.reverse():T)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,g()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(d=+v,g()):d},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return X0(t(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},Er.apply(g(),arguments)}function qk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qk(t())},e}function sG(){return qk(X0.apply(null,arguments).paddingInner(1))}function Q0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function $k(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $u(){}var Au=.7,xf=1/Au,As="\\s*([+-]?\\d+)\\s*",Tu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lG=/^#([0-9a-f]{3,8})$/,uG=new RegExp(`^rgb\\(${As},${As},${As}\\)$`),cG=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),dG=new RegExp(`^rgba\\(${As},${As},${As},${Tu}\\)$`),fG=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${Tu}\\)$`),hG=new RegExp(`^hsl\\(${Tu},${Hr},${Hr}\\)$`),mG=new RegExp(`^hsla\\(${Tu},${Hr},${Hr},${Tu}\\)$`),kC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Q0($u,Cu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jC,formatHex:jC,formatHex8:pG,formatHsl:gG,formatRgb:RC,toString:RC});function jC(){return this.rgb().formatHex()}function pG(){return this.rgb().formatHex8()}function gG(){return zk(this).formatHsl()}function RC(){return this.rgb().formatRgb()}function Cu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lG.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?DC(t):n===3?new Mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Dd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Dd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uG.exec(e))?new Mn(t[1],t[2],t[3],1):(t=cG.exec(e))?new Mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dG.exec(e))?Dd(t[1],t[2],t[3],t[4]):(t=fG.exec(e))?Dd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hG.exec(e))?LC(t[1],t[2]/100,t[3]/100,1):(t=mG.exec(e))?LC(t[1],t[2]/100,t[3]/100,t[4]):kC.hasOwnProperty(e)?DC(kC[e]):e==="transparent"?new Mn(NaN,NaN,NaN,0):null}function DC(e){return new Mn(e>>16&255,e>>8&255,e&255,1)}function Dd(e,t,n,r){return r<=0&&(e=t=n=NaN),new Mn(e,t,n,r)}function vG(e){return e instanceof $u||(e=Cu(e)),e?(e=e.rgb(),new Mn(e.r,e.g,e.b,e.opacity)):new Mn}function qy(e,t,n,r){return arguments.length===1?vG(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Q0(Mn,qy,$k($u,{brighter(e){return e=e==null?xf:Math.pow(xf,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Au:Math.pow(Au,e),new Mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Mn(so(this.r),so(this.g),so(this.b),wf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:MC,formatHex:MC,formatHex8:yG,formatRgb:IC,toString:IC}));function MC(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}`}function yG(){return`#${Za(this.r)}${Za(this.g)}${Za(this.b)}${Za((isNaN(this.opacity)?1:this.opacity)*255)}`}function IC(){const e=wf(this.opacity);return`${e===1?"rgb(":"rgba("}${so(this.r)}, ${so(this.g)}, ${so(this.b)}${e===1?")":`, ${e})`}`}function wf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function so(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Za(e){return e=so(e),(e<16?"0":"")+e.toString(16)}function LC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Rr(e,t,n,r)}function zk(e){if(e instanceof Rr)return new Rr(e.h,e.s,e.l,e.opacity);if(e instanceof $u||(e=Cu(e)),!e)return new Rr;if(e instanceof Rr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,u=o-i,f=(o+i)/2;return u?(t===o?l=(n-r)/u+(n<r)*6:n===o?l=(r-t)/u+2:l=(t-n)/u+4,u/=f<.5?o+i:2-o-i,l*=60):u=f>0&&f<1?0:l,new Rr(l,u,f,e.opacity)}function bG(e,t,n,r){return arguments.length===1?zk(e):new Rr(e,t,n,r??1)}function Rr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Q0(Rr,bG,$k($u,{brighter(e){return e=e==null?xf:Math.pow(xf,e),new Rr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Au:Math.pow(Au,e),new Rr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Mn(bv(e>=240?e-240:e+120,i,r),bv(e,i,r),bv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Rr(UC(this.h),Md(this.s),Md(this.l),wf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=wf(this.opacity);return`${e===1?"hsl(":"hsla("}${UC(this.h)}, ${Md(this.s)*100}%, ${Md(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UC(e){return e=(e||0)%360,e<0?e+360:e}function Md(e){return Math.max(0,Math.min(1,e||0))}function bv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Z0=e=>()=>e;function xG(e,t){return function(n){return e+n*t}}function wG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _G(e){return(e=+e)==1?Vk:function(t,n){return n-t?wG(t,n,e):Z0(isNaN(t)?n:t)}}function Vk(e,t){var n=t-e;return n?xG(e,n):Z0(isNaN(e)?t:e)}const BC=(function e(t){var n=_G(t);function r(i,o){var l=n((i=qy(i)).r,(o=qy(o)).r),u=n(i.g,o.g),f=n(i.b,o.b),d=Vk(i.opacity,o.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function SG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function EG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function AG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Hs(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(u){for(l=0;l<r;++l)o[l]=i[l](u);return o}}function TG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _f(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function CG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Hs(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var $y=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xv=new RegExp($y.source,"g");function NG(e){return function(){return e}}function PG(e){return function(t){return e(t)+""}}function OG(e,t){var n=$y.lastIndex=xv.lastIndex=0,r,i,o,l=-1,u=[],f=[];for(e=e+"",t=t+"";(r=$y.exec(e))&&(i=xv.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),u[l]?u[l]+=o:u[++l]=o),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:_f(r,i)})),n=xv.lastIndex;return n<t.length&&(o=t.slice(n),u[l]?u[l]+=o:u[++l]=o),u.length<2?f[0]?PG(f[0].x):NG(t):(t=f.length,function(d){for(var h=0,g;h<t;++h)u[(g=f[h]).i]=g.x(d);return u.join("")})}function Hs(e,t){var n=typeof t,r;return t==null||n==="boolean"?Z0(t):(n==="number"?_f:n==="string"?(r=Cu(t))?(t=r,BC):OG:t instanceof Cu?BC:t instanceof Date?TG:EG(t)?SG:Array.isArray(t)?AG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CG:_f)(e,t)}function eb(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function kG(e,t){t===void 0&&(t=e,e=Hs);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[u](l-u)}}function jG(e){return function(){return e}}function Sf(e){return+e}var qC=[0,1];function En(e){return e}function zy(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jG(isNaN(t)?NaN:.5)}function RG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function DG(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=zy(i,r),o=n(l,o)):(r=zy(r,i),o=n(o,l)),function(u){return o(r(u))}}function MG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=zy(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(u){var f=qu(e,u,1,r)-1;return o[f](i[f](u))}}function zu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hh(){var e=qC,t=qC,n=Hs,r,i,o,l=En,u,f,d;function h(){var v=Math.min(e.length,t.length);return l!==En&&(l=RG(e[0],e[v-1])),u=v>2?MG:DG,f=d=null,g}function g(v){return v==null||isNaN(v=+v)?o:(f||(f=u(e.map(r),t,n)))(r(l(v)))}return g.invert=function(v){return l(i((d||(d=u(t,e.map(r),_f)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Sf),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=eb,h()},g.clamp=function(v){return arguments.length?(l=v?!0:En,h()):l!==En},g.interpolate=function(v){return arguments.length?(n=v,h()):n},g.unknown=function(v){return arguments.length?(o=v,g):o},function(v,x){return r=v,i=x,h()}}function tb(){return hh()(En,En)}function IG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ef(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function js(e){return e=Ef(Math.abs(e)),e?e[1]:NaN}function LG(e,t){return function(n,r){for(var i=n.length,o=[],l=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),o.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=e[l=(l+1)%e.length];return o.reverse().join(t)}}function UG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var BG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nu(e){if(!(t=BG.exec(e)))throw new Error("invalid format: "+e);var t;return new nb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nu.prototype=nb.prototype;function nb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qG(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Hk;function $G(e,t){var n=Ef(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Hk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ef(e,Math.max(0,t+o-1))[0]}function $C(e,t){var n=Ef(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:IG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$C(e*100,t),r:$C,s:$G,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VC(e){return e}var HC=Array.prototype.map,KC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function zG(e){var t=e.grouping===void 0||e.thousands===void 0?VC:LG(HC.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?VC:UG(HC.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(g){g=Nu(g);var v=g.fill,x=g.align,S=g.sign,E=g.symbol,T=g.zero,C=g.width,P=g.comma,O=g.precision,R=g.trim,k=g.type;k==="n"?(P=!0,k="g"):zC[k]||(O===void 0&&(O=12),R=!0,k="g"),(T||v==="0"&&x==="=")&&(T=!0,v="0",x="=");var j=E==="$"?n:E==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M=E==="$"?r:/[%p]/.test(k)?l:"",V=zC[k],z=/[defgprs%]/.test(k);O=O===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function te(Z){var L=j,H=M,J,re,B;if(k==="c")H=V(Z)+H,Z="";else{Z=+Z;var F=Z<0||1/Z<0;if(Z=isNaN(Z)?f:V(Math.abs(Z),O),R&&(Z=qG(Z)),F&&+Z==0&&S!=="+"&&(F=!1),L=(F?S==="("?S:u:S==="-"||S==="("?"":S)+L,H=(k==="s"?KC[8+Hk/3]:"")+H+(F&&S==="("?")":""),z){for(J=-1,re=Z.length;++J<re;)if(B=Z.charCodeAt(J),48>B||B>57){H=(B===46?i+Z.slice(J+1):Z.slice(J))+H,Z=Z.slice(0,J);break}}}P&&!T&&(Z=t(Z,1/0));var ue=L.length+Z.length+H.length,fe=ue<C?new Array(C-ue+1).join(v):"";switch(P&&T&&(Z=t(fe+Z,fe.length?C-H.length:1/0),fe=""),x){case"<":Z=L+Z+H+fe;break;case"=":Z=L+fe+Z+H;break;case"^":Z=fe.slice(0,ue=fe.length>>1)+L+Z+H+fe.slice(ue);break;default:Z=fe+L+Z+H;break}return o(Z)}return te.toString=function(){return g+""},te}function h(g,v){var x=d((g=Nu(g),g.type="f",g)),S=Math.max(-8,Math.min(8,Math.floor(js(v)/3)))*3,E=Math.pow(10,-S),T=KC[8+S/3];return function(C){return x(E*C)+T}}return{format:d,formatPrefix:h}}var Id,rb,Kk;VG({thousands:",",grouping:[3],currency:["$",""]});function VG(e){return Id=zG(e),rb=Id.format,Kk=Id.formatPrefix,Id}function HG(e){return Math.max(0,-js(Math.abs(e)))}function KG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(js(t)/3)))*3-js(Math.abs(e)))}function FG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,js(t)-js(e))+1}function Fk(e,t,n,r){var i=Uy(e,t,n),o;switch(r=Nu(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=KG(i,l))&&(r.precision=o),Kk(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=FG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=HG(i))&&(r.precision=o-(r.type==="%")*2);break}}return rb(r)}function _a(e){var t=e.domain;return e.ticks=function(n){var r=t();return Iy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Fk(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],u=r[o],f,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=Ly(l,u,n),d===f)return r[i]=l,r[o]=u,t(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return e},e}function Gk(){var e=tb();return e.copy=function(){return zu(e,Gk())},Er.apply(e,arguments),_a(e)}function Wk(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Sf),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Wk(e).unknown(t)},e=arguments.length?Array.from(e,Sf):[0,1],_a(n)}function Yk(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),e[n]=t.floor(i),e[r]=t.ceil(o),e}function FC(e){return Math.log(e)}function GC(e){return Math.exp(e)}function GG(e){return-Math.log(-e)}function WG(e){return-Math.exp(-e)}function YG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function JG(e){return e===10?YG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function WC(e){return(t,n)=>-e(-t,n)}function ib(e){const t=e(FC,GC),n=t.domain;let r=10,i,o;function l(){return i=XG(r),o=JG(r),n()[0]<0?(i=WC(i),o=WC(o),e(GG,WG)):e(FC,GC),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const g=h<d;g&&([d,h]=[h,d]);let v=i(d),x=i(h),S,E;const T=u==null?10:+u;let C=[];if(!(r%1)&&x-v<T){if(v=Math.floor(v),x=Math.ceil(x),d>0){for(;v<=x;++v)for(S=1;S<r;++S)if(E=v<0?S/o(-v):S*o(v),!(E<d)){if(E>h)break;C.push(E)}}else for(;v<=x;++v)for(S=r-1;S>=1;--S)if(E=v>0?S/o(-v):S*o(v),!(E<d)){if(E>h)break;C.push(E)}C.length*2<T&&(C=Iy(d,h,T))}else C=Iy(v,x,Math.min(x-v,T)).map(o);return g?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Nu(f)).precision==null&&(f.trim=!0),f=rb(f)),u===1/0)return f;const d=Math.max(1,r*u/t.ticks().length);return h=>{let g=h/o(Math.round(i(h)));return g*r<r-.5&&(g*=r),g<=d?f(h):""}},t.nice=()=>n(Yk(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),t}function Jk(){const e=ib(hh()).domain([1,10]);return e.copy=()=>zu(e,Jk()).base(e.base()),Er.apply(e,arguments),e}function YC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ab(e){var t=1,n=e(YC(t),JC(t));return n.constant=function(r){return arguments.length?e(YC(t=+r),JC(t)):t},_a(n)}function Xk(){var e=ab(hh());return e.copy=function(){return zu(e,Xk()).constant(e.constant())},Er.apply(e,arguments)}function XC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function QG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZG(e){return e<0?-e*e:e*e}function ob(e){var t=e(En,En),n=1;function r(){return n===1?e(En,En):n===.5?e(QG,ZG):e(XC(n),XC(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},_a(t)}function sb(){var e=ob(hh());return e.copy=function(){return zu(e,sb()).exponent(e.exponent())},Er.apply(e,arguments),e}function e7(){return sb.apply(null,arguments).exponent(.5)}function QC(e){return Math.sign(e)*e*e}function t7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Qk(){var e=tb(),t=[0,1],n=!1,r;function i(o){var l=t7(e(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return e.invert(QC(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Sf)).map(QC)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Qk(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Er.apply(i,arguments),_a(i)}function Zk(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=aG(e,l/u);return o}function o(l){return l==null||isNaN(l=+l)?r:t[qu(n,l)]}return o.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(fa),i()},o.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Zk().domain(e).range(t).unknown(r)},Er.apply(o,arguments)}function ej(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[qu(r,f,0,n)]:o}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return ej().domain([e,t]).range(i).unknown(o)},Er.apply(_a(l),arguments)}function tj(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[qu(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return tj().domain(e).range(t).unknown(n)},Er.apply(i,arguments)}const wv=new Date,_v=new Date;function Ht(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const l=i(o),u=i.ceil(o);return o-l<u-o?l:u},i.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,u)=>{const f=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<l)||!(u>0))return f;let d;do f.push(d=new Date(+o)),t(o,u),e(o);while(d<o&&o<l);return f},i.filter=o=>Ht(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!o(l););else for(;--u>=0;)for(;t(l,1),!o(l););}),n&&(i.count=(o,l)=>(wv.setTime(+o),_v.setTime(+l),e(wv),e(_v),Math.floor(n(wv,_v))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Af=Ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Af.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Af);Af.range;const pi=1e3,br=pi*60,gi=br*60,_i=gi*24,lb=_i*7,ZC=_i*30,Sv=_i*365,eo=Ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCSeconds());eo.range;const ub=Ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pi)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getMinutes());ub.range;const cb=Ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*br)},(e,t)=>(t-e)/br,e=>e.getUTCMinutes());cb.range;const db=Ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pi-e.getMinutes()*br)},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getHours());db.range;const fb=Ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCHours());fb.range;const Vu=Ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*br)/_i,e=>e.getDate()-1);Vu.range;const mh=Ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_i,e=>e.getUTCDate()-1);mh.range;const nj=Ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_i,e=>Math.floor(e/_i));nj.range;function So(e){return Ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*br)/lb)}const ph=So(0),Tf=So(1),n7=So(2),r7=So(3),Rs=So(4),i7=So(5),a7=So(6);ph.range;Tf.range;n7.range;r7.range;Rs.range;i7.range;a7.range;function Eo(e){return Ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/lb)}const gh=Eo(0),Cf=Eo(1),o7=Eo(2),s7=Eo(3),Ds=Eo(4),l7=Eo(5),u7=Eo(6);gh.range;Cf.range;o7.range;s7.range;Ds.range;l7.range;u7.range;const hb=Ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hb.range;const mb=Ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mb.range;const Si=Ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Si.range;const Ei=Ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ei.range;function rj(e,t,n,r,i,o){const l=[[eo,1,pi],[eo,5,5*pi],[eo,15,15*pi],[eo,30,30*pi],[o,1,br],[o,5,5*br],[o,15,15*br],[o,30,30*br],[i,1,gi],[i,3,3*gi],[i,6,6*gi],[i,12,12*gi],[r,1,_i],[r,2,2*_i],[n,1,lb],[t,1,ZC],[t,3,3*ZC],[e,1,Sv]];function u(d,h,g){const v=h<d;v&&([d,h]=[h,d]);const x=g&&typeof g.range=="function"?g:f(d,h,g),S=x?x.range(d,+h+1):[];return v?S.reverse():S}function f(d,h,g){const v=Math.abs(h-d)/g,x=Y0(([,,T])=>T).right(l,v);if(x===l.length)return e.every(Uy(d/Sv,h/Sv,g));if(x===0)return Af.every(Math.max(Uy(d,h,g),1));const[S,E]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return S.every(E)}return[u,f]}const[c7,d7]=rj(Ei,mb,gh,nj,fb,cb),[f7,h7]=rj(Si,hb,ph,Vu,db,ub);function Ev(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Av(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function m7(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,d=nu(i),h=ru(i),g=nu(o),v=ru(o),x=nu(l),S=ru(l),E=nu(u),T=ru(u),C=nu(f),P=ru(f),O={a:F,A:ue,b:fe,B:ee,c:null,d:aN,e:aN,f:L7,g:G7,G:Y7,H:D7,I:M7,j:I7,L:ij,m:U7,M:B7,p:I,q,Q:lN,s:uN,S:q7,u:$7,U:z7,V:V7,w:H7,W:K7,x:null,X:null,y:F7,Y:W7,Z:J7,"%":sN},R={a:oe,A:ce,b:de,B:Se,c:null,d:oN,e:oN,f:e9,g:c9,G:f9,H:X7,I:Q7,j:Z7,L:oj,m:t9,M:n9,p:he,q:we,Q:lN,s:uN,S:r9,u:i9,U:a9,V:o9,w:s9,W:l9,x:null,X:null,y:u9,Y:d9,Z:h9,"%":sN},k={a:te,A:Z,b:L,B:H,c:J,d:rN,e:rN,f:O7,g:nN,G:tN,H:iN,I:iN,j:T7,L:P7,m:A7,M:C7,p:z,q:E7,Q:j7,s:R7,S:N7,u:b7,U:x7,V:w7,w:y7,W:_7,x:re,X:B,y:nN,Y:tN,Z:S7,"%":k7};O.x=j(n,O),O.X=j(r,O),O.c=j(t,O),R.x=j(n,R),R.X=j(r,R),R.c=j(t,R);function j(Q,Ee){return function(Ce){var le=[],Je=-1,ve=0,_e=Q.length,Re,Ye,Gt;for(Ce instanceof Date||(Ce=new Date(+Ce));++Je<_e;)Q.charCodeAt(Je)===37&&(le.push(Q.slice(ve,Je)),(Ye=eN[Re=Q.charAt(++Je)])!=null?Re=Q.charAt(++Je):Ye=Re==="e"?" ":"0",(Gt=Ee[Re])&&(Re=Gt(Ce,Ye)),le.push(Re),ve=Je+1);return le.push(Q.slice(ve,Je)),le.join("")}}function M(Q,Ee){return function(Ce){var le=tu(1900,void 0,1),Je=V(le,Q,Ce+="",0),ve,_e;if(Je!=Ce.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ee&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(ve=Av(tu(le.y,0,1)),_e=ve.getUTCDay(),ve=_e>4||_e===0?Cf.ceil(ve):Cf(ve),ve=mh.offset(ve,(le.V-1)*7),le.y=ve.getUTCFullYear(),le.m=ve.getUTCMonth(),le.d=ve.getUTCDate()+(le.w+6)%7):(ve=Ev(tu(le.y,0,1)),_e=ve.getDay(),ve=_e>4||_e===0?Tf.ceil(ve):Tf(ve),ve=Vu.offset(ve,(le.V-1)*7),le.y=ve.getFullYear(),le.m=ve.getMonth(),le.d=ve.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),_e="Z"in le?Av(tu(le.y,0,1)).getUTCDay():Ev(tu(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(_e+5)%7:le.w+le.U*7-(_e+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,Av(le)):Ev(le)}}function V(Q,Ee,Ce,le){for(var Je=0,ve=Ee.length,_e=Ce.length,Re,Ye;Je<ve;){if(le>=_e)return-1;if(Re=Ee.charCodeAt(Je++),Re===37){if(Re=Ee.charAt(Je++),Ye=k[Re in eN?Ee.charAt(Je++):Re],!Ye||(le=Ye(Q,Ce,le))<0)return-1}else if(Re!=Ce.charCodeAt(le++))return-1}return le}function z(Q,Ee,Ce){var le=d.exec(Ee.slice(Ce));return le?(Q.p=h.get(le[0].toLowerCase()),Ce+le[0].length):-1}function te(Q,Ee,Ce){var le=x.exec(Ee.slice(Ce));return le?(Q.w=S.get(le[0].toLowerCase()),Ce+le[0].length):-1}function Z(Q,Ee,Ce){var le=g.exec(Ee.slice(Ce));return le?(Q.w=v.get(le[0].toLowerCase()),Ce+le[0].length):-1}function L(Q,Ee,Ce){var le=C.exec(Ee.slice(Ce));return le?(Q.m=P.get(le[0].toLowerCase()),Ce+le[0].length):-1}function H(Q,Ee,Ce){var le=E.exec(Ee.slice(Ce));return le?(Q.m=T.get(le[0].toLowerCase()),Ce+le[0].length):-1}function J(Q,Ee,Ce){return V(Q,t,Ee,Ce)}function re(Q,Ee,Ce){return V(Q,n,Ee,Ce)}function B(Q,Ee,Ce){return V(Q,r,Ee,Ce)}function F(Q){return l[Q.getDay()]}function ue(Q){return o[Q.getDay()]}function fe(Q){return f[Q.getMonth()]}function ee(Q){return u[Q.getMonth()]}function I(Q){return i[+(Q.getHours()>=12)]}function q(Q){return 1+~~(Q.getMonth()/3)}function oe(Q){return l[Q.getUTCDay()]}function ce(Q){return o[Q.getUTCDay()]}function de(Q){return f[Q.getUTCMonth()]}function Se(Q){return u[Q.getUTCMonth()]}function he(Q){return i[+(Q.getUTCHours()>=12)]}function we(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var Ee=j(Q+="",O);return Ee.toString=function(){return Q},Ee},parse:function(Q){var Ee=M(Q+="",!1);return Ee.toString=function(){return Q},Ee},utcFormat:function(Q){var Ee=j(Q+="",R);return Ee.toString=function(){return Q},Ee},utcParse:function(Q){var Ee=M(Q+="",!0);return Ee.toString=function(){return Q},Ee}}}var eN={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,p7=/^%/,g7=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function v7(e){return e.replace(g7,"\\$&")}function nu(e){return new RegExp("^(?:"+e.map(v7).join("|")+")","i")}function ru(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function y7(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function b7(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function x7(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function w7(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function _7(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function tN(e,t,n){var r=Qt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function nN(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function S7(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function E7(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function A7(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function rN(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function T7(e,t,n){var r=Qt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function iN(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function C7(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function N7(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function P7(e,t,n){var r=Qt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function O7(e,t,n){var r=Qt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function k7(e,t,n){var r=p7.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function j7(e,t,n){var r=Qt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function R7(e,t,n){var r=Qt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function aN(e,t){return Ge(e.getDate(),t,2)}function D7(e,t){return Ge(e.getHours(),t,2)}function M7(e,t){return Ge(e.getHours()%12||12,t,2)}function I7(e,t){return Ge(1+Vu.count(Si(e),e),t,3)}function ij(e,t){return Ge(e.getMilliseconds(),t,3)}function L7(e,t){return ij(e,t)+"000"}function U7(e,t){return Ge(e.getMonth()+1,t,2)}function B7(e,t){return Ge(e.getMinutes(),t,2)}function q7(e,t){return Ge(e.getSeconds(),t,2)}function $7(e){var t=e.getDay();return t===0?7:t}function z7(e,t){return Ge(ph.count(Si(e)-1,e),t,2)}function aj(e){var t=e.getDay();return t>=4||t===0?Rs(e):Rs.ceil(e)}function V7(e,t){return e=aj(e),Ge(Rs.count(Si(e),e)+(Si(e).getDay()===4),t,2)}function H7(e){return e.getDay()}function K7(e,t){return Ge(Tf.count(Si(e)-1,e),t,2)}function F7(e,t){return Ge(e.getFullYear()%100,t,2)}function G7(e,t){return e=aj(e),Ge(e.getFullYear()%100,t,2)}function W7(e,t){return Ge(e.getFullYear()%1e4,t,4)}function Y7(e,t){var n=e.getDay();return e=n>=4||n===0?Rs(e):Rs.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function J7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function oN(e,t){return Ge(e.getUTCDate(),t,2)}function X7(e,t){return Ge(e.getUTCHours(),t,2)}function Q7(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function Z7(e,t){return Ge(1+mh.count(Ei(e),e),t,3)}function oj(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function e9(e,t){return oj(e,t)+"000"}function t9(e,t){return Ge(e.getUTCMonth()+1,t,2)}function n9(e,t){return Ge(e.getUTCMinutes(),t,2)}function r9(e,t){return Ge(e.getUTCSeconds(),t,2)}function i9(e){var t=e.getUTCDay();return t===0?7:t}function a9(e,t){return Ge(gh.count(Ei(e)-1,e),t,2)}function sj(e){var t=e.getUTCDay();return t>=4||t===0?Ds(e):Ds.ceil(e)}function o9(e,t){return e=sj(e),Ge(Ds.count(Ei(e),e)+(Ei(e).getUTCDay()===4),t,2)}function s9(e){return e.getUTCDay()}function l9(e,t){return Ge(Cf.count(Ei(e)-1,e),t,2)}function u9(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function c9(e,t){return e=sj(e),Ge(e.getUTCFullYear()%100,t,2)}function d9(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function f9(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ds(e):Ds.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function h9(){return"+0000"}function sN(){return"%"}function lN(e){return+e}function uN(e){return Math.floor(+e/1e3)}var ms,lj,uj;m9({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m9(e){return ms=m7(e),lj=ms.format,ms.parse,uj=ms.utcFormat,ms.utcParse,ms}function p9(e){return new Date(e)}function g9(e){return e instanceof Date?+e:+new Date(+e)}function pb(e,t,n,r,i,o,l,u,f,d){var h=tb(),g=h.invert,v=h.domain,x=d(".%L"),S=d(":%S"),E=d("%I:%M"),T=d("%I %p"),C=d("%a %d"),P=d("%b %d"),O=d("%B"),R=d("%Y");function k(j){return(f(j)<j?x:u(j)<j?S:l(j)<j?E:o(j)<j?T:r(j)<j?i(j)<j?C:P:n(j)<j?O:R)(j)}return h.invert=function(j){return new Date(g(j))},h.domain=function(j){return arguments.length?v(Array.from(j,g9)):v().map(p9)},h.ticks=function(j){var M=v();return e(M[0],M[M.length-1],j??10)},h.tickFormat=function(j,M){return M==null?k:d(M)},h.nice=function(j){var M=v();return(!j||typeof j.range!="function")&&(j=t(M[0],M[M.length-1],j??10)),j?v(Yk(M,j)):h},h.copy=function(){return zu(h,pb(e,t,n,r,i,o,l,u,f,d))},h}function v9(){return Er.apply(pb(f7,h7,Si,hb,ph,Vu,db,ub,eo,lj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function y9(){return Er.apply(pb(c7,d7,Ei,mb,gh,mh,fb,cb,eo,uj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vh(){var e=0,t=1,n,r,i,o,l=En,u=!1,f;function d(g){return g==null||isNaN(g=+g)?f:l(i===0?.5:(g=(o(g)-n)*i,u?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([e,t]=g,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(g){return arguments.length?(u=!!g,d):u},d.interpolator=function(g){return arguments.length?(l=g,d):l};function h(g){return function(v){var x,S;return arguments.length?([x,S]=v,l=g(x,S),d):[l(0),l(1)]}}return d.range=h(Hs),d.rangeRound=h(eb),d.unknown=function(g){return arguments.length?(f=g,d):f},function(g){return o=g,n=g(e),r=g(t),i=n===r?0:1/(r-n),d}}function Sa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cj(){var e=_a(vh()(En));return e.copy=function(){return Sa(e,cj())},Ni.apply(e,arguments)}function dj(){var e=ib(vh()).domain([1,10]);return e.copy=function(){return Sa(e,dj()).base(e.base())},Ni.apply(e,arguments)}function fj(){var e=ab(vh());return e.copy=function(){return Sa(e,fj()).constant(e.constant())},Ni.apply(e,arguments)}function gb(){var e=ob(vh());return e.copy=function(){return Sa(e,gb()).exponent(e.exponent())},Ni.apply(e,arguments)}function b9(){return gb.apply(null,arguments).exponent(.5)}function hj(){var e=[],t=En;function n(r){if(r!=null&&!isNaN(r=+r))return t((qu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(fa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>iG(e,o/r))},n.copy=function(){return hj(t).domain(e)},Ni.apply(n,arguments)}function yh(){var e=0,t=.5,n=1,r=1,i,o,l,u,f,d=En,h,g=!1,v;function x(E){return isNaN(E=+E)?v:(E=.5+((E=+h(E))-o)*(r*E<r*o?u:f),d(g?Math.max(0,Math.min(1,E)):E))}x.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),o=h(t=+t),l=h(n=+n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,x):[e,t,n]},x.clamp=function(E){return arguments.length?(g=!!E,x):g},x.interpolator=function(E){return arguments.length?(d=E,x):d};function S(E){return function(T){var C,P,O;return arguments.length?([C,P,O]=T,d=kG(E,[C,P,O]),x):[d(0),d(.5),d(1)]}}return x.range=S(Hs),x.rangeRound=S(eb),x.unknown=function(E){return arguments.length?(v=E,x):v},function(E){return h=E,i=E(e),o=E(t),l=E(n),u=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,x}}function mj(){var e=_a(yh()(En));return e.copy=function(){return Sa(e,mj())},Ni.apply(e,arguments)}function pj(){var e=ib(yh()).domain([.1,1,10]);return e.copy=function(){return Sa(e,pj()).base(e.base())},Ni.apply(e,arguments)}function gj(){var e=ab(yh());return e.copy=function(){return Sa(e,gj()).constant(e.constant())},Ni.apply(e,arguments)}function vb(){var e=ob(yh());return e.copy=function(){return Sa(e,vb()).exponent(e.exponent())},Ni.apply(e,arguments)}function x9(){return vb.apply(null,arguments).exponent(.5)}const lu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:X0,scaleDiverging:mj,scaleDivergingLog:pj,scaleDivergingPow:vb,scaleDivergingSqrt:x9,scaleDivergingSymlog:gj,scaleIdentity:Wk,scaleImplicit:By,scaleLinear:Gk,scaleLog:Jk,scaleOrdinal:J0,scalePoint:sG,scalePow:sb,scaleQuantile:Zk,scaleQuantize:ej,scaleRadial:Qk,scaleSequential:cj,scaleSequentialLog:dj,scaleSequentialPow:gb,scaleSequentialQuantile:hj,scaleSequentialSqrt:b9,scaleSequentialSymlog:fj,scaleSqrt:e7,scaleSymlog:Xk,scaleThreshold:tj,scaleTime:v9,scaleUtc:y9,tickFormat:Fk},Symbol.toStringTag,{value:"Module"}));var Ea=e=>e.chartData,yb=Y([Ea],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),bh=(e,t,n,r)=>r?yb(e):Ea(e);function po(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(yn(t)&&yn(n))return!0}return!1}function cN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function vj(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,o;if(yn(n))i=n;else if(typeof n=="function")return;if(yn(r))o=r;else if(typeof r=="function")return;var l=[i,o];if(po(l))return l}}function w9(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(po(r))return cN(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,o]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(Ae(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&G1.test(i)){var f=G1.exec(i);if(f==null||t==null)l=void 0;else{var d=+f[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(o==="auto")t!=null&&(u=Math.max(...t));else if(Ae(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[1]))}catch{}else if(typeof o=="string"&&W1.test(o)){var h=W1.exec(o);if(h==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t==null?void 0:t[1];var v=[l,u];if(po(v))return t==null?v:cN(v,t,n)}}}var Ks=1e9,_9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xb,vt=!0,Sr="[DecimalError] ",lo=Sr+"Invalid argument: ",bb=Sr+"Exponent out of range: ",Fs=Math.floor,Ya=Math.pow,S9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,Jt=1e7,mt=7,yj=9007199254740991,Nf=Fs(yj/mt),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*mt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return bi(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return st(bi(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return Lt(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Qn))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(Qn)?new r(0):(vt=!1,t=bi(Pu(n,o),Pu(e,o),o),vt=!0,st(t,i))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wj(t,e):bj(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Sr+"NaN");return n.s?(vt=!1,t=bi(n,e,0,1).times(e),vt=!0,n.minus(t)):st(new r(n),i)};me.naturalExponential=me.exp=function(){return xj(this)};me.naturalLogarithm=me.ln=function(){return Pu(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?bj(t,e):wj(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(lo+e);if(t=Lt(i)+1,r=i.d.length-1,n=r*mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,r,i,o,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Sr+"NaN")}for(e=Lt(u),vt=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Vr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Fs((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(bi(u,o,l+2)).times(.5),Vr(o.d).slice(0,l)===(t=Vr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(st(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(t!="9999")break;l+=4}return vt=!0,st(r,n)};me.times=me.mul=function(e){var t,n,r,i,o,l,u,f,d,h=this,g=h.constructor,v=h.d,x=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,n=h.e+e.e,f=v.length,d=x.length,f<d&&(o=v,v=x,x=o,l=f,f=d,d=l),o=[],l=f+d,r=l;r--;)o.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)u=o[i]+x[r]*v[i-r-1]+t,o[i--]=u%Jt|0,t=u/Jt|0;o[i]=(o[i]+t)%Jt|0}for(;!o[--l];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,vt?st(e,g.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Fr(e,0,Ks),t===void 0?t=r.rounding:Fr(t,0,8),st(n,e+Lt(n)+1,t))};me.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=go(r,!0):(Fr(e,0,Ks),t===void 0?t=i.rounding:Fr(t,0,8),r=st(new i(r),e+1,t),n=go(r,!0,e+1)),n};me.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?go(i):(Fr(e,0,Ks),t===void 0?t=o.rounding:Fr(t,0,8),r=st(new o(i),e+Lt(i)+1,t),n=go(r.abs(),!1,e+Lt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return st(new t(e),Lt(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,r,i,o,l,u=this,f=u.constructor,d=12,h=+(e=new f(e));if(!e.s)return new f(Qn);if(u=new f(u),!u.s){if(e.s<1)throw Error(Sr+"Infinity");return u}if(u.eq(Qn))return u;if(r=f.precision,e.eq(Qn))return st(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,o=u.s,l){if((n=h<0?-h:h)<=yj){for(i=new f(Qn),t=Math.ceil(r/mt+4),vt=!1;n%2&&(i=i.times(u),fN(i.d,t)),n=Fs(n/2),n!==0;)u=u.times(u),fN(u.d,t);return vt=!0,e.s<0?new f(Qn).div(i):st(i,r)}}else if(o<0)throw Error(Sr+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,vt=!1,i=e.times(Pu(u,r+d)),vt=!0,i=xj(i),i.s=o,i};me.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return e===void 0?(n=Lt(i),r=go(i,n<=o.toExpNeg||n>=o.toExpPos)):(Fr(e,1,Ks),t===void 0?t=o.rounding:Fr(t,0,8),i=st(new o(i),e,t),n=Lt(i),r=go(i,e<=n||n<=o.toExpNeg,e)),r};me.toSignificantDigits=me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Fr(e,1,Ks),t===void 0?t=r.rounding:Fr(t,0,8)),st(new r(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Lt(e),n=e.constructor;return go(e,t<=n.toExpNeg||t>=n.toExpPos)};function bj(e,t){var n,r,i,o,l,u,f,d,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),vt?st(t,g):t;if(f=e.d,d=t.d,l=e.e,i=t.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(g/mt),u=l>u?l+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=f.length,o=d.length,u-o<0&&(o=u,r=d,d=f,f=r),n=0;o;)n=(f[--o]=f[o]+d[o]+n)/Jt|0,f[o]%=Jt;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,vt?st(t,g):t}function Fr(e,t,n){if(e!==~~e||e<t||e>n)throw Error(lo+e)}function Vr(e){var t,n,r,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)r=e[t]+"",n=mt-r.length,n&&(o+=aa(n)),o+=r;l=e[t],r=l+"",n=mt-r.length,n&&(o+=aa(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var bi=(function(){function e(r,i){var o,l=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+l,r[u]=o%Jt|0,l=o/Jt|0;return l&&r.unshift(l),r}function t(r,i,o,l){var u,f;if(o!=l)f=o>l?1:-1;else for(u=f=0;u<o;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Jt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var u,f,d,h,g,v,x,S,E,T,C,P,O,R,k,j,M,V,z=r.constructor,te=r.s==i.s?1:-1,Z=r.d,L=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Sr+"Division by zero");for(f=r.e-i.e,M=L.length,k=Z.length,x=new z(te),S=x.d=[],d=0;L[d]==(Z[d]||0);)++d;if(L[d]>(Z[d]||0)&&--f,o==null?P=o=z.precision:l?P=o+(Lt(r)-Lt(i))+1:P=o,P<0)return new z(0);if(P=P/mt+2|0,d=0,M==1)for(h=0,L=L[0],P++;(d<k||h)&&P--;d++)O=h*Jt+(Z[d]||0),S[d]=O/L|0,h=O%L|0;else{for(h=Jt/(L[0]+1)|0,h>1&&(L=e(L,h),Z=e(Z,h),M=L.length,k=Z.length),R=M,E=Z.slice(0,M),T=E.length;T<M;)E[T++]=0;V=L.slice(),V.unshift(0),j=L[0],L[1]>=Jt/2&&++j;do h=0,u=t(L,E,M,T),u<0?(C=E[0],M!=T&&(C=C*Jt+(E[1]||0)),h=C/j|0,h>1?(h>=Jt&&(h=Jt-1),g=e(L,h),v=g.length,T=E.length,u=t(g,E,v,T),u==1&&(h--,n(g,M<v?V:L,v))):(h==0&&(u=h=1),g=L.slice()),v=g.length,v<T&&g.unshift(0),n(E,g,T),u==-1&&(T=E.length,u=t(L,E,M,T),u<1&&(h++,n(E,M<T?V:L,T))),T=E.length):u===0&&(h++,E=[0]),S[d++]=h,u&&E[0]?E[T++]=Z[R]||0:(E=[Z[R]],T=1);while((R++<k||E[0]!==void 0)&&P--)}return S[0]||S.shift(),x.e=f,st(x,l?o+Lt(x)+1:o)}})();function xj(e,t){var n,r,i,o,l,u,f=0,d=0,h=e.constructor,g=h.precision;if(Lt(e)>16)throw Error(bb+Lt(e));if(!e.s)return new h(Qn);for(vt=!1,u=g,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(Ya(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Qn),h.precision=u;;){if(i=st(i.times(e),u),n=n.times(++f),l=o.plus(bi(i,n,u)),Vr(l.d).slice(0,u)===Vr(o.d).slice(0,u)){for(;d--;)o=st(o.times(o),u);return h.precision=g,t==null?(vt=!0,st(o,g)):o}o=l}}function Lt(e){for(var t=e.e*mt,n=e.d[0];n>=10;n/=10)t++;return t}function Tv(e,t,n){if(t>e.LN10.sd())throw vt=!0,n&&(e.precision=n),Error(Sr+"LN10 precision limit exceeded");return st(new e(e.LN10),t)}function aa(e){for(var t="";e--;)t+="0";return t}function Pu(e,t){var n,r,i,o,l,u,f,d,h,g=1,v=10,x=e,S=x.d,E=x.constructor,T=E.precision;if(x.s<1)throw Error(Sr+(x.s?"NaN":"-Infinity"));if(x.eq(Qn))return new E(0);if(t==null?(vt=!1,d=T):d=t,x.eq(10))return t==null&&(vt=!0),Tv(E,d);if(d+=v,E.precision=d,n=Vr(S),r=n.charAt(0),o=Lt(x),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=Vr(x.d),r=n.charAt(0),g++;o=Lt(x),r>1?(x=new E("0."+n),o++):x=new E(r+"."+n.slice(1))}else return f=Tv(E,d+2,T).times(o+""),x=Pu(new E(r+"."+n.slice(1)),d-v).plus(f),E.precision=T,t==null?(vt=!0,st(x,T)):x;for(u=l=x=bi(x.minus(Qn),x.plus(Qn),d),h=st(x.times(x),d),i=3;;){if(l=st(l.times(h),d),f=u.plus(bi(l,new E(i),d)),Vr(f.d).slice(0,d)===Vr(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(Tv(E,d+2,T).times(o+""))),u=bi(u,new E(g),d),E.precision=T,t==null?(vt=!0,st(u,T)):u;u=f,i+=2}}function dN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Fs(n/mt),e.d=[],r=(n+1)%mt,n<0&&(r+=mt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=mt;r<i;)e.d.push(+t.slice(r,r+=mt));t=t.slice(r),r=mt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vt&&(e.e>Nf||e.e<-Nf))throw Error(bb+n)}else e.s=0,e.e=0,e.d=[0];return e}function st(e,t,n){var r,i,o,l,u,f,d,h,g=e.d;for(l=1,o=g[0];o>=10;o/=10)l++;if(r=t-l,r<0)r+=mt,i=t,d=g[h=0];else{if(h=Math.ceil((r+1)/mt),o=g.length,h>=o)return e;for(d=o=g[h],l=1;o>=10;o/=10)l++;r%=mt,i=r-mt+l}if(n!==void 0&&(o=Ya(10,l-i-1),u=d/o%10|0,f=t<0||g[h+1]!==void 0||d%o,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/Ya(10,l-i):0:g[h-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(o=Lt(e),g.length=1,t=t-o-1,g[0]=Ya(10,(mt-t%mt)%mt),e.e=Fs(-t/mt)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,o=1,h--):(g.length=h+1,o=Ya(10,mt-r),g[h]=i>0?(d/Ya(10,l-i)%Ya(10,i)|0)*o:0),f)for(;;)if(h==0){(g[0]+=o)==Jt&&(g[0]=1,++e.e);break}else{if(g[h]+=o,g[h]!=Jt)break;g[h--]=0,o=1}for(r=g.length;g[--r]===0;)g.pop();if(vt&&(e.e>Nf||e.e<-Nf))throw Error(bb+Lt(e));return e}function wj(e,t){var n,r,i,o,l,u,f,d,h,g,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),vt?st(t,x):t;if(f=e.d,g=t.d,r=t.e,d=e.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,u=g.length):(n=g,r=d,u=f.length),i=Math.max(Math.ceil(x/mt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=g.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=g[i]){h=f[i]<g[i];break}l=0}for(h&&(n=f,f=g,g=n,t.s=-t.s),u=f.length,i=g.length-u;i>0;--i)f[u++]=0;for(i=g.length;i>l;){if(f[--i]<g[i]){for(o=i;o&&f[--o]===0;)f[o]=Jt-1;--f[o],f[i]+=Jt}f[i]-=g[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,vt?st(t,x):t):new v(0)}function go(e,t,n){var r,i=Lt(e),o=Vr(e.d),l=o.length;return t?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+aa(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+aa(-i-1)+o,n&&(r=n-l)>0&&(o+=aa(r))):i>=l?(o+=aa(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+aa(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=aa(r))),e.s<0?"-"+o:o}function fN(e,t){if(e.length>t)return e.length=t,!0}function _j(e){var t,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(lo+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return dN(l,o.toString())}else if(typeof o!="string")throw Error(lo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,S9.test(o))dN(l,o);else throw Error(lo+o)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_j,i.config=i.set=E9,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function E9(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,n,r,i=["precision",1,Ks,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Fs(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(lo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(lo+n+": "+r);return this}var xb=_j(_9);Qn=new xb(1);const Ze=xb;var A9=e=>e,Sj={},Ej=e=>e===Sj,hN=e=>function t(){return arguments.length===0||arguments.length===1&&Ej(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Aj=(e,t)=>e===1?t:hN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(l=>l!==Sj).length;return o>=e?t(...r):Aj(e-o,hN(function(){for(var l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var d=r.map(h=>Ej(h)?u.shift():h);return t(...d,...u)}))}),xh=e=>Aj(e.length,e),Vy=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},T9=xh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),C9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return A9;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce((u,f)=>f(u),o(...arguments))}},Hy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Tj=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((l,u)=>{var f;return l===((f=t)===null||f===void 0?void 0:f[u])})||(t=i,n=e(...i)),n}};function Cj(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function Nj(e,t,n){for(var r=new Ze(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}xh((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});xh((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});xh((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var Pj=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},Oj=(e,t,n)=>{if(e.lte(0))return new Ze(0);var r=Cj(e.toNumber()),i=new Ze(10).pow(r),o=e.div(i),l=r!==1?.05:.1,u=new Ze(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return t?new Ze(f.toNumber()):new Ze(Math.ceil(f.toNumber()))},N9=(e,t,n)=>{var r=new Ze(1),i=new Ze(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new Ze(10).pow(Cj(e)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ze(Math.floor(e)))}else e===0?i=new Ze(Math.floor((t-1)/2)):n||(i=new Ze(Math.floor(e)));var l=Math.floor((t-1)/2),u=C9(T9(f=>i.add(new Ze(f-l).mul(r)).toNumber()),Vy);return u(0,t)},kj=function(t,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var l=Oj(new Ze(n).sub(t).div(r-1),i,o),u;t<=0&&n>=0?u=new Ze(0):(u=new Ze(t).add(n).div(2),u=u.sub(new Ze(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new Ze(n).sub(u).div(l).toNumber()),h=f+d+1;return h>r?kj(t,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:u.sub(new Ze(f).mul(l)),tickMax:u.add(new Ze(d).mul(l))})};function P9(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[l,u]=Pj([t,n]);if(l===-1/0||u===1/0){var f=u===1/0?[l,...Vy(0,r-1).map(()=>1/0)]:[...Vy(0,r-1).map(()=>-1/0),u];return t>n?Hy(f):f}if(l===u)return N9(l,r,i);var{step:d,tickMin:h,tickMax:g}=kj(l,u,o,i,0),v=Nj(h,g.add(new Ze(.1).mul(d)),d);return t>n?Hy(v):v}function O9(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=Pj([n,r]);if(o===-1/0||l===1/0)return[n,r];if(o===l)return[o];var u=Math.max(t,2),f=Oj(new Ze(l).sub(o).div(u-1),i,0),d=[...Nj(new Ze(o),new Ze(l),f),l];return i===!1&&(d=d.map(h=>Math.round(h))),n>r?Hy(d):d}var k9=Tj(P9),j9=Tj(O9),jj=e=>e.rootProps.maxBarSize,R9=e=>e.rootProps.barGap,Rj=e=>e.rootProps.barCategoryGap,D9=e=>e.rootProps.barSize,Hu=e=>e.rootProps.stackOffset,wb=e=>e.options.chartName,_b=e=>e.rootProps.syncId,Dj=e=>e.rootProps.syncMethod,Sb=e=>e.options.eventEmitter,fi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},M9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:fi.angleAxisId,includeHidden:!1,name:void 0,reversed:fi.reversed,scale:fi.scale,tick:fi.tick,tickCount:void 0,ticks:void 0,type:fi.type,unit:void 0},I9={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,ticks:void 0,type:Wn.type,unit:void 0},L9={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:fi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fi.scale,tick:fi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},U9={allowDataOverflow:Wn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:Wn.tickCount,ticks:void 0,type:"category",unit:void 0},Eb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?L9:M9,Ab=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?U9:I9,_h=e=>e.polarOptions,Tb=Y([Ti,Ci,Vt],hk),Mj=Y([_h,Tb],(e,t)=>{if(e!=null)return vn(e.innerRadius,t,0)}),Ij=Y([_h,Tb],(e,t)=>{if(e!=null)return vn(e.outerRadius,t,t*.8)}),B9=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Lj=Y([_h],B9);Y([Eb,Lj],wh);var Uj=Y([Tb,Mj,Ij],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Y([Ab,Uj],wh);var Bj=Y([ze,_h,Mj,Ij,Ti,Ci],(e,t,n,r,i,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=t;return{cx:vn(l,i,i/2),cy:vn(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),xt=(e,t)=>t,Ku=(e,t,n)=>n;function Cb(e){return e==null?void 0:e.id}var Kt=e=>{var t=ze(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Gs=e=>e.tooltip.settings.axisId,Ft=e=>{var t=Kt(e),n=Gs(e);return Fu(e,t,n)},qj=Y([Ft],e=>e==null?void 0:e.dataKey);function $j(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,l=new Map;return e.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=Cb(u);d.forEach((g,v)=>{var x=o==null||i?v:String(ct(g,o,null)),S=ct(g,u.dataKey,0),E;l.has(x)?E=l.get(x):E={},Object.assign(E,{[h]:S}),l.set(x,E)})}}),Array.from(l.values())}function Sh(e){return e.stackId!=null&&e.dataKey!=null}var Eh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ah(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function mN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(n),!0).forEach(function(r){q9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q9(e,t,n){return(t=$9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $9(e){var t=z9(e,"string");return typeof t=="symbol"?t:t+""}function z9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ky=[0,"auto"],Fn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},zj=(e,t)=>e.cartesianAxis.xAxis[t],Pi=(e,t)=>{var n=zj(e,t);return n??Fn},Gn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ky,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Lu},Vj=(e,t)=>e.cartesianAxis.yAxis[t],Oi=(e,t)=>{var n=Vj(e,t);return n??Gn},V9={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Nb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??V9},St=(e,t,n)=>{switch(t){case"xAxis":return Pi(e,n);case"yAxis":return Oi(e,n);case"zAxis":return Nb(e,n);case"angleAxis":return Eb(e,n);case"radiusAxis":return Ab(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},H9=(e,t,n)=>{switch(t){case"xAxis":return Pi(e,n);case"yAxis":return Oi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Fu=(e,t,n)=>{switch(t){case"xAxis":return Pi(e,n);case"yAxis":return Oi(e,n);case"angleAxis":return Eb(e,n);case"radiusAxis":return Ab(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Hj=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Pb(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Th=e=>e.graphicalItems.cartesianItems,K9=Y([xt,Ku],Pb),Ob=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Gu=Y([Th,St,K9],Ob,{memoizeOptions:{resultEqualityCheck:Ah}}),Kj=Y([Gu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Sh)),Fj=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),F9=Y([Gu],Fj),kb=e=>e.map(t=>t.data).filter(Boolean).flat(1),G9=Y([Gu],kb,{memoizeOptions:{resultEqualityCheck:Ah}}),jb=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Rb=Y([G9,bh],jb),Db=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ct(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ct(i,r)}))):e.map(r=>({value:r})),Ch=Y([Rb,St,Gu],Db);function Gj(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Hd(e){if(Kr(e)||e instanceof Date){var t=Number(e);if(yn(t))return t}}function pN(e){if(Array.isArray(e)){var t=[Hd(e[0]),Hd(e[1])];return po(t)?t:void 0}var n=Hd(e);if(n!=null)return[n,n]}function Ws(e){return e.map(Hd).filter(cF)}function W9(e,t,n){return!n||typeof t!="number"||wr(t)?[]:n.length?Ws(n.flatMap(r=>{var i=ct(e,r.dataKey),o,l;if(Array.isArray(i)?[o,l]=i:o=l=i,!(!yn(o)||!yn(l)))return[t-o,t+l]})):[]}var Y9=Y([Kj,bh,Ft],$j),Wj=(e,t,n)=>{var r={},i=t.reduce((o,l)=>(l.stackId==null||(o[l.stackId]==null&&(o[l.stackId]=[]),o[l.stackId].push(l)),o),r);return Object.fromEntries(Object.entries(i).map(o=>{var[l,u]=o,f=u.map(Cb);return[l,{stackedData:RH(e,f,n),graphicalItems:u}]}))},Fy=Y([Y9,Kj,Hu],Wj),Yj=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(r==null&&n!=="zAxis"){var l=UH(e,i,o);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},J9=Y([St],e=>e.allowDataOverflow),Mb=e=>{var t;if(e==null||!("domain"in e))return Ky;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ws(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ky},Ib=Y([St],Mb),Lb=Y([Ib,J9],vj),X9=Y([Fy,Ea,xt,Lb],Yj,{memoizeOptions:{resultEqualityCheck:Eh}}),Nh=e=>e.errorBars,Q9=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>Gj(n,r)),Of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),l=Math.min(...o),u=Math.max(...o);return[l,u]}},Ub=(e,t,n,r,i)=>{var o,l;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var d,h,g=(d=r[f.id])===null||d===void 0?void 0:d.filter(C=>Gj(i,C)),v=ct(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),x=W9(u,v,g);if(x.length>=2){var S=Math.min(...x),E=Math.max(...x);(o==null||S<o)&&(o=S),(l==null||E>l)&&(l=E)}var T=pN(v);T!=null&&(o=o==null?T[0]:Math.min(o,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var f=pN(ct(u,t.dataKey));f!=null&&(o=o==null?f[0]:Math.min(o,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),yn(o)&&yn(l))return[o,l]},Z9=Y([Rb,St,F9,Nh,xt],Ub,{memoizeOptions:{resultEqualityCheck:Eh}});function eW(e){var{value:t}=e;if(Kr(t)||t instanceof Date)return t}var tW=(e,t,n)=>{var r=e.map(eW).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&SO(r))?Ik(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Jj=e=>e.referenceElements.dots,Ys=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),nW=Y([Jj,xt,Ku],Ys),Xj=e=>e.referenceElements.areas,rW=Y([Xj,xt,Ku],Ys),Qj=e=>e.referenceElements.lines,iW=Y([Qj,xt,Ku],Ys),Zj=(e,t)=>{var n=Ws(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},aW=Y(nW,xt,Zj),eR=(e,t)=>{var n=Ws(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},oW=Y([rW,xt],eR),tR=(e,t)=>{var n=Ws(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sW=Y(iW,xt,tR),lW=Y(aW,sW,oW,(e,t,n)=>Of(e,n,t)),Bb=(e,t,n,r,i,o,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?Of(r,o,i):Of(o,i);return w9(t,d,e.allowDataOverflow)},uW=Y([St,Ib,Lb,X9,Z9,lW,ze,xt],Bb,{memoizeOptions:{resultEqualityCheck:Eh}}),cW=[0,1],qb=(e,t,n,r,i,o,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,d=xa(t,o);return d&&u==null?Ik(0,n.length):f==="category"?tW(r,e,d):i==="expand"?cW:l}},$b=Y([St,ze,Rb,Ch,Hu,xt,uW],qb),nR=(e,t,n,r,i)=>{if(e!=null){var{scale:o,type:l}=e;if(o==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Ru(o));return u in lu?u:"point"}}},Js=Y([St,ze,Hj,wb,xt],nR);function dW(e){if(e!=null){if(e in lu)return lu[e]();var t="scale".concat(Ru(e));if(t in lu)return lu[t]()}}function zb(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=dW(t);if(i!=null){var o=i.domain(n).range(r);return NH(o),o}}}var Vb=(e,t,n)=>{var r=Mb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&po(e))return k9(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&po(e))return j9(e,t.tickCount,t.allowDecimals)}},Hb=Y([$b,Fu,Js],Vb),Kb=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&po(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],l=t[1],u=n[n.length-1];return[Math.min(i,o),Math.max(l,u)]}return t},fW=Y([St,$b,Hb,xt],Kb),hW=Y(Ch,St,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ws(e.map(u=>u.value))).sort((u,f)=>u-f);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o+1]-r[o];n=Math.min(n,l)}return n/i}}),rR=Y(hW,ze,Rj,Vt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!yn(e))return 0;var o=t==="vertical"?r.height:r.width;if(i==="gap")return e*o/2;if(i==="no-gap"){var l=vn(n,e*o),u=e*o/2;return u-l-(u-l)/o*l}return 0}),mW=(e,t)=>{var n=Pi(e,t);return n==null||typeof n.padding!="string"?0:rR(e,"xAxis",t,n.padding)},pW=(e,t)=>{var n=Oi(e,t);return n==null||typeof n.padding!="string"?0:rR(e,"yAxis",t,n.padding)},gW=Y(Pi,mW,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),vW=Y(Oi,pW,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),yW=Y([Vt,gW,uh,lh,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),bW=Y([Vt,ze,vW,uh,lh,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:l}=i;return o?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Wu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return yW(e,n,r);case"yAxis":return bW(e,n,r);case"zAxis":return(i=Nb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Lj(e);case"radiusAxis":return Uj(e,n);default:return}},iR=Y([St,Wu],wh),Xs=Y([St,Js,fW,iR],zb);Y([Gu,Nh,xt],Q9);function aR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ph=(e,t)=>t,Oh=(e,t,n)=>n,xW=Y(oh,Ph,Oh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(aR)),wW=Y(sh,Ph,Oh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(aR)),oR=(e,t)=>({width:e.width,height:t.height}),_W=(e,t)=>{var n=typeof t.width=="number"?t.width:Lu;return{width:n,height:e.height}},sR=Y(Vt,Pi,oR),SW=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},EW=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},AW=Y(Ci,Vt,xW,Ph,Oh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=oR(t,u);l==null&&(l=SW(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),o}),TW=Y(Ti,Vt,wW,Ph,Oh,(e,t,n,r,i)=>{var o={},l;return n.forEach(u=>{var f=_W(t,u);l==null&&(l=EW(t,r,e));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),o}),CW=(e,t)=>{var n=Pi(e,t);if(n!=null)return AW(e,n.orientation,n.mirror)},NW=Y([Vt,Pi,CW,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),PW=(e,t)=>{var n=Oi(e,t);if(n!=null)return TW(e,n.orientation,n.mirror)},OW=Y([Vt,Oi,PW,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),lR=Y(Vt,Oi,(e,t)=>{var n=typeof t.width=="number"?t.width:Lu;return{width:n,height:e.height}}),gN=(e,t,n)=>{switch(t){case"xAxis":return sR(e,n).width;case"yAxis":return lR(e,n).height;default:return}},uR=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:l}=n,u=xa(e,r),f=t.map(d=>d.value);if(l&&u&&o==="category"&&i&&SO(f))return f}},Fb=Y([ze,Ch,St,xt],uR),cR=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,l=xa(e,r);if(l&&(i==="number"||o!=="auto"))return t.map(u=>u.value)}},Gb=Y([ze,Ch,Fu,xt],cR),vN=Y([ze,H9,Js,Xs,Fb,Gb,Wu,Hb,xt],(e,t,n,r,i,o,l,u,f)=>{if(t==null)return null;var d=xa(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}),kW=(e,t,n,r,i,o,l,u,f)=>{if(!(t==null||r==null)){var d=xa(e,f),{type:h,ticks:g,tickCount:v}=t,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/x:0;S=f==="angleAxis"&&o!=null&&o.length>=2?Xt(o[0]-o[1])*2*S:S;var E=g||i;if(E){var T=E.map((C,P)=>{var O=l?l.indexOf(C):C;return{index:P,coordinate:r(O)+S,value:C,offset:S}});return T.filter(C=>!wr(C.coordinate))}return d&&u?u.map((C,P)=>({coordinate:r(C)+S,value:C,index:P,offset:S})):r.ticks?r.ticks(v).map(C=>({coordinate:r(C)+S,value:C,offset:S})):r.domain().map((C,P)=>({coordinate:r(C)+S,value:l?l[C]:C,index:P,offset:S}))}},dR=Y([ze,Fu,Js,Xs,Hb,Wu,Fb,Gb,xt],kW),jW=(e,t,n,r,i,o,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=xa(e,l),{tickCount:f}=t,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?Xt(r[0]-r[1])*2*d:d,u&&o?o.map((h,g)=>({coordinate:n(h)+d,value:h,index:g,offset:d})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,g)=>({coordinate:n(h)+d,value:i?i[h]:h,index:g,offset:d}))}},ha=Y([ze,Fu,Xs,Wu,Fb,Gb,xt],jW),ma=Y(St,Xs,(e,t)=>{if(!(e==null||t==null))return Pf(Pf({},e),{},{scale:t})}),RW=Y([St,Js,$b,iR],zb);Y((e,t,n)=>Nb(e,n),RW,(e,t)=>{if(!(e==null||t==null))return Pf(Pf({},e),{},{scale:t})});var DW=Y([ze,oh,sh],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fR=e=>e.options.defaultTooltipEventType,hR=e=>e.options.validateTooltipEventTypes;function mR(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Wb(e,t){var n=fR(e),r=hR(e);return mR(t,n,r)}function MW(e){return ye(t=>Wb(t,e))}var pR=(e,t)=>{var n,r=Number(t);if(!(wr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},IW=e=>e.tooltip.settings,ua={active:!1,index:null,dataKey:void 0,coordinate:void 0},LW={itemInteraction:{click:ua,hover:ua},axisInteraction:{click:ua,hover:ua},keyboardInteraction:ua,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gR=nr({name:"tooltip",initialState:LW,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:wn()},removeTooltipEntrySettings:{reducer(e,t){var n=yi(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:wn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:UW,removeTooltipEntrySettings:BW,setTooltipSettingsState:qW,setActiveMouseOverItemIndex:vR,mouseLeaveItem:$W,mouseLeaveChart:yR,setActiveClickItemIndex:zW,setMouseOverAxisIndex:bR,setMouseClickAxisIndex:VW,setSyncInteraction:Gy,setKeyboardInteraction:Wy}=gR.actions,HW=gR.reducer;function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ld(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){KW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KW(e,t,n){return(t=FW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WW(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YW(e){return e.index!=null}var xR=(e,t,n,r)=>{if(t==null)return ua;var i=WW(e,t,n);if(i==null)return ua;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(YW(i)){if(o)return Ld(Ld({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Ld(Ld({},ua),{},{coordinate:i.coordinate})},Yb=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!yn(r))return n;var i=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(i,Math.min(r,o)))},wR=(e,t,n,r,i,o,l,u)=>{if(!(o==null||u==null)){var f=l[0],d=f==null?void 0:u(f.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},_R=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.dataKey)===i})},Yu=e=>e.options.tooltipPayloadSearcher,Qs=e=>e.tooltip;function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){JW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JW(e,t,n){return(t=XW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=QW(e,"string");return typeof t=="symbol"?t:t+""}function QW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZW(e,t){return e??t}var SR=(e,t,n,r,i,o,l)=>{if(!(t==null||o==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,g=[];return e.reduce((v,x)=>{var S,{dataDefinedOnItem:E,settings:T}=x,C=ZW(E,u),P=Array.isArray(C)?mk(C,d,h):C,O=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,R=T==null?void 0:T.nameKey,k;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?k=EO(P,r,i):k=o(P,t,f,R),Array.isArray(k))k.forEach(M=>{var V=xN(xN({},T),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(Y1({tooltipEntrySettings:V,dataKey:M.dataKey,payload:M.payload,value:ct(M.payload,M.dataKey),name:M.name}))});else{var j;v.push(Y1({tooltipEntrySettings:T,dataKey:O,payload:k,value:ct(k,O),name:(j=ct(k,R))!==null&&j!==void 0?j:T==null?void 0:T.name}))}return v},g)}},Jb=Y([Ft,ze,Hj,wb,Kt],nR),eY=Y([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),tY=Y([Kt,Gs],Pb),Ju=Y([eY,Ft,tY],Ob,{memoizeOptions:{resultEqualityCheck:Ah}}),nY=Y([Ju],e=>e.filter(Sh)),rY=Y([Ju],kb,{memoizeOptions:{resultEqualityCheck:Ah}}),Zs=Y([rY,Ea],jb),iY=Y([nY,Ea,Ft],$j),Xb=Y([Zs,Ft,Ju],Db),ER=Y([Ft],Mb),aY=Y([Ft],e=>e.allowDataOverflow),AR=Y([ER,aY],vj),oY=Y([Ju],e=>e.filter(Sh)),sY=Y([iY,oY,Hu],Wj),lY=Y([sY,Ea,Kt,AR],Yj),uY=Y([Ju],Fj),cY=Y([Zs,Ft,uY,Nh,Kt],Ub,{memoizeOptions:{resultEqualityCheck:Eh}}),dY=Y([Jj,Kt,Gs],Ys),fY=Y([dY,Kt],Zj),hY=Y([Xj,Kt,Gs],Ys),mY=Y([hY,Kt],eR),pY=Y([Qj,Kt,Gs],Ys),gY=Y([pY,Kt],tR),vY=Y([fY,gY,mY],Of),yY=Y([Ft,ER,AR,lY,cY,vY,ze,Kt],Bb),TR=Y([Ft,ze,Zs,Xb,Hu,Kt,yY],qb),bY=Y([TR,Ft,Jb],Vb),xY=Y([Ft,TR,bY,Kt],Kb),CR=e=>{var t=Kt(e),n=Gs(e),r=!1;return Wu(e,t,n,r)},NR=Y([Ft,CR],wh),PR=Y([Ft,Jb,xY,NR],zb),wY=Y([ze,Xb,Ft,Kt],uR),_Y=Y([ze,Xb,Ft,Kt],cR),SY=(e,t,n,r,i,o,l,u)=>{if(t){var{type:f}=t,d=xa(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Xt(i[0]-i[1])*2*g:g,d&&l?l.map((v,x)=>({coordinate:r(v)+g,value:v,index:x,offset:g})):r.domain().map((v,x)=>({coordinate:r(v)+g,value:o?o[v]:v,index:x,offset:g}))}}},ki=Y([ze,Ft,Jb,PR,CR,wY,_Y,Kt],SY),Qb=Y([fR,hR,IW],(e,t,n)=>mR(n.shared,e,t)),OR=e=>e.tooltip.settings.trigger,Zb=e=>e.tooltip.settings.defaultIndex,kh=Y([Qs,Qb,OR,Zb],xR),pa=Y([kh,Zs],Yb),kR=Y([ki,pa],pR),jR=Y([kh],e=>{if(e)return e.dataKey}),RR=Y([Qs,Qb,OR,Zb],_R),EY=Y([Ti,Ci,ze,Vt,ki,Zb,RR,Yu],wR),AY=Y([kh,EY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),TY=Y([kh],e=>e.active),CY=Y([RR,pa,Ea,qj,kR,Yu,Qb],SR),NY=Y([CY],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function wN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _N(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(n),!0).forEach(function(r){PY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PY(e,t,n){return(t=OY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OY(e){var t=kY(e,"string");return typeof t=="symbol"?t:t+""}function kY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jY=()=>ye(Ft),RY=()=>{var e=jY(),t=ye(ki),n=ye(PR);return Su(_N(_N({},e),{},{scale:n}),t)},DY=()=>ye(wb),ex=(e,t)=>t,DR=(e,t,n)=>n,tx=(e,t,n,r)=>r,MY=Y(ki,e=>eh(e,t=>t.coordinate)),nx=Y([Qs,ex,DR,tx],xR),MR=Y([nx,Zs],Yb),IY=(e,t,n)=>{if(t!=null){var r=Qs(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},IR=Y([Qs,ex,DR,tx],_R),kf=Y([Ti,Ci,ze,Vt,ki,tx,IR,Yu],wR),LY=Y([nx,kf],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),LR=Y(ki,MR,pR),UY=Y([IR,MR,Ea,qj,LR,Yu,ex],SR),BY=Y([nx],e=>({isActive:e.active,activeIndex:e.index})),qY=(e,t,n,r,i,o,l,u)=>{if(!(!e||!t||!r||!i||!o)){var f=BH(e.chartX,e.chartY,t,n,u);if(f){var d=$H(f,t),h=TH(d,l,o,r,i),g=qH(t,o,h,f);return{activeIndex:String(h),activeCoordinate:g}}}};function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}function SN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ud(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(n),!0).forEach(function(r){$Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Y(e,t,n){return(t=zY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HY(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:o,layout:l,cursor:u,tooltipEventType:f,chartName:d}=e,h=t,g=n,v=r;if(!u||!h||d!=="ScatterChart"&&f!=="axis")return null;var x,S;if(d==="ScatterChart")x=h,S=rF;else if(d==="BarChart")x=iF(l,h,i,o),S=jk;else if(l==="radial"){var{cx:E,cy:T,radius:C,startAngle:P,endAngle:O}=Rk(h);x={cx:E,cy:T,startAngle:P,endAngle:O,innerRadius:C,outerRadius:C},S=Mk}else x={points:$F(l,h,i)},S=W0;var R=typeof u=="object"&&"className"in u?u.className:void 0,k=Ud(Ud(Ud(Ud({stroke:"#ccc",pointerEvents:"none"},i),x),co(u)),{},{payload:g,payloadIndex:v,className:Fe("recharts-tooltip-cursor",R)});return A.isValidElement(u)?A.cloneElement(u,k):A.createElement(S,k)}function KY(e){var t=RY(),n=Sk(),r=dh(),i=DY();return A.createElement(HY,Yy({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var UR=A.createContext(null),FY=()=>A.useContext(UR),Cv={exports:{}},EN;function GY(){return EN||(EN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function o(f,d,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,g||f,v),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],x]:f._events[S].push(x):(f._events[S]=x,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)t.call(h,g)&&d.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,S=new Array(x);v<x;v++)S[v]=g[v].fn;return S},u.prototype.listenerCount=function(d){var h=n?n+d:d,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(d,h,g,v,x,S){var E=n?n+d:d;if(!this._events[E])return!1;var T=this._events[E],C=arguments.length,P,O;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,g),!0;case 4:return T.fn.call(T.context,h,g,v),!0;case 5:return T.fn.call(T.context,h,g,v,x),!0;case 6:return T.fn.call(T.context,h,g,v,x,S),!0}for(O=1,P=new Array(C-1);O<C;O++)P[O-1]=arguments[O];T.fn.apply(T.context,P)}else{var R=T.length,k;for(O=0;O<R;O++)switch(T[O].once&&this.removeListener(d,T[O].fn,void 0,!0),C){case 1:T[O].fn.call(T[O].context);break;case 2:T[O].fn.call(T[O].context,h);break;case 3:T[O].fn.call(T[O].context,h,g);break;case 4:T[O].fn.call(T[O].context,h,g,v);break;default:if(!P)for(k=1,P=new Array(C-1);k<C;k++)P[k-1]=arguments[k];T[O].fn.apply(T[O].context,P)}}return!0},u.prototype.on=function(d,h,g){return o(this,d,h,g,!1)},u.prototype.once=function(d,h,g){return o(this,d,h,g,!0)},u.prototype.removeListener=function(d,h,g,v){var x=n?n+d:d;if(!this._events[x])return this;if(!h)return l(this,x),this;var S=this._events[x];if(S.fn)S.fn===h&&(!v||S.once)&&(!g||S.context===g)&&l(this,x);else{for(var E=0,T=[],C=S.length;E<C;E++)(S[E].fn!==h||v&&!S[E].once||g&&S[E].context!==g)&&T.push(S[E]);T.length?this._events[x]=T.length===1?T[0]:T:l(this,x)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Cv)),Cv.exports}var WY=GY();const YY=Mr(WY);var Ou=new YY,Jy="recharts.syncEvent.tooltip",AN="recharts.syncEvent.brush";function rx(e,t){if(t){var n=Number.parseInt(t,10);if(!wr(n))return e==null?void 0:e[n]}}var JY={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},BR=nr({name:"options",initialState:JY,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),XY=BR.reducer,{createEventEmitter:QY}=BR.actions;function ZY(e){return e.tooltip.syncInteraction}var eJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},qR=nr({name:"chartData",initialState:eJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:TN,setDataStartEndIndexes:tJ,setComputedData:qie}=qR.actions,nJ=qR.reducer,rJ=["x","y"];function CN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(n),!0).forEach(function(r){iJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iJ(e,t,n){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sJ(e,t){if(e==null)return{};var n,r,i=lJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $R=()=>{};function uJ(){var e=ye(_b),t=ye(Sb),n=bt(),r=ye(Dj),i=ye(ki),o=dh(),l=ch(),u=ye(f=>f.rootProps.className);A.useEffect(()=>{if(e==null)return $R;var f=(d,h,g)=>{if(t!==g&&e===d){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:S,y:E}=x,T=sJ(x,rJ),{x:C,y:P,width:O,height:R}=h.payload.sourceViewBox,k=ps(ps({},T),{},{x:l.x+(O?(S-C)/O:0)*l.width,y:l.y+(R?(E-P)/R:0)*l.height});n(ps(ps({},h),{},{payload:ps(ps({},h.payload),{},{coordinate:k})}))}else n(h);return}if(i!=null){var j;if(typeof r=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},V=r(i,M);j=i[V]}else r==="value"&&(j=i.find(B=>String(B.value)===h.payload.label));var{coordinate:z}=h.payload;if(j==null||h.payload.active===!1||z==null||l==null){n(Gy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:te,y:Z}=z,L=Math.min(te,l.x+l.width),H=Math.min(Z,l.y+l.height),J={x:o==="horizontal"?j.coordinate:L,y:o==="horizontal"?H:j.coordinate},re=Gy({active:h.payload.active,coordinate:J,dataKey:h.payload.dataKey,index:String(j.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(re)}}};return Ou.on(Jy,f),()=>{Ou.off(Jy,f)}},[u,n,t,e,r,i,o,l])}function cJ(){var e=ye(_b),t=ye(Sb),n=bt();A.useEffect(()=>{if(e==null)return $R;var r=(i,o,l)=>{t!==l&&e===i&&n(tJ(o))};return Ou.on(AN,r),()=>{Ou.off(AN,r)}},[n,t,e])}function dJ(){var e=bt();A.useEffect(()=>{e(QY())},[e]),uJ(),cJ()}function fJ(e,t,n,r,i,o){var l=ye(x=>IY(x,e,t)),u=ye(Sb),f=ye(_b),d=ye(Dj),h=ye(ZY),g=h==null?void 0:h.active,v=ch();A.useEffect(()=>{if(!g&&f!=null&&u!=null){var x=Gy({active:o,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});Ou.emit(Jy,f,x,u)}},[g,n,l,i,r,u,f,d,o,v])}function NN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(n),!0).forEach(function(r){hJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gJ(e){return e.dataKey}function vJ(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(MK,t)}var ON=[],yJ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!wa.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ca(e){var t=un(e,yJ),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:o,content:l,filterNull:u,isAnimationActive:f,offset:d,payloadUniqBy:h,position:g,reverseDirection:v,useTranslate3d:x,wrapperStyle:S,cursor:E,shared:T,trigger:C,defaultIndex:P,portal:O,axisId:R}=t,k=bt(),j=typeof P=="number"?String(P):P;A.useEffect(()=>{k(qW({shared:T,trigger:C,axisId:R,active:n,defaultIndex:j}))},[k,T,C,R,n,j]);var M=ch(),V=Ck(),z=MW(T),{activeIndex:te,isActive:Z}=ye(de=>BY(de,z,C,j)),L=ye(de=>UY(de,z,C,j)),H=ye(de=>LR(de,z,C,j)),J=ye(de=>LY(de,z,C,j)),re=L,B=FY(),F=n??Z,[ue,fe]=qO([re,F]),ee=z==="axis"?H:void 0;fJ(z,C,J,ee,te,F);var I=O??B;if(I==null)return null;var q=re??ON;F||(q=ON),u&&q.length&&(q=MO(re.filter(de=>de.value!=null&&(de.hide!==!0||t.includeHidden)),h,gJ));var oe=q.length>0,ce=A.createElement(zK,{allowEscapeViewBox:r,animationDuration:i,animationEasing:o,isAnimationActive:f,active:F,coordinate:J,hasPayload:oe,offset:d,position:g,reverseDirection:v,useTranslate3d:x,viewBox:M,wrapperStyle:S,lastBoundingBox:ue,innerRef:fe,hasPortalFromProps:!!O},vJ(l,PN(PN({},t),{},{payload:q,label:ee,active:F,coordinate:J,accessibilityLayer:V})));return A.createElement(A.Fragment,null,iO.createPortal(ce,I),F&&A.createElement(KY,{cursor:E,tooltipEventType:z,coordinate:J,payload:re,index:te}))}var vo=e=>null;vo.displayName="Cell";function bJ(e,t,n){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _J{constructor(t){bJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function kN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=AJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CJ={cacheSize:2e3,enableCache:!0},zR=SJ({},CJ),jN=new _J(zR.cacheSize),NJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RN="recharts_measurement_span";function PJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u)}var DN=(e,t)=>{try{var n=document.getElementById(RN);n||(n=document.createElement("span"),n.setAttribute("id",RN),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,NJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},hu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wa.isSsr)return{width:0,height:0};if(!zR.enableCache)return DN(t,n);var r=PJ(t,n),i=jN.get(r);if(i)return i;var o=DN(t,n);return jN.set(r,o),o},MN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,kJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,VR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jJ=Object.keys(VR),bs="NaN";function RJ(e,t){return e*VR[t]}class Dn{static parse(t){var n,[,r,i]=(n=kJ.exec(t))!==null&&n!==void 0?n:[];return new Dn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,wr(t)&&(this.unit=""),n!==""&&!OJ.test(n)&&(this.num=NaN,this.unit=""),jJ.includes(n)&&(this.num=RJ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wr(this.num)}}function HR(e){if(e.includes(bs))return bs;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=(n=MN.exec(t))!==null&&n!==void 0?n:[],l=Dn.parse(r??""),u=Dn.parse(o??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return bs;t=t.replace(MN,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,g,v]=(d=IN.exec(t))!==null&&d!==void 0?d:[],x=Dn.parse(h??""),S=Dn.parse(v??""),E=g==="+"?x.add(S):x.subtract(S);if(E.isNaN())return bs;t=t.replace(IN,E.toString())}return t}var LN=/\(([^()]*)\)/;function DJ(e){for(var t=e,n;(n=LN.exec(t))!=null;){var[,r]=n;t=t.replace(LN,HR(r))}return t}function MJ(e){var t=e.replace(/\s+/g,"");return t=DJ(t),t=HR(t),t}function IJ(e){try{return MJ(e)}catch{return bs}}function Nv(e){var t=IJ(e.slice(5,-1));return t===bs?"":t}var LJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],UJ=["dx","dy","angle","className","breakAll"];function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xy.apply(null,arguments)}function UN(e,t){if(e==null)return{};var n,r,i=BJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function BJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KR=/[ \f\n\r\t\v\u2028\u2029]+/,FR=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];yt(t)||(n?i=t.toString().split(""):i=t.toString().split(KR));var o=i.map(u=>({word:u,width:hu(u,r).width})),l=n?0:hu("",r).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},qJ=(e,t,n,r,i)=>{var{maxLines:o,children:l,style:u,breakAll:f}=e,d=Ae(o),h=l,g=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce((L,H)=>{var{word:J,width:re}=H,B=L[L.length-1];if(B&&(r==null||i||B.width+re+n<Number(r)))B.words.push(J),B.width+=re+n;else{var F={words:[J],width:re};L.push(F)}return L},[])},v=g(t),x=te=>te.reduce((Z,L)=>Z.width>L.width?Z:L);if(!d||i)return v;var S=v.length>o||x(v).width>Number(r);if(!S)return v;for(var E="",T=te=>{var Z=h.slice(0,te),L=FR({breakAll:f,style:u,children:Z+E}).wordsWithComputedWidth,H=g(L),J=H.length>o||x(H).width>Number(r);return[J,H]},C=0,P=h.length-1,O=0,R;C<=P&&O<=h.length-1;){var k=Math.floor((C+P)/2),j=k-1,[M,V]=T(j),[z]=T(k);if(!M&&!z&&(C=k+1),M&&z&&(P=k-1),!M&&z){R=V;break}O++}return R||v},BN=e=>{var t=yt(e)?[]:e.toString().split(KR);return[{words:t}]},$J=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:l}=e;if((t||n)&&!wa.isSsr){var u,f,d=FR({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:g}=d;u=h,f=g}else return BN(r);return qJ({breakAll:o,children:r,maxLines:l,style:i},u,f,t,n)}return BN(r)},qN="#808080",jh=A.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:o="0.71em",scaleToFit:l=!1,textAnchor:u="start",verticalAnchor:f="end",fill:d=qN}=e,h=UN(e,LJ),g=A.useMemo(()=>$J({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:x,angle:S,className:E,breakAll:T}=h,C=UN(h,UJ);if(!Kr(n)||!Kr(r)||g.length===0)return null;var P=n+(Ae(v)?v:0),O=r+(Ae(x)?x:0),R;switch(f){case"start":R=Nv("calc(".concat(o,")"));break;case"middle":R=Nv("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:R=Nv("calc(".concat(g.length-1," * -").concat(i,")"));break}var k=[];if(l){var j=g[0].width,{width:M}=h;k.push("scale(".concat(Ae(M)?M/j:1,")"))}return S&&k.push("rotate(".concat(S,", ").concat(P,", ").concat(O,")")),k.length&&(C.transform=k.join(" ")),A.createElement("text",Xy({},An(C),{ref:t,x:P,y:O,className:Fe("recharts-text",E),textAnchor:u,fill:d.includes("url")?qN:d}),g.map((V,z)=>{var te=V.words.join(T?"":" ");return A.createElement("tspan",{x:P,dy:z===0?R:i,key:"".concat(te,"-").concat(z)},te)}))});jh.displayName="Text";var zJ=["labelRef"];function VJ(e,t){if(e==null)return{};var n,r,i=HJ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(n),!0).forEach(function(r){KJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KJ(e,t,n){return(t=FJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hi.apply(null,arguments)}var GR=A.createContext(null),WJ=e=>{var{x:t,y:n,width:r,height:i,children:o}=e,l=A.useMemo(()=>({x:t,y:n,width:r,height:i}),[t,n,r,i]);return A.createElement(GR.Provider,{value:l},o)},WR=()=>{var e=A.useContext(GR),t=ch();return e||t},YJ=A.createContext(null),JJ=()=>{var e=A.useContext(YJ),t=ye(Bj);return e||t},XJ=e=>{var{value:t,formatter:n}=e,r=yt(e.children)?t:e.children;return typeof n=="function"?n(r):r},ix=e=>e!=null&&typeof e=="function",QJ=(e,t)=>{var n=Xt(t-e),r=Math.min(Math.abs(t-e),360);return n*r},ZJ=(e,t,n,r,i)=>{var{offset:o,className:l}=e,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:g,endAngle:v,clockWise:x}=i,S=(d+h)/2,E=QJ(g,v),T=E>=0?1:-1,C,P;switch(t){case"insideStart":C=g+T*o,P=x;break;case"insideEnd":C=v-T*o,P=!x;break;case"end":C=v+T*o,P=x;break;default:throw new Error("Unsupported position ".concat(t))}P=E<=0?P:!P;var O=It(u,f,S,C),R=It(u,f,S,C+(P?1:-1)*359),k="M".concat(O.x,",").concat(O.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(P?0:1,`,
    `).concat(R.x,",").concat(R.y),j=yt(e.id)?bu("recharts-radial-line-"):e.id;return A.createElement("text",hi({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:j,d:k})),A.createElement("textPath",{xlinkHref:"#".concat(j)},n))},eX=(e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:u,endAngle:f}=e,d=(u+f)/2;if(n==="outside"){var{x:h,y:g}=It(r,i,l+t,d);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(o+l)/2,{x,y:S}=It(r,i,v,d);return{x,y:S,textAnchor:"middle",verticalAnchor:"middle"}},YR=e=>"cx"in e&&Ae(e.cx),tX=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,o;n!=null&&!YR(n)&&(o=n);var{x:l,y:u,width:f,height:d}=t,h=d>=0?1:-1,g=h*r,v=h>0?"end":"start",x=h>0?"start":"end",S=f>=0?1:-1,E=S*r,T=S>0?"end":"start",C=S>0?"start":"end";if(i==="top"){var P={x:l+f/2,y:u-h*r,textAnchor:"middle",verticalAnchor:v};return Ot(Ot({},P),o?{height:Math.max(u-o.y,0),width:f}:{})}if(i==="bottom"){var O={x:l+f/2,y:u+d+g,textAnchor:"middle",verticalAnchor:x};return Ot(Ot({},O),o?{height:Math.max(o.y+o.height-(u+d),0),width:f}:{})}if(i==="left"){var R={x:l-E,y:u+d/2,textAnchor:T,verticalAnchor:"middle"};return Ot(Ot({},R),o?{width:Math.max(R.x-o.x,0),height:d}:{})}if(i==="right"){var k={x:l+f+E,y:u+d/2,textAnchor:C,verticalAnchor:"middle"};return Ot(Ot({},k),o?{width:Math.max(o.x+o.width-k.x,0),height:d}:{})}var j=o?{width:f,height:d}:{};return i==="insideLeft"?Ot({x:l+E,y:u+d/2,textAnchor:C,verticalAnchor:"middle"},j):i==="insideRight"?Ot({x:l+f-E,y:u+d/2,textAnchor:T,verticalAnchor:"middle"},j):i==="insideTop"?Ot({x:l+f/2,y:u+g,textAnchor:"middle",verticalAnchor:x},j):i==="insideBottom"?Ot({x:l+f/2,y:u+d-g,textAnchor:"middle",verticalAnchor:v},j):i==="insideTopLeft"?Ot({x:l+E,y:u+g,textAnchor:C,verticalAnchor:x},j):i==="insideTopRight"?Ot({x:l+f-E,y:u+g,textAnchor:T,verticalAnchor:x},j):i==="insideBottomLeft"?Ot({x:l+E,y:u+d-g,textAnchor:C,verticalAnchor:v},j):i==="insideBottomRight"?Ot({x:l+f-E,y:u+d-g,textAnchor:T,verticalAnchor:v},j):i&&typeof i=="object"&&(Ae(i.x)||xi(i.x))&&(Ae(i.y)||xi(i.y))?Ot({x:l+vn(i.x,f),y:u+vn(i.y,d),textAnchor:"end",verticalAnchor:"end"},j):Ot({x:l+f/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},j)},nX={offset:5};function oa(e){var t=un(e,nX),{viewBox:n,position:r,value:i,children:o,content:l,className:u="",textBreakAll:f,labelRef:d}=t,h=JJ(),g=WR(),v=r==="center"?g:h??g,x=n||v;if(!x||yt(i)&&yt(o)&&!A.isValidElement(l)&&typeof l!="function")return null;var S=Ot(Ot({},t),{},{viewBox:x});if(A.isValidElement(l)){var{labelRef:E}=S,T=VJ(S,zJ);return A.cloneElement(l,T)}var C;if(typeof l=="function"){if(C=A.createElement(l,S),A.isValidElement(C))return C}else C=XJ(t);var P=YR(x),O=An(t);if(P&&(r==="insideStart"||r==="insideEnd"||r==="end"))return ZJ(t,r,C,O,x);var R=P?eX(x,t.offset,t.position):tX(t,x);return A.createElement(jh,hi({ref:d,className:Fe("recharts-label",u)},O,R,{breakAll:f}),C)}oa.displayName="Label";var rX=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(oa,hi({key:"label-implicit"},r)):Kr(e)?A.createElement(oa,hi({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===oa?A.cloneElement(e,Ot({key:"label-implicit"},r)):A.createElement(oa,hi({key:"label-implicit",content:e},r)):ix(e)?A.createElement(oa,hi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(oa,hi({},e,{key:"label-implicit"},r)):null};function iX(e){var{label:t,labelRef:n}=e,r=WR();return rX(t,r,n)||null}var Pv={},Ov={},zN;function aX(){return zN||(zN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Ov)),Ov}var kv={},VN;function oX(){return VN||(VN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(kv)),kv}var HN;function sX(){return HN||(HN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aX(),n=oX(),r=I0();function i(o){if(r.isArrayLike(o))return t.last(n.toArray(o))}e.last=i})(Pv)),Pv}var jv,KN;function lX(){return KN||(KN=1,jv=sX().last),jv}var uX=lX();const cX=Mr(uX);var dX=["valueAccessor"],fX=["dataKey","clockWise","id","textBreakAll"];function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jf.apply(null,arguments)}function FN(e,t){if(e==null)return{};var n,r,i=hX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mX=e=>Array.isArray(e.value)?cX(e.value):e.value,JR=A.createContext(void 0),XR=JR.Provider,QR=A.createContext(void 0),pX=QR.Provider;function gX(){return A.useContext(JR)}function vX(){return A.useContext(QR)}function Kd(e){var{valueAccessor:t=mX}=e,n=FN(e,dX),{dataKey:r,clockWise:i,id:o,textBreakAll:l}=n,u=FN(n,fX),f=gX(),d=vX(),h=f||d;return!h||!h.length?null:A.createElement(ln,{className:"recharts-label-list"},h.map((g,v)=>{var x,S=yt(r)?t(g,v):ct(g&&g.payload,r),E=yt(o)?{}:{id:"".concat(o,"-").concat(v)};return A.createElement(oa,jf({key:"label-".concat(v)},An(g),u,E,{fill:(x=n.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:S,textBreakAll:l,viewBox:g.viewBox,index:v}))}))}Kd.displayName="LabelList";function ax(e){var{label:t}=e;return t?t===!0?A.createElement(Kd,{key:"labelList-implicit"}):A.isValidElement(t)||ix(t)?A.createElement(Kd,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(Kd,jf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(null,arguments)}var ZR=e=>{var{cx:t,cy:n,r,className:i}=e,o=Fe("recharts-dot",i);return t===+t&&n===+n&&r===+r?A.createElement("circle",Qy({},er(e),R0(e),{className:o,cx:t,cy:n,r})):null},eD=e=>e.graphicalItems.polarItems,yX=Y([xt,Ku],Pb),Rh=Y([eD,St,yX],Ob),bX=Y([Rh],kb),Dh=Y([bX,yb],jb),xX=Y([Dh,St,Rh],Db);Y([Dh,St,Rh],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var o,l=ct(r,(o=t.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ct(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var GN=()=>{},wX=Y([Dh,St,Rh,Nh,xt],Ub),_X=Y([St,Ib,Lb,GN,wX,GN,ze,xt],Bb),tD=Y([St,ze,Dh,xX,Hu,xt,_X],qb),SX=Y([tD,St,Js],Vb);Y([St,tD,SX,xt],Kb);var EX={radiusAxis:{},angleAxis:{}},nD=nr({name:"polarAxis",initialState:EX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:$ie,removeRadiusAxis:zie,addAngleAxis:Vie,removeAngleAxis:Hie}=nD.actions,AX=nD.reducer;function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){TX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TX(e,t,n){return(t=CX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PX=(e,t)=>t,ox=Y([eD,PX],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),OX=[],sx=(e,t,n)=>(n==null?void 0:n.length)===0?OX:n,rD=Y([yb,ox,sx],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>YN(YN({},t.presentationProps),o.props))),i!=null)return i}}),kX=Y([rD,ox,sx],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var o,l=ct(r,t.nameKey,t.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Vs(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),jX=Y([rD,ox,sx,Vt],(e,t,n,r)=>{if(!(t==null||e==null))return jQ({offset:r,pieSettings:t,displayedData:e,cells:n})}),Rv={exports:{}},at={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JN;function RX(){if(JN)return at;JN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),x=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case f:case d:case v:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case g:case h:return E;case o:return E;default:return T}}case t:return T}}}return at.ContextConsumer=o,at.ContextProvider=l,at.Element=e,at.ForwardRef=u,at.Fragment=n,at.Lazy=g,at.Memo=h,at.Portal=t,at.Profiler=i,at.StrictMode=r,at.Suspense=f,at.SuspenseList=d,at.isContextConsumer=function(E){return S(E)===o},at.isContextProvider=function(E){return S(E)===l},at.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},at.isForwardRef=function(E){return S(E)===u},at.isFragment=function(E){return S(E)===n},at.isLazy=function(E){return S(E)===g},at.isMemo=function(E){return S(E)===h},at.isPortal=function(E){return S(E)===t},at.isProfiler=function(E){return S(E)===i},at.isStrictMode=function(E){return S(E)===r},at.isSuspense=function(E){return S(E)===f},at.isSuspenseList=function(E){return S(E)===d},at.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===g||E.$$typeof===h||E.$$typeof===l||E.$$typeof===o||E.$$typeof===u||E.$$typeof===x||E.getModuleId!==void 0)},at.typeOf=S,at}var XN;function DX(){return XN||(XN=1,Rv.exports=RX()),Rv.exports}var MX=DX(),QN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",ZN=null,Dv=null,iD=e=>{if(e===ZN&&Array.isArray(Dv))return Dv;var t=[];return A.Children.forEach(e,n=>{yt(n)||(MX.isFragment(n)?t=t.concat(iD(n.props.children)):t.push(n))}),Dv=t,ZN=e,t};function lx(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>QN(i)):r=[QN(t)],iD(e).forEach(i=>{var o=fo(i,"type.displayName")||fo(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}var aD=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Mv={},e2;function IX(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Mv)),Mv}var Iv,t2;function LX(){return t2||(t2=1,Iv=IX().isPlainObject),Iv}var UX=LX();const BX=Mr(UX);function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function r2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(r){qX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qX(e,t,n){return(t=$X(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(null,arguments)}var i2=(e,t,n,r,i)=>{var o=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-o/2,",").concat(t+i),l+="L ".concat(e+n-o/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},VX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HX=e=>{var t=un(e,VX),{x:n,y:r,upperWidth:i,lowerWidth:o,height:l,className:u}=t,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:g}=t,v=A.useRef(null),[x,S]=A.useState(-1),E=A.useRef(i),T=A.useRef(o),C=A.useRef(l),P=A.useRef(n),O=A.useRef(r),R=Bu(e,"trapezoid-");if(A.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var J=v.current.getTotalLength();J&&S(J)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||l!==+l||i===0&&o===0||l===0)return null;var k=Fe("recharts-trapezoid",u);if(!g)return A.createElement("g",null,A.createElement("path",Rf({},An(t),{className:k,d:i2(n,r,i,o,l)})));var j=E.current,M=T.current,V=C.current,z=P.current,te=O.current,Z="0px ".concat(x===-1?1:x,"px"),L="".concat(x,"px 0px"),H=Nk(["strokeDasharray"],d,f);return A.createElement(Uu,{animationId:R,key:R,canBegin:x>0,duration:d,easing:f,isActive:g,begin:h},J=>{var re=Ct(j,i,J),B=Ct(M,o,J),F=Ct(V,l,J),ue=Ct(z,n,J),fe=Ct(te,r,J);v.current&&(E.current=re,T.current=B,C.current=F,P.current=ue,O.current=fe);var ee=J>0?{transition:H,strokeDasharray:L}:{strokeDasharray:Z};return A.createElement("path",Rf({},An(t),{className:k,d:i2(ue,fe,re,B,F),ref:v,style:r2(r2({},ee),t.style)}))})},KX=["option","shapeType","propTransformer","activeClassName","isActive"];function FX(e,t){if(e==null)return{};var n,r,i=GX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function GX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function a2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Df(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(n),!0).forEach(function(r){WX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WX(e,t,n){return(t=YX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XX(e,t){return Df(Df({},t),e)}function QX(e,t){return e==="symbols"}function o2(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(jk,n);case"trapezoid":return A.createElement(HX,n);case"sector":return A.createElement(Mk,n);case"symbols":if(QX(t))return A.createElement(j0,n);break;default:return null}}function ZX(e){return A.isValidElement(e)?e.props:e}function oD(e){var{option:t,shapeType:n,propTransformer:r=XX,activeClassName:i="recharts-active-shape",isActive:o}=e,l=FX(e,KX),u;if(A.isValidElement(t))u=A.cloneElement(t,Df(Df({},l),ZX(t)));else if(typeof t=="function")u=t(l);else if(BX(t)&&typeof t!="boolean"){var f=r(t,l);u=A.createElement(o2,{shapeType:n,elementProps:f})}else{var d=l;u=A.createElement(o2,{shapeType:n,elementProps:d})}return o?A.createElement(ln,{className:i},u):u}var ux=(e,t)=>{var n=bt();return(r,i)=>o=>{e==null||e(r,i,o),n(vR({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},cx=e=>{var t=bt();return(n,r)=>i=>{e==null||e(n,r,i),t($W())}},dx=(e,t)=>{var n=bt();return(r,i)=>o=>{e==null||e(r,i,o),n(zW({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function fx(e){var{fn:t,args:n}=e,r=bt(),i=Tn();return A.useLayoutEffect(()=>{if(!i){var o=t(n);return r(UW(o)),()=>{r(BW(o))}}},[t,n,r,i]),null}var sD=()=>{};function lD(e){var{legendPayload:t}=e,n=bt(),r=Tn();return A.useLayoutEffect(()=>r?sD:(n(Ak(t)),()=>{n(Tk(t))}),[n,r,t]),null}function eQ(e){var{legendPayload:t}=e,n=bt(),r=ye(ze);return A.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?sD:(n(Ak(t)),()=>{n(Tk(t))}),[n,r,t]),null}var Lv,tQ=()=>{var[e]=A.useState(()=>bu("uid-"));return e},nQ=(Lv=bL.useId)!==null&&Lv!==void 0?Lv:tQ;function rQ(e,t){var n=nQ();return t||(e?"".concat(e,"-").concat(n):n)}var iQ=A.createContext(void 0),hx=e=>{var{id:t,type:n,children:r}=e,i=rQ("recharts-".concat(n),t);return A.createElement(iQ.Provider,{value:i},r(i))},aQ={cartesianItems:[],polarItems:[]},uD=nr({name:"graphicalItems",initialState:aQ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:wn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=yi(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:wn()},removeCartesianGraphicalItem:{reducer(e,t){var n=yi(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:wn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:wn()},removePolarGraphicalItem:{reducer(e,t){var n=yi(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:wn()}}}),{addCartesianGraphicalItem:oQ,replaceCartesianGraphicalItem:sQ,removeCartesianGraphicalItem:lQ,addPolarGraphicalItem:uQ,removePolarGraphicalItem:cQ}=uD.actions,dQ=uD.reducer;function cD(e){var t=bt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(oQ(e)):n.current!==e&&t(sQ({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(lQ(n.current)),n.current=null)},[t]),null}function fQ(e){var t=bt();return A.useLayoutEffect(()=>(t(uQ(e)),()=>{t(cQ(e))}),[t,e]),null}var hQ=["onMouseEnter","onClick","onMouseLeave"],mQ=["id"],pQ=["id"];function mx(e,t){if(e==null)return{};var n,r,i=gQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function s2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(n),!0).forEach(function(r){vQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vQ(e,t,n){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ga.apply(null,arguments)}function xQ(e){var t=A.useMemo(()=>lx(e.children,vo),[e.children]),n=ye(r=>kX(r,e.id,t));return n==null?null:A.createElement(eQ,{legendPayload:n})}function wQ(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:l,name:u,hide:f,tooltipType:d}=e;return{dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:n,name:Vs(u,t),hide:f,type:d,color:l,unit:""}}}var _Q=(e,t)=>e>t?"start":e<t?"end":"middle",SQ=(e,t,n)=>vn(typeof t=="function"?t(e):t,n,n*.8),EQ=(e,t,n)=>{var{top:r,left:i,width:o,height:l}=t,u=hk(o,l),f=i+vn(e.cx,o,o/2),d=r+vn(e.cy,l,l/2),h=vn(e.innerRadius,u,0),g=SQ(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:f,cy:d,innerRadius:h,outerRadius:g,maxRadius:v}},AQ=(e,t)=>{var n=Xt(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function TQ(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var CQ=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Fe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return A.createElement(W0,ga({},t,{type:"linear",className:n}))},NQ=(e,t,n)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),A.isValidElement(r)))return r;var i=Fe("recharts-pie-label-text",TQ(e));return A.createElement(jh,ga({},t,{alignmentBaseline:"middle",className:i}),r)};function PQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:l}=n;if(!r||!i||!t)return null;var u=er(n),f=co(i),d=co(o),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,g=t.map((v,x)=>{var S=(v.startAngle+v.endAngle)/2,E=It(v.cx,v.cy,v.outerRadius+h,S),T=gt(gt(gt(gt({},u),v),{},{stroke:"none"},f),{},{index:x,textAnchor:_Q(E.x,v.cx)},E),C=gt(gt(gt(gt({},u),v),{},{fill:"none",stroke:v.fill},d),{},{index:x,points:[It(v.cx,v.cy,v.outerRadius,S),E],key:"line"});return A.createElement(ln,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(x)},o&&CQ(o,C),NQ(i,T,ct(v,l)))});return A.createElement(ln,{className:"recharts-pie-labels"},g)}function OQ(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?A.createElement(ax,{label:i}):A.createElement(PQ,{sectors:t,props:n,showLabels:r})}function kQ(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i}=e,o=ye(pa),{onMouseEnter:l,onClick:u,onMouseLeave:f}=i,d=mx(i,hQ),h=ux(l,i.dataKey),g=cx(f),v=dx(u,i.dataKey);return t==null||t.length===0?null:A.createElement(A.Fragment,null,t.map((x,S)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var E=n&&String(S)===o,T=o?r:null,C=E?n:T,P=gt(gt({},x),{},{stroke:x.stroke,tabIndex:-1,[yk]:S,[bk]:i.dataKey});return A.createElement(ln,ga({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},Du(d,x,S),{onMouseEnter:h(x,S),onMouseLeave:g(x,S),onClick:v(x,S)}),A.createElement(oD,ga({option:C,isActive:E,shapeType:"sector"},P)))}))}function jQ(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:o}=e,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:d,nameKey:h,tooltipType:g}=n,v=Math.abs(n.minAngle),x=AQ(u,f),S=Math.abs(x),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,T=r.filter(j=>ct(j,d,0)!==0).length,C=(S>=360?T:T-1)*E,P=S-T*v-C,O=r.reduce((j,M)=>{var V=ct(M,d,0);return j+(Ae(V)?V:0)},0),R;if(O>0){var k;R=r.map((j,M)=>{var V=ct(j,d,0),z=ct(j,h,M),te=EQ(n,o,j),Z=(Ae(V)?V:0)/O,L,H=gt(gt({},j),i&&i[M]&&i[M].props);M?L=k.endAngle+Xt(x)*E*(V!==0?1:0):L=u;var J=L+Xt(x)*((V!==0?v:0)+Z*P),re=(L+J)/2,B=(te.innerRadius+te.outerRadius)/2,F=[{name:z,value:V,payload:H,dataKey:d,type:g}],ue=It(te.cx,te.cy,B,re);return k=gt(gt(gt(gt({},n.presentationProps),{},{percent:Z,cornerRadius:l,name:z,tooltipPayload:F,midAngle:re,middleRadius:B,tooltipPosition:ue},H),te),{},{value:V,startAngle:L,endAngle:J,payload:H,paddingAngle:Xt(x)*E}),k})}return R}function RQ(e){var{showLabels:t,sectors:n,children:r}=e,i=A.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return A.createElement(pX,{value:t?i:void 0},r)}function DQ(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:u,activeShape:f,inactiveShape:d,onAnimationStart:h,onAnimationEnd:g}=t,v=Bu(t,"recharts-pie-"),x=n.current,[S,E]=A.useState(!1),T=A.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),C=A.useCallback(()=>{typeof h=="function"&&h(),E(!0)},[h]);return A.createElement(RQ,{showLabels:!S,sectors:r},A.createElement(Uu,{animationId:v,begin:o,duration:l,isActive:i,easing:u,onAnimationStart:C,onAnimationEnd:T,key:v},P=>{var O=[],R=r&&r[0],k=R==null?void 0:R.startAngle;return r==null||r.forEach((j,M)=>{var V=x&&x[M],z=M>0?fo(j,"paddingAngle",0):0;if(V){var te=Ct(V.endAngle-V.startAngle,j.endAngle-j.startAngle,P),Z=gt(gt({},j),{},{startAngle:k+z,endAngle:k+te+z});O.push(Z),k=Z.endAngle}else{var{endAngle:L,startAngle:H}=j,J=Ct(0,L-H,P),re=gt(gt({},j),{},{startAngle:k+z,endAngle:k+J+z});O.push(re),k=re.endAngle}}),n.current=O,A.createElement(ln,null,A.createElement(kQ,{sectors:O,activeShape:f,inactiveShape:d,allOtherPieProps:t}))}),A.createElement(OQ,{showLabels:!S,sectors:r,props:t}),t.children)}var MQ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!wa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function IQ(e){var{id:t}=e,n=mx(e,mQ),{hide:r,className:i,rootTabIndex:o}=e,l=A.useMemo(()=>lx(e.children,vo),[e.children]),u=ye(h=>jX(h,t,l)),f=A.useRef(null),d=Fe("recharts-pie",i);return r||u==null?(f.current=null,A.createElement(ln,{tabIndex:o,className:d})):A.createElement(A.Fragment,null,A.createElement(fx,{fn:wQ,args:gt(gt({},e),{},{sectors:u})}),A.createElement(ln,{tabIndex:o,className:d},A.createElement(DQ,{props:gt(gt({},n),{},{sectors:u}),previousSectorsRef:f})))}function px(e){var t=un(e,MQ),{id:n}=t,r=mx(t,pQ),i=er(r);return A.createElement(hx,{id:n,type:"pie"},o=>A.createElement(A.Fragment,null,A.createElement(fQ,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),A.createElement(xQ,ga({},r,{id:o})),A.createElement(IQ,ga({},r,{id:o}))))}px.displayName="Pie";function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function u2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(r){LQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LQ(e,t,n){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qQ={xAxis:{},yAxis:{},zAxis:{}},dD=nr({name:"cartesianAxis",initialState:qQ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:wn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:wn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:wn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:wn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:wn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:wn()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var l=[...o,r].slice(-3);e.yAxis[n]=u2(u2({},e.yAxis[n]),{},{width:r,widthHistory:l})}}}}),{addXAxis:$Q,removeXAxis:zQ,addYAxis:VQ,removeYAxis:HQ,addZAxis:Kie,removeZAxis:Fie,updateYAxisWidth:KQ}=dD.actions,FQ=dD.reducer,GQ=Y([Vt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),WQ=Y([GQ,Ti,Ci],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),gx=()=>ye(WQ),YQ=()=>ye(NY);function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(r){JQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JQ(e,t,n){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZQ=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:o}=e;if(i===!1||t.x==null||t.y==null)return null;var l=d2(d2({index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},co(i)),R0(i)),u;return A.isValidElement(i)?u=A.cloneElement(i,l):typeof i=="function"?u=i(l):u=A.createElement(ZR,l),A.createElement(ln,{className:"recharts-active-dot"},u)};function eZ(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,o=ye(pa),l=YQ();if(t==null||l==null)return null;var u=t.find(f=>l.includes(f.payload));return yt(u)?null:ZQ({point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r})}var tZ="Invariant failed";function nZ(e,t){throw new Error(tZ)}var rZ=["x","y"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zy.apply(null,arguments)}function f2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(n),!0).forEach(function(r){iZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iZ(e,t,n){return(t=aZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e,t){if(e==null)return{};var n,r,i=lZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function uZ(e,t){var{x:n,y:r}=e,i=sZ(e,rZ),o="".concat(n),l=parseInt(o,10),u="".concat(r),f=parseInt(u,10),d="".concat(t.height||i.height),h=parseInt(d,10),g="".concat(t.width||i.width),v=parseInt(g,10);return iu(iu(iu(iu(iu({},t),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function vx(e){return A.createElement(oD,Zy({shapeType:"rectangle",propTransformer:uZ,activeClassName:"recharts-active-bar"},e))}var cZ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Ae(t))return t;var o=Ae(r)||yt(r);return o?t(r,i):(o||nZ(),n)}},dZ={},fD=nr({name:"errorBars",initialState:dZ,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Gie,replaceErrorBar:Wie,removeErrorBar:Yie}=fD.actions,fZ=fD.reducer,hZ=["children"];function mZ(e,t){if(e==null)return{};var n,r,i=pZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},vZ=A.createContext(gZ);function hD(e){var{children:t}=e,n=mZ(e,hZ);return A.createElement(vZ.Provider,{value:n},t)}function yx(e,t){var n,r,i=ye(d=>Pi(d,e)),o=ye(d=>Oi(d,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Fn.allowDataOverflow,u=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Gn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function mD(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=gx(),{needClipX:o,needClipY:l,needClip:u}=yx(t,n);if(!u)return null;var{x:f,y:d,width:h,height:g}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:o?f:f-h/2,y:l?d:d-g/2,width:o?h:h*2,height:l?g:g*2}))}var yZ=["onMouseEnter","onMouseLeave","onClick"],bZ=["value","background","tooltipPosition"],xZ=["id"],wZ=["onMouseEnter","onClick","onMouseLeave"];function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},va.apply(null,arguments)}function h2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h2(Object(n),!0).forEach(function(r){_Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Z(e,t,n){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mf(e,t){if(e==null)return{};var n,r,i=AZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TZ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Vs(n,t),payload:e}]};function CZ(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:l,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:Vs(o,t),hide:l,type:e.tooltipType,color:e.fill,unit:u}}}function NZ(e){var t=ye(pa),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=o,d=Mf(o,yZ),h=ux(l,r),g=cx(u),v=dx(f,r);if(!i||n==null)return null;var x=co(i);return A.createElement(A.Fragment,null,n.map((S,E)=>{var{value:T,background:C,tooltipPosition:P}=S,O=Mf(S,bZ);if(!C)return null;var R=h(S,E),k=g(S,E),j=v(S,E),M=_n(_n(_n(_n(_n({option:i,isActive:String(E)===t},O),{},{fill:"#eee"},C),x),Du(d,S,E)),{},{onMouseEnter:R,onMouseLeave:k,onClick:j,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return A.createElement(vx,va({key:"background-bar-".concat(E)},M))}))}function PZ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:o.width,height:o.height};return _n(_n({},l),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:l,fill:o.fill})});return A.createElement(XR,{value:t?i:void 0},n)}function OZ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:l}=e,u=ye(pa),f=ye(jR),d=n&&String(o)===u&&(f==null||l===f),h=d?n:t;return A.createElement(vx,va({},r,{name:String(r.name)},i,{isActive:d,option:h,index:o,dataKey:l}))}function kZ(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return A.createElement(vx,va({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function jZ(e){var{data:t,props:n}=e,r=er(n),{id:i}=r,o=Mf(r,xZ),{shape:l,dataKey:u,activeBar:f}=n,{onMouseEnter:d,onClick:h,onMouseLeave:g}=n,v=Mf(n,wZ),x=ux(d,u),S=cx(g),E=dx(h,u);return t?A.createElement(A.Fragment,null,t.map((T,C)=>A.createElement(ln,va({key:"rectangle-".concat(T==null?void 0:T.x,"-").concat(T==null?void 0:T.y,"-").concat(T==null?void 0:T.value,"-").concat(C),className:"recharts-bar-rectangle"},Du(v,T,C),{onMouseEnter:x(T,C),onMouseLeave:S(T,C),onClick:E(T,C)}),f?A.createElement(OZ,{shape:l,activeBar:f,baseProps:o,entry:T,index:C,dataKey:u}):A.createElement(kZ,{shape:l,baseProps:o,entry:T,index:C,dataKey:u})))):null}function RZ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=t,g=n.current,v=Bu(t,"recharts-bar-"),[x,S]=A.useState(!1),E=!x,T=A.useCallback(()=>{typeof d=="function"&&d(),S(!1)},[d]),C=A.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return A.createElement(PZ,{showLabels:E,rects:r},A.createElement(Uu,{animationId:v,begin:l,duration:u,isActive:o,easing:f,onAnimationEnd:T,onAnimationStart:C,key:v},P=>{var O=P===1?r:r==null?void 0:r.map((R,k)=>{var j=g&&g[k];if(j)return _n(_n({},R),{},{x:Ct(j.x,R.x,P),y:Ct(j.y,R.y,P),width:Ct(j.width,R.width,P),height:Ct(j.height,R.height,P)});if(i==="horizontal"){var M=Ct(0,R.height,P);return _n(_n({},R),{},{y:R.y+R.height-M,height:M})}var V=Ct(0,R.width,P);return _n(_n({},R),{},{width:V})});return P>0&&(n.current=O??null),O==null?null:A.createElement(ln,null,A.createElement(jZ,{props:t,data:O}))}),A.createElement(ax,{label:t.label}),t.children)}function DZ(e){var t=A.useRef(null);return A.createElement(RZ,{previousRectanglesRef:t,props:e})}var pD=0,MZ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ct(e,t)}};class IZ extends A.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:o,yAxisId:l,needClip:u,background:f,id:d}=this.props;if(t||n==null)return null;var h=Fe("recharts-bar",i),g=d;return A.createElement(ln,{className:h,id:d},u&&A.createElement("defs",null,A.createElement(mD,{clipPathId:g,xAxisId:o,yAxisId:l})),A.createElement(ln,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},A.createElement(NZ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),A.createElement(DZ,this.props)))}}var LZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!wa.isSsr,legendType:"rect",minPointSize:pD,xAxisId:0,yAxisId:0};function UZ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h}=e,{needClip:g}=yx(t,n),v=dh(),x=Tn(),S=lx(e.children,vo),E=ye(P=>fee(P,t,n,x,e.id,S));if(v!=="vertical"&&v!=="horizontal")return null;var T,C=E==null?void 0:E[0];return C==null||C.height==null||C.width==null?T=0:T=v==="vertical"?C.height/2:C.width/2,A.createElement(hD,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:MZ,errorBarOffset:T},A.createElement(IZ,va({},e,{layout:v,needClip:g,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:o,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function BZ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:g,offset:v,cells:x,parentViewBox:S}=e,E=t==="horizontal"?u:l,T=h?E.scale.domain():null,C=MH({numericAxis:E});return g.map((P,O)=>{var R,k,j,M,V,z;h?R=PH(h[O],T):(R=ct(P,n),Array.isArray(R)||(R=[C,R]));var te=cZ(r,pD)(R[1],O);if(t==="horizontal"){var Z,[L,H]=[u.scale(R[0]),u.scale(R[1])];k=F1({axis:l,ticks:f,bandSize:o,offset:i.offset,entry:P,index:O}),j=(Z=H??L)!==null&&Z!==void 0?Z:void 0,M=i.size;var J=L-H;if(V=wr(J)?0:J,z={x:k,y:v.top,width:M,height:v.height},Math.abs(te)>0&&Math.abs(V)<Math.abs(te)){var re=Xt(V||te)*(Math.abs(te)-Math.abs(V));j-=re,V+=re}}else{var[B,F]=[l.scale(R[0]),l.scale(R[1])];if(k=B,j=F1({axis:u,ticks:d,bandSize:o,offset:i.offset,entry:P,index:O}),M=F-B,V=i.size,z={x:v.left,y:j,width:v.width,height:V},Math.abs(te)>0&&Math.abs(M)<Math.abs(te)){var ue=Xt(M||te)*(Math.abs(te)-Math.abs(M));M+=ue}}if(k==null||j==null||M==null||V==null)return null;var fe=_n(_n({},P),{},{x:k,y:j,width:M,height:V,value:h?R:R[1],payload:P,background:z,tooltipPosition:{x:k+M/2,y:j+V/2},parentViewBox:S},x&&x[O]&&x[O].props);return fe}).filter(Boolean)}function qZ(e){var t=un(e,LZ),n=Tn();return A.createElement(hx,{id:t.id,type:"bar"},r=>A.createElement(A.Fragment,null,A.createElement(lD,{legendPayload:TZ(t)}),A.createElement(fx,{fn:CZ,args:t}),A.createElement(cD,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:DH(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),A.createElement(UZ,va({},t,{id:r}))))}var mu=A.memo(qZ);mu.displayName="Bar";function m2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(n),!0).forEach(function(r){$Z(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Z(e,t,n){return(t=zZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zZ(e){var t=VZ(e,"string");return typeof t=="symbol"?t:t+""}function VZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HZ=(e,t)=>t,KZ=(e,t,n)=>n,FZ=(e,t,n,r)=>r,GZ=(e,t,n,r,i)=>i,Xu=Y([Th,GZ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),WZ=Y([Xu],e=>e==null?void 0:e.maxBarSize),YZ=(e,t,n,r,i,o)=>o,p2=(e,t,n)=>{var r=n??e;if(!yt(r))return vn(r,t,0)},JZ=Y([ze,Th,HZ,KZ,FZ],(e,t,n,r,i)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),XZ=(e,t,n,r)=>{var i=ze(e);return i==="horizontal"?Fy(e,"yAxis",n,r):Fy(e,"xAxis",t,r)},QZ=(e,t,n)=>{var r=ze(e);return r==="horizontal"?gN(e,"xAxis",t):gN(e,"yAxis",n)},ZZ=(e,t,n)=>{var r={},i=e.filter(Sh),o=e.filter(d=>d.stackId==null),l=i.reduce((d,h)=>(d[h.stackId]||(d[h.stackId]=[]),d[h.stackId].push(h),d),r),u=Object.entries(l).map(d=>{var[h,g]=d,v=g.map(S=>S.dataKey),x=p2(t,n,g[0].barSize);return{stackId:h,dataKeys:v,barSize:x}}),f=o.map(d=>{var h=[d.dataKey].filter(v=>v!=null),g=p2(t,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...f]},eee=Y([JZ,D9,QZ],ZZ),tee=(e,t,n,r,i)=>{var o,l,u=Xu(e,t,n,r,i);if(u!=null){var f=ze(e),d=jj(e),{maxBarSize:h}=u,g=yt(h)?d:h,v,x;return f==="horizontal"?(v=ma(e,"xAxis",t,r),x=ha(e,"xAxis",t,r)):(v=ma(e,"yAxis",n,r),x=ha(e,"yAxis",n,r)),(o=(l=Su(v,x,!0))!==null&&l!==void 0?l:g)!==null&&o!==void 0?o:0}},gD=(e,t,n,r)=>{var i=ze(e),o,l;return i==="horizontal"?(o=ma(e,"xAxis",t,r),l=ha(e,"xAxis",t,r)):(o=ma(e,"yAxis",n,r),l=ha(e,"yAxis",n,r)),Su(o,l)};function nee(e,t,n,r,i){var o=r.length;if(!(o<1)){var l=vn(e,n,0,!0),u,f=[];if(yn(r[0].barSize)){var d=!1,h=n/o,g=r.reduce((C,P)=>C+(P.barSize||0),0);g+=(o-1)*l,g>=n&&(g-=(o-1)*l,l=0),g>=n&&h>0&&(d=!0,h*=.9,g=o*h);var v=(n-g)/2>>0,x={offset:v-l,size:0};u=r.reduce((C,P)=>{var O,R={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:x.offset+x.size+l,size:d?h:(O=P.barSize)!==null&&O!==void 0?O:0}},k=[...C,R];return x=k[k.length-1].position,k},f)}else{var S=vn(t,n,0,!0);n-2*S-(o-1)*l<=0&&(l=0);var E=(n-2*S-(o-1)*l)/o;E>1&&(E>>=0);var T=yn(i)?Math.min(E,i):E;u=r.reduce((C,P,O)=>[...C,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:S+(E+l)*O+(E-T)/2,size:T}}],f)}return u}}var ree=(e,t,n,r,i,o,l)=>{var u=yt(l)?t:l,f=nee(n,r,i!==o?i:o,e,u);return i!==o&&f!=null&&(f=f.map(d=>Bd(Bd({},d),{},{position:Bd(Bd({},d.position),{},{offset:d.position.offset-i/2})}))),f},iee=Y([eee,jj,R9,Rj,tee,gD,WZ],ree),aee=(e,t,n,r)=>ma(e,"xAxis",t,r),oee=(e,t,n,r)=>ma(e,"yAxis",n,r),see=(e,t,n,r)=>ha(e,"xAxis",t,r),lee=(e,t,n,r)=>ha(e,"yAxis",n,r),uee=Y([iee,Xu],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),cee=(e,t)=>{var n=Cb(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(l=>l.key===n)}}}},dee=Y([XZ,Xu],cee),fee=Y([Vt,V0,aee,oee,see,lee,uee,ze,bh,gD,dee,Xu,YZ],(e,t,n,r,i,o,l,u,f,d,h,g,v)=>{var{chartData:x,dataStartIndex:S,dataEndIndex:E}=f;if(!(g==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||o==null||d==null)){var{data:T}=g,C;if(T!=null&&T.length>0?C=T:C=x==null?void 0:x.slice(S,E+1),C!=null)return BZ({layout:u,barSettings:g,pos:l,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:h,displayedData:C,offset:e,cells:v})}}),vD=e=>{var{chartData:t}=e,n=bt(),r=Tn();return A.useEffect(()=>r?()=>{}:(n(TN(t)),()=>{n(TN(void 0))}),[t,n,r]),null},g2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yD=nr({name:"brush",initialState:g2,reducers:{setBrushSettings(e,t){return t.payload==null?g2:t.payload}}}),{setBrushSettings:Jie}=yD.actions,hee=yD.reducer;function mee(e,t,n){return(t=pee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pee(e){var t=gee(e,"string");return typeof t=="symbol"?t:t+""}function gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bx{static create(t){return new bx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}mee(bx,"EPS",1e-4);function vee(e){return(e%180+180)%180}var yee=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=vee(i),l=o*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},bee={dots:[],areas:[],lines:[]},bD=nr({name:"referenceElements",initialState:bee,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=yi(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=yi(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=yi(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Xie,removeDot:Qie,addArea:Zie,removeArea:eae,addLine:tae,removeLine:nae}=bD.actions,xee=bD.reducer,wee=A.createContext(void 0),_ee=e=>{var{children:t}=e,[n]=A.useState("".concat(bu("recharts"),"-clip")),r=gx();if(r==null)return null;var{x:i,y:o,width:l,height:u}=r;return A.createElement(wee.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:o,height:u,width:l}))),t)};function Ms(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function xD(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function See(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return yee(r,n)}function Eee(e,t,n){var r=n==="width",{x:i,y:o,width:l,height:u}=e;return t===1?{start:r?i:o,end:r?i+l:o+u}:{start:r?i+l:o+u,end:r?i:o}}function If(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Aee(e,t){return xD(e,t+1)}function Tee(e,t,n,r,i){for(var o=(r||[]).slice(),{start:l,end:u}=t,f=0,d=1,h=l,g=function(){var S=r==null?void 0:r[f];if(S===void 0)return{v:xD(r,d)};var E=f,T,C=()=>(T===void 0&&(T=n(S,E)),T),P=S.coordinate,O=f===0||If(e,P,C,h,u);O||(f=0,h=l,d+=1),O&&(h=P+e*(C()/2+i),f+=d)},v;d<=o.length;)if(v=g(),v)return v.v;return[]}function v2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(n),!0).forEach(function(r){Cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cee(e,t,n){return(t=Nee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nee(e){var t=Pee(e,"string");return typeof t=="symbol"?t:t+""}function Pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oee(e,t,n,r,i){for(var o=(r||[]).slice(),l=o.length,{start:u}=t,{end:f}=t,d=function(v){var x=o[v],S,E=()=>(S===void 0&&(S=n(x,v)),S);if(v===l-1){var T=e*(x.coordinate+e*E()/2-f);o[v]=x=mn(mn({},x),{},{tickCoord:T>0?x.coordinate-T*e:x.coordinate})}else o[v]=x=mn(mn({},x),{},{tickCoord:x.coordinate});var C=If(e,x.tickCoord,E,u,f);C&&(f=x.tickCoord-e*(E()/2+i),o[v]=mn(mn({},x),{},{isShow:!0}))},h=l-1;h>=0;h--)d(h);return o}function kee(e,t,n,r,i,o){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=t;if(o){var h=r[u-1],g=n(h,u-1),v=e*(h.coordinate+e*g/2-d);l[u-1]=h=mn(mn({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var x=If(e,h.tickCoord,()=>g,f,d);x&&(d=h.tickCoord-e*(g/2+i),l[u-1]=mn(mn({},h),{},{isShow:!0}))}for(var S=o?u-1:u,E=function(P){var O=l[P],R,k=()=>(R===void 0&&(R=n(O,P)),R);if(P===0){var j=e*(O.coordinate-e*k()/2-f);l[P]=O=mn(mn({},O),{},{tickCoord:j<0?O.coordinate-j*e:O.coordinate})}else l[P]=O=mn(mn({},O),{},{tickCoord:O.coordinate});var M=If(e,O.tickCoord,k,f,d);M&&(f=O.tickCoord+e*(k()/2+i),l[P]=mn(mn({},O),{},{isShow:!0}))},T=0;T<S;T++)E(T);return l}function xx(e,t,n){var{tick:r,ticks:i,viewBox:o,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:h,angle:g}=e;if(!i||!i.length||!r)return[];if(Ae(f)||wa.isSsr){var v;return(v=Aee(i,Ae(f)?f:0))!==null&&v!==void 0?v:[]}var x=[],S=u==="top"||u==="bottom"?"width":"height",E=h&&S==="width"?hu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(O,R)=>{var k=typeof d=="function"?d(O.value,R):O.value;return S==="width"?See(hu(k,{fontSize:t,letterSpacing:n}),E,g):hu(k,{fontSize:t,letterSpacing:n})[S]},C=i.length>=2?Xt(i[1].coordinate-i[0].coordinate):1,P=Eee(o,C,S);return f==="equidistantPreserveStart"?Tee(C,P,T,i,l):(f==="preserveStart"||f==="preserveStartEnd"?x=kee(C,P,T,i,l,f==="preserveStartEnd"):x=Oee(C,P,T,i,l),x.filter(O=>O.isShow))}var jee=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+o,d=l+f+u+(n?r:0);return Math.round(d)}return 0},Ree=["axisLine","width","height","className","hide","ticks"],Dee=["viewBox"],Mee=["viewBox"];function e0(e,t){if(e==null)return{};var n,r,i=Iee(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yo.apply(null,arguments)}function y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(n),!0).forEach(function(r){Lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lee(e,t,n){return(t=Uee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wx={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function qee(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var d=$t($t($t({},f),er(u)),{},{fill:"none"});if(o==="top"||o==="bottom"){var h=+(o==="top"&&!l||o==="bottom"&&l);d=$t($t({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var g=+(o==="left"&&!l||o==="right"&&l);d=$t($t({},d),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return A.createElement("line",yo({},d,{className:Fe("recharts-cartesian-axis-line",fo(u,"className"))}))}function $ee(e,t,n,r,i,o,l,u,f){var d,h,g,v,x,S,E=u?-1:1,T=e.tickSize||l,C=Ae(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":d=h=e.coordinate,v=n+ +!u*i,g=v-E*T,S=g-E*f,x=C;break;case"left":g=v=e.coordinate,h=t+ +!u*r,d=h-E*T,x=d-E*f,S=C;break;case"right":g=v=e.coordinate,h=t+ +u*r,d=h+E*T,x=d+E*f,S=C;break;default:d=h=e.coordinate,v=n+ +u*i,g=v+E*T,S=g+E*f,x=C;break}return{line:{x1:d,y1:g,x2:h,y2:v},tick:{x,y:S}}}function zee(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Vee(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Hee(e){var{option:t,tickProps:n,value:r}=e,i,o=Fe(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,$t($t({},n),{},{className:o}));else if(typeof t=="function")i=t($t($t({},n),{},{className:o}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Fe(l,t==null?void 0:t.className)),i=A.createElement(jh,yo({},n,{className:l}),r)}return i}function Kee(e){var{ticks:t=[],tick:n,tickLine:r,stroke:i,tickFormatter:o,unit:l,padding:u,tickTextProps:f,orientation:d,mirror:h,x:g,y:v,width:x,height:S,tickSize:E,tickMargin:T,fontSize:C,letterSpacing:P,getTicksConfig:O,events:R}=e,k=xx($t($t({},O),{},{ticks:t}),C,P),j=zee(d,h),M=Vee(d,h),V=er(O),z=co(n),te={};typeof r=="object"&&(te=r);var Z=$t($t({},V),{},{fill:"none"},te),L=k.map((H,J)=>{var{line:re,tick:B}=$ee(H,g,v,x,S,d,E,h,T),F=$t($t($t($t({textAnchor:j,verticalAnchor:M},V),{},{stroke:"none",fill:i},z),B),{},{index:J,payload:H,visibleTicksCount:k.length,tickFormatter:o,padding:u},f);return A.createElement(ln,yo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},Du(R,H,J)),r&&A.createElement("line",yo({},Z,re,{className:Fe("recharts-cartesian-axis-tick-line",fo(r,"className"))})),n&&A.createElement(Hee,{option:n,tickProps:F,value:"".concat(typeof o=="function"?o(H.value,J):H.value).concat(l||"")}))});return L.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},L):null}var Fee=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:l,ticks:u}=e,f=e0(e,Ree),[d,h]=A.useState(""),[g,v]=A.useState(""),x=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return jee({ticks:x.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=A.useCallback(E=>{if(E){var T=E.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=T;var C=T[0];if(C){var P=window.getComputedStyle(C),O=P.fontSize,R=P.letterSpacing;(O!==d||R!==g)&&(h(O),v(R))}}},[d,g]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(ln,{className:Fe("recharts-cartesian-axis",o),ref:S},A.createElement(qee,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:er(e)}),A.createElement(Kee,{ticks:u,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:d,letterSpacing:g,getTicksConfig:e,events:f}),A.createElement(WJ,{x:e.x,y:e.y,width:e.width,height:e.height},A.createElement(iX,{label:e.label,labelRef:e.labelRef}),e.children))}),Gee=A.memo(Fee,(e,t)=>{var{viewBox:n}=e,r=e0(e,Dee),{viewBox:i}=t,o=e0(t,Mee);return Ms(n,i)&&Ms(r,o)}),_x=A.forwardRef((e,t)=>{var n=un(e,wx);return A.createElement(Gee,yo({},n,{ref:t}))});_x.displayName="CartesianAxis";var Wee=["x1","y1","x2","y2","key"],Yee=["offset"],Jee=["xAxisId","yAxisId"],Xee=["xAxisId","yAxisId"];function b2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(n),!0).forEach(function(r){Qee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qee(e,t,n){return(t=Zee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zee(e){var t=ete(e,"string");return typeof t=="symbol"?t:t+""}function ete(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function to(){return to=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},to.apply(null,arguments)}function Lf(e,t){if(e==null)return{};var n,r,i=tte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nte=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:o,height:l,ry:u}=e;return A.createElement("rect",{x:r,y:i,ry:u,width:o,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wD(e,t){var n;if(A.isValidElement(e))n=A.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:o,y2:l,key:u}=t,f=Lf(t,Wee),d=er(f),{offset:h}=d,g=Lf(d,Yee);n=A.createElement("line",to({},g,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:u}))}return n}function rte(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=Lf(e,Jee),f=i.map((d,h)=>{var g=pn(pn({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return wD(r,g)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function ite(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:l}=e,u=Lf(e,Xee),f=i.map((d,h)=>{var g=pn(pn({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return wD(r,g)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function ate(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:l,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var d=u.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==d[0]&&d.unshift(0);var h=d.map((g,v)=>{var x=!d[v+1],S=x?i+l-g:d[v+1]-g;if(S<=0)return null;var E=v%t.length;return A.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:S,width:o,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ote(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:l,height:u,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var d=f.map(g=>Math.round(g+i-i)).sort((g,v)=>g-v);i!==d[0]&&d.unshift(0);var h=d.map((g,v)=>{var x=!d[v+1],S=x?i+l-g:d[v+1]-g;if(S<=0)return null;var E=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:S,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ste=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return pk(xx(pn(pn(pn({},wx),n),{},{ticks:gk(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},lte=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return pk(xx(pn(pn(pn({},wx),n),{},{ticks:gk(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},ute={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function no(e){var t=K0(),n=F0(),r=Sk(),i=pn(pn({},un(e,ute)),{},{x:Ae(e.x)?e.x:r.left,y:Ae(e.y)?e.y:r.top,width:Ae(e.width)?e.width:r.width,height:Ae(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:l,x:u,y:f,width:d,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:x}=i,S=Tn(),E=ye(z=>vN(z,"xAxis",o,S)),T=ye(z=>vN(z,"yAxis",l,S));if(!Ae(d)||d<=0||!Ae(h)||h<=0||!Ae(u)||u!==+u||!Ae(f)||f!==+f)return null;var C=i.verticalCoordinatesGenerator||ste,P=i.horizontalCoordinatesGenerator||lte,{horizontalPoints:O,verticalPoints:R}=i;if((!O||!O.length)&&typeof P=="function"){var k=v&&v.length,j=P({yAxis:T?pn(pn({},T),{},{ticks:k?v:T.ticks}):void 0,width:t,height:n,offset:r},k?!0:g);pf(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(O=j)}if((!R||!R.length)&&typeof C=="function"){var M=x&&x.length,V=C({xAxis:E?pn(pn({},E),{},{ticks:M?x:E.ticks}):void 0,width:t,height:n,offset:r},M?!0:g);pf(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(R=V)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(nte,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(ate,to({},i,{horizontalPoints:O})),A.createElement(ote,to({},i,{verticalPoints:R})),A.createElement(rte,to({},i,{offset:r,horizontalPoints:O,xAxis:E,yAxis:T})),A.createElement(ite,to({},i,{offset:r,verticalPoints:R,xAxis:E,yAxis:T})))}no.displayName="CartesianGrid";var _D=(e,t,n,r)=>ma(e,"xAxis",t,r),SD=(e,t,n,r)=>ha(e,"xAxis",t,r),ED=(e,t,n,r)=>ma(e,"yAxis",n,r),AD=(e,t,n,r)=>ha(e,"yAxis",n,r),cte=Y([ze,_D,ED,SD,AD],(e,t,n,r,i)=>xa(e,"xAxis")?Su(t,r,!1):Su(n,i,!1)),dte=(e,t,n,r,i)=>i;function fte(e){return e.type==="line"}var hte=Y([Th,dte],(e,t)=>e.filter(fte).find(n=>n.id===t)),mte=Y([ze,_D,ED,SD,AD,hte,cte,bh],(e,t,n,r,i,o,l,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:h}=u;if(!(o==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:g,data:v}=o,x;if(v!=null&&v.length>0?x=v:x=f==null?void 0:f.slice(d,h+1),x!=null)return Lte({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:g,bandSize:l,displayedData:x})}});function pte(e){var t=co(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:o}=t,l=Number(i),u=Number(o);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var gte=["id"],vte=["type","layout","connectNulls","needClip"],yte=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function x2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x2(Object(n),!0).forEach(function(r){bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bte(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sx(e,t){if(e==null)return{};var n,r,i=_te(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _te(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(null,arguments)}var Ste=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:Vs(n,t),payload:e}]};function Ete(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:o,name:l,hide:u,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:Vs(l,t),hide:u,type:e.tooltipType,color:e.stroke,unit:f}}}var TD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ate(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Tte=(e,t,n)=>{var r=n.reduce((g,v)=>g+v);if(!r)return TD(t,e);for(var i=Math.floor(e/r),o=e%r,l=t-e,u=[],f=0,d=0;f<n.length;d+=n[f],++f)if(d+n[f]>o){u=[...n.slice(0,f),o-d];break}var h=u.length%2===0?[0,l]:[l];return[...Ate(n,i),...u,...h].map(g=>"".concat(g,"px")).join(", ")};function Cte(e,t){var n;if(A.isValidElement(e))n=A.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=Fe("recharts-line-dot",typeof e!="boolean"?e.className:"");n=A.createElement(ZR,bo({},t,{className:r}))}return n}function Nte(e,t){return e==null?!1:t?!0:e.length===1}function Pte(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:o,needClip:l}=r;if(!Nte(n,i))return null;var{id:u}=r,f=Sx(r,gte),d=aD(i),h=er(f),g=y8(i),v=n.map((S,E)=>{var T=Yn(Yn(Yn({key:"dot-".concat(E),r:3},h),g),{},{index:E,cx:S.x,cy:S.y,dataKey:o,value:S.value,payload:S.payload,points:n});return Cte(i,T)}),x={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return A.createElement(ln,bo({className:"recharts-line-dots",key:"dots"},x),v)}function Ote(e){var{showLabels:t,children:n,points:r}=e,i=A.useMemo(()=>r==null?void 0:r.map(o=>{var l={x:o.x,y:o.y,width:0,height:0};return Yn(Yn({},l),{},{value:o.value,payload:o.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(XR,{value:t?i:null},n)}function w2(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:o}=e,{type:l,layout:u,connectNulls:f,needClip:d}=o,h=Sx(o,vte),g=Yn(Yn({},An(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:r,type:l,layout:u,connectNulls:f,strokeDasharray:i??o.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(W0,bo({},g,{pathRef:n})),A.createElement(Pte,{points:r,clipPathId:t,props:o}))}function kte(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function jte(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:o}=e,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:g,animateNewValues:v,width:x,height:S,onAnimationEnd:E,onAnimationStart:T}=n,C=i.current,P=Bu(n,"recharts-line-"),[O,R]=A.useState(!1),k=!O,j=A.useCallback(()=>{typeof E=="function"&&E(),R(!1)},[E]),M=A.useCallback(()=>{typeof T=="function"&&T(),R(!0)},[T]),V=kte(r.current),z=o.current;return A.createElement(Ote,{points:l,showLabels:k},n.children,A.createElement(Uu,{animationId:P,begin:d,duration:h,isActive:f,easing:g,onAnimationEnd:j,onAnimationStart:M,key:P},te=>{var Z=Ct(z,V+z,te),L=Math.min(Z,V),H;if(f)if(u){var J="".concat(u).split(/[,\s]+/gim).map(F=>parseFloat(F));H=Tte(L,V,J)}else H=TD(V,L);else H=u==null?void 0:String(u);if(C){var re=C.length/l.length,B=te===1?l:l.map((F,ue)=>{var fe=Math.floor(ue*re);if(C[fe]){var ee=C[fe];return Yn(Yn({},F),{},{x:Ct(ee.x,F.x,te),y:Ct(ee.y,F.y,te)})}return v?Yn(Yn({},F),{},{x:Ct(x*2,F.x,te),y:Ct(S/2,F.y,te)}):Yn(Yn({},F),{},{x:F.x,y:F.y})});return i.current=B,A.createElement(w2,{props:n,points:B,clipPathId:t,pathRef:r,strokeDasharray:H})}return te>0&&V>0&&(i.current=l,o.current=L),A.createElement(w2,{props:n,points:l,clipPathId:t,pathRef:r,strokeDasharray:H})}),A.createElement(ax,{label:n.label}))}function Rte(e){var{clipPathId:t,props:n}=e,r=A.useRef(null),i=A.useRef(0),o=A.useRef(null);return A.createElement(jte,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:o})}var Dte=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:ct(e.payload,t)});class Mte extends A.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:o,yAxisId:l,top:u,left:f,width:d,height:h,id:g,needClip:v}=this.props;if(t)return null;var x=Fe("recharts-line",i),S=g,{r:E,strokeWidth:T}=pte(n),C=aD(n),P=E*2+T;return A.createElement(A.Fragment,null,A.createElement(ln,{className:x},v&&A.createElement("defs",null,A.createElement(mD,{clipPathId:S,xAxisId:o,yAxisId:l}),!C&&A.createElement("clipPath",{id:"clipPath-dots-".concat(S)},A.createElement("rect",{x:f-P/2,y:u-P/2,width:d+P,height:h+P}))),A.createElement(hD,{xAxisId:o,yAxisId:l,data:r,dataPointFormatter:Dte,errorBarOffset:0},A.createElement(Rte,{props:this.props,clipPathId:S}))),A.createElement(eZ,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var CD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!wa.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Ite(e){var t=un(e,CD),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,connectNulls:u,dot:f,hide:d,isAnimationActive:h,label:g,legendType:v,xAxisId:x,yAxisId:S,id:E}=t,T=Sx(t,yte),{needClip:C}=yx(x,S),P=gx(),O=dh(),R=Tn(),k=ye(te=>mte(te,x,S,R,E));if(O!=="horizontal"&&O!=="vertical"||k==null||P==null)return null;var{height:j,width:M,x:V,y:z}=P;return A.createElement(Mte,bo({},T,{id:E,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:o,animationEasing:l,isAnimationActive:h,hide:d,label:g,legendType:v,xAxisId:x,yAxisId:S,points:k,layout:O,height:j,width:M,left:V,top:z,needClip:C}))}function Lte(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,dataKey:l,bandSize:u,displayedData:f}=e;return f.map((d,h)=>{var g=ct(d,l);if(t==="horizontal"){var v=K1({axis:n,ticks:i,bandSize:u,entry:d,index:h}),x=yt(g)?null:r.scale(g);return{x:v,y:x,value:g,payload:d}}var S=yt(g)?null:n.scale(g),E=K1({axis:r,ticks:o,bandSize:u,entry:d,index:h});return S==null||E==null?null:{x:S,y:E,value:g,payload:d}}).filter(Boolean)}function Ute(e){var t=un(e,CD),n=Tn();return A.createElement(hx,{id:t.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(lD,{legendPayload:Ste(t)}),A.createElement(fx,{fn:Ete,args:t}),A.createElement(cD,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),A.createElement(Ite,bo({},t,{id:r}))))}var Uf=A.memo(Ute);Uf.displayName="Line";var Bte=["dangerouslySetInnerHTML","ticks"],qte=["id"],$te=["domain"],zte=["domain"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t0.apply(null,arguments)}function Bf(e,t){if(e==null)return{};var n,r,i=Vte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Hte(e){var t=bt();return A.useLayoutEffect(()=>(t($Q(e)),()=>{t(zQ(e))}),[e,t]),null}var Kte=e=>{var{xAxisId:t,className:n}=e,r=ye(V0),i=Tn(),o="xAxis",l=ye(T=>Xs(T,o,t,i)),u=ye(T=>dR(T,o,t,i)),f=ye(T=>sR(T,t)),d=ye(T=>NW(T,t)),h=ye(T=>zj(T,t));if(f==null||d==null||h==null)return null;var{dangerouslySetInnerHTML:g,ticks:v}=e,x=Bf(e,Bte),{id:S}=h,E=Bf(h,qte);return A.createElement(_x,t0({},x,E,{scale:l,x:d.x,y:d.y,width:f.width,height:f.height,className:Fe("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:u}))},Fte={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:Fn.allowDecimals,allowDuplicatedCategory:Fn.allowDuplicatedCategory,height:Fn.height,hide:!1,mirror:Fn.mirror,orientation:Fn.orientation,padding:Fn.padding,reversed:Fn.reversed,scale:Fn.scale,tickCount:Fn.tickCount,type:Fn.type,xAxisId:0},Gte=e=>{var t,n,r,i,o,l=un(e,Fte);return A.createElement(A.Fragment,null,A.createElement(Hte,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),A.createElement(Kte,l))},Wte=(e,t)=>{var{domain:n}=e,r=Bf(e,$te),{domain:i}=t,o=Bf(t,zte);return Ms(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Ms({domain:n},{domain:i}):!1},ro=A.memo(Gte,Wte);ro.displayName="XAxis";var Yte=["dangerouslySetInnerHTML","ticks"],Jte=["id"],Xte=["domain"],Qte=["domain"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function qf(e,t){if(e==null)return{};var n,r,i=Zte(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ene(e){var t=bt();return A.useLayoutEffect(()=>(t(VQ(e)),()=>{t(HQ(e))}),[e,t]),null}var tne=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=A.useRef(null),l=A.useRef(null),u=ye(V0),f=Tn(),d=bt(),h="yAxis",g=ye(k=>Xs(k,h,t,f)),v=ye(k=>lR(k,t)),x=ye(k=>OW(k,t)),S=ye(k=>dR(k,h,t,f)),E=ye(k=>Vj(k,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!v||ix(i)||A.isValidElement(i)||E==null)){var k=o.current;if(k){var j=k.getCalculatedWidth();Math.round(v.width)!==Math.round(j)&&d(KQ({id:t,width:j}))}}},[S,v,d,i,t,r,E]),v==null||x==null||E==null)return null;var{dangerouslySetInnerHTML:T,ticks:C}=e,P=qf(e,Yte),{id:O}=E,R=qf(E,Jte);return A.createElement(_x,n0({},P,R,{ref:o,labelRef:l,scale:g,x:x.x,y:x.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:Fe("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:S}))},nne={allowDataOverflow:Gn.allowDataOverflow,allowDecimals:Gn.allowDecimals,allowDuplicatedCategory:Gn.allowDuplicatedCategory,hide:!1,mirror:Gn.mirror,orientation:Gn.orientation,padding:Gn.padding,reversed:Gn.reversed,scale:Gn.scale,tickCount:Gn.tickCount,type:Gn.type,width:Gn.width,yAxisId:0},rne=e=>{var t,n,r,i,o,l=un(e,nne);return A.createElement(A.Fragment,null,A.createElement(ene,{interval:(t=l.interval)!==null&&t!==void 0?t:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(n=l.includeHidden)!==null&&n!==void 0?n:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(r=l.angle)!==null&&r!==void 0?r:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(o=l.tick)!==null&&o!==void 0?o:!0,tickFormatter:l.tickFormatter}),A.createElement(tne,l))},ine=(e,t)=>{var{domain:n}=e,r=qf(e,Xte),{domain:i}=t,o=qf(t,Qte);return Ms(r,o)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Ms({domain:n},{domain:i}):!1},io=A.memo(rne,ine);io.displayName="YAxis";var Uv={exports:{}},Bv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2;function ane(){if(_2)return Bv;_2=1;var e=Is();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Bv.useSyncExternalStoreWithSelector=function(f,d,h,g,v){var x=i(null);if(x.current===null){var S={hasValue:!1,value:null};x.current=S}else S=x.current;x=l(function(){function T(k){if(!C){if(C=!0,P=k,k=g(k),v!==void 0&&S.hasValue){var j=S.value;if(v(j,k))return O=j}return O=k}if(j=O,n(P,k))return j;var M=g(k);return v!==void 0&&v(j,M)?(P=k,j):(P=k,O=M)}var C=!1,P,O,R=h===void 0?null:h;return[function(){return T(d())},R===null?void 0:function(){return T(R())}]},[d,h,g,v]);var E=r(f,x[0],x[1]);return o(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},Bv}var S2;function one(){return S2||(S2=1,Uv.exports=ane()),Uv.exports}one();function sne(e){e()}function lne(){let e=null,t=null;return{clear(){e=null,t=null},notify(){sne(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var E2={notify(){},get:()=>[]};function une(e,t){let n,r=E2,i=0,o=!1;function l(E){h();const T=r.subscribe(E);let C=!1;return()=>{C||(C=!0,T(),g())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return o}function h(){i++,n||(n=e.subscribe(f),r=lne())}function g(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=E2)}function v(){o||(o=!0,h())}function x(){o&&(o=!1,g())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>r};return S}var cne=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dne=cne(),fne=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hne=fne(),mne=()=>dne||hne?A.useLayoutEffect:A.useEffect,pne=mne(),qv=Symbol.for("react-redux-context"),$v=typeof globalThis<"u"?globalThis:{};function gne(){if(!A.createContext)return{};const e=$v[qv]??($v[qv]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var vne=gne();function yne(e){const{children:t,context:n,serverState:r,store:i}=e,o=A.useMemo(()=>{const f=une(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);pne(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,l]);const u=n||vne;return A.createElement(u.Provider,{value:o},t)}var bne=yne,xne=(e,t)=>t,Ex=Y([xne,ze,Bj,Kt,NR,ki,MY,Vt],qY),Ax=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},ND=_r("mouseClick"),PD=Iu();PD.startListening({actionCreator:ND,effect:(e,t)=>{var n=e.payload,r=Ex(t.getState(),Ax(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(VW({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var r0=_r("mouseMove"),OD=Iu();OD.startListening({actionCreator:r0,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Wb(r,r.tooltip.settings.shared),o=Ex(r,Ax(n));i==="axis"&&((o==null?void 0:o.activeIndex)!=null?t.dispatch(bR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(yR()))}});var A2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},kD=nr({name:"rootProps",initialState:A2,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:A2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),wne=kD.reducer,{updateOptions:_ne}=kD.actions,jD=nr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Sne}=jD.actions,Ene=jD.reducer,RD=_r("keyDown"),DD=_r("focus"),Tx=Iu();Tx.startListening({actionCreator:RD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var l=Number(Yb(i,Zs(n))),u=ki(n);if(o==="Enter"){var f=kf(n,"axis","hover",String(i.index));t.dispatch(Wy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=DW(n),h=d==="left-to-right"?1:-1,g=o==="ArrowRight"?1:-1,v=l+g*h;if(!(u==null||v>=u.length||v<0)){var x=kf(n,"axis","hover",String(v));t.dispatch(Wy({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:x}))}}}}});Tx.startListening({actionCreator:DD,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",l=kf(n,"axis","hover",String(o));t.dispatch(Wy({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:l}))}}}});var vr=_r("externalEvent"),MD=Iu();MD.startListening({actionCreator:vr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:AY(n),activeDataKey:jR(n),activeIndex:pa(n),activeLabel:kR(n),activeTooltipIndex:pa(n),isTooltipActive:TY(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Ane=Y([Qs],e=>e.tooltipItemPayloads),Tne=Y([Ane,Yu,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var l=t(o,n);return l}}}),ID=_r("touchMove"),LD=Iu();LD.startListening({actionCreator:ID,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=Wb(r,r.tooltip.settings.shared);if(i==="axis"){var o=Ex(r,Ax({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(bR({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var l,u=n.touches[0],f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var d=f.getAttribute(yk),h=(l=f.getAttribute(bk))!==null&&l!==void 0?l:void 0,g=Tne(t.getState(),d,h);t.dispatch(vR({activeDataKey:h,activeIndex:d,activeCoordinate:g}))}}});var Cne=zO({brush:hee,cartesianAxis:FQ,chartData:nJ,errorBars:fZ,graphicalItems:dQ,layout:hH,legend:bK,options:XY,polarAxis:AX,polarOptions:Ene,referenceElements:xee,rootProps:wne,tooltip:HW}),Nne=function(t){return UV({reducer:Cne,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([PD.middleware,OD.middleware,Tx.middleware,MD.middleware,LD.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(ek({type:"raf"}))},devTools:wa.devToolsEnabled})};function UD(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Tn(),o=A.useRef(null);if(i)return n;o.current==null&&(o.current=Nne(t));var l=L0;return A.createElement(bne,{context:l,store:o.current},n)}function BD(e){var{layout:t,margin:n}=e,r=bt(),i=Tn();return A.useEffect(()=>{i||(r(cH(t)),r(uH(n)))},[r,i,t,n]),null}function qD(e){var t=bt();return A.useEffect(()=>{t(_ne(e))},[t,e]),null}var Pne=["children"];function One(e,t){if(e==null)return{};var n,r,i=kne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$f.apply(null,arguments)}var jne={width:"100%",height:"100%",display:"block"},Rne=A.forwardRef((e,t)=>{var n=K0(),r=F0(),i=Ck();if(!Ps(n)||!Ps(r))return null;var{children:o,otherAttributes:l,title:u,desc:f}=e,d,h;return typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0,A.createElement(A0,$f({},l,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:jne,ref:t}),o)}),Dne=e=>{var{children:t}=e,n=ye(uh);if(!n)return null;var{width:r,height:i,y:o,x:l}=n;return A.createElement(A0,{width:r,height:i,x:l,y:o},t)},T2=A.forwardRef((e,t)=>{var{children:n}=e,r=One(e,Pne),i=Tn();return i?A.createElement(Dne,null,n):A.createElement(Rne,$f({ref:t},r),n)});function Mne(){var e=bt(),[t,n]=A.useState(null),r=ye(zH);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),o=i.width/t.offsetWidth;yn(o)&&o!==r&&e(fH(o))}},[t,e,r]),n}function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ine(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(r){Lne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lne(e,t,n){return(t=Une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Une(e){var t=Bne(e,"string");return typeof t=="symbol"?t:t+""}function Bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(null,arguments)}var qne=()=>(dJ(),null);function zf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var $ne=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[o,l]=A.useState({containerWidth:zf((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:zf((r=e.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((d,h)=>{l(g=>{var v=Math.round(d),x=Math.round(h);return g.containerWidth===v&&g.containerHeight===x?g:{containerWidth:v,containerHeight:x}})},[]),f=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:h,height:g}=d.getBoundingClientRect();u(h,g);var v=S=>{var{width:E,height:T}=S[0].contentRect;u(E,T)},x=new ResizeObserver(v);x.observe(d),i.current=x}},[t,u]);return A.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(fh,{width:o.containerWidth,height:o.containerHeight}),A.createElement("div",xo({ref:f},e)))}),zne=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=A.useState({containerWidth:zf(n),containerHeight:zf(r)}),l=A.useCallback((f,d)=>{o(h=>{var g=Math.round(f),v=Math.round(d);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),u=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[t,l]);return A.createElement(A.Fragment,null,A.createElement(fh,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",xo({ref:u},e)))}),Vne=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(fh,{width:n,height:r}),A.createElement("div",xo({ref:t},e)))}),Hne=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return xi(n)||xi(r)?A.createElement(zne,xo({},e,{ref:t})):A.createElement(Vne,xo({},e,{ref:t}))});function Kne(e){return e===!0?$ne:Hne}var Fne=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:S,onTouchStart:E,style:T,width:C,responsive:P,dispatchTouchEvents:O=!0}=e,R=A.useRef(null),k=bt(),[j,M]=A.useState(null),[V,z]=A.useState(null),te=Mne(),Z=H0(),L=(Z==null?void 0:Z.width)>0?Z.width:C,H=(Z==null?void 0:Z.height)>0?Z.height:i,J=A.useCallback(Q=>{te(Q),typeof t=="function"&&t(Q),M(Q),z(Q),Q!=null&&(R.current=Q)},[te,t,M,z]),re=A.useCallback(Q=>{k(ND(Q)),k(vr({handler:o,reactEvent:Q}))},[k,o]),B=A.useCallback(Q=>{k(r0(Q)),k(vr({handler:d,reactEvent:Q}))},[k,d]),F=A.useCallback(Q=>{k(yR()),k(vr({handler:h,reactEvent:Q}))},[k,h]),ue=A.useCallback(Q=>{k(r0(Q)),k(vr({handler:g,reactEvent:Q}))},[k,g]),fe=A.useCallback(()=>{k(DD())},[k]),ee=A.useCallback(Q=>{k(RD(Q.key))},[k]),I=A.useCallback(Q=>{k(vr({handler:l,reactEvent:Q}))},[k,l]),q=A.useCallback(Q=>{k(vr({handler:u,reactEvent:Q}))},[k,u]),oe=A.useCallback(Q=>{k(vr({handler:f,reactEvent:Q}))},[k,f]),ce=A.useCallback(Q=>{k(vr({handler:v,reactEvent:Q}))},[k,v]),de=A.useCallback(Q=>{k(vr({handler:E,reactEvent:Q}))},[k,E]),Se=A.useCallback(Q=>{O&&k(ID(Q)),k(vr({handler:S,reactEvent:Q}))},[k,O,S]),he=A.useCallback(Q=>{k(vr({handler:x,reactEvent:Q}))},[k,x]),we=Kne(P);return A.createElement(UR.Provider,{value:j},A.createElement(aO.Provider,{value:V},A.createElement(we,{width:L??(T==null?void 0:T.width),height:H??(T==null?void 0:T.height),className:Fe("recharts-wrapper",r),style:Ine({position:"relative",cursor:"default",width:L,height:H},T),onClick:re,onContextMenu:I,onDoubleClick:q,onFocus:fe,onKeyDown:ee,onMouseDown:oe,onMouseEnter:B,onMouseLeave:F,onMouseMove:ue,onMouseUp:ce,onTouchEnd:he,onTouchMove:Se,onTouchStart:de,ref:J},A.createElement(qne,null),n)))}),Gne=["width","height","responsive","children","className","style","compact","title","desc"];function Wne(e,t){if(e==null)return{};var n,r,i=Yne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $D=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:l,style:u,compact:f,title:d,desc:h}=e,g=Wne(e,Gne),v=er(g);return f?A.createElement(A.Fragment,null,A.createElement(fh,{width:n,height:r}),A.createElement(T2,{otherAttributes:v,title:d,desc:h},o)):A.createElement(Fne,{className:l,style:u,width:n,height:r,responsive:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(T2,{otherAttributes:v,title:d,desc:h,ref:t},A.createElement(_ee,null,o)))});function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}var Jne={top:5,right:5,bottom:5,left:5},Xne={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jne,reverseStackOrder:!1,syncMethod:"index",responsive:!1},zD=A.forwardRef(function(t,n){var r,i=un(t.categoricalChartProps,Xne),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=t,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return A.createElement(UD,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:o},A.createElement(vD,{chartData:d.data}),A.createElement(BD,{layout:i.layout,margin:i.margin}),A.createElement(qD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement($D,i0({},i,{ref:n})))}),Qne=["axis"],VD=A.forwardRef((e,t)=>A.createElement(zD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qne,tooltipPayloadSearcher:rx,categoricalChartProps:e,ref:t})),Zne=["axis","item"],Fd=A.forwardRef((e,t)=>A.createElement(zD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zne,tooltipPayloadSearcher:rx,categoricalChartProps:e,ref:t}));function ere(e){var t=bt();return A.useEffect(()=>{t(Sne(e))},[t,e]),null}var tre=["layout"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}function nre(e,t){if(e==null)return{};var n,r,i=rre(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ire={top:5,right:5,bottom:5,left:5},are={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ire,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},ore=A.forwardRef(function(t,n){var r,i=un(t.categoricalChartProps,are),{layout:o}=i,l=nre(i,tre),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(UD,{preloadedState:{options:g},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},A.createElement(vD,{chartData:i.data}),A.createElement(BD,{layout:o,margin:i.margin}),A.createElement(qD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),A.createElement(ere,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement($D,a0({},l,{ref:n})))}),sre=["item"],lre={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},HD=A.forwardRef((e,t)=>{var n=un(e,lre);return A.createElement(ore,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:sre,tooltipPayloadSearcher:rx,categoricalChartProps:n,ref:t})});const ure=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[m.jsx("path",{d:"m7.5 4.27 9 5.15"}),m.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),m.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),m.jsx("path",{d:"M12 22V12"})]}),cre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[m.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),m.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),dre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[m.jsx("path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"}),m.jsx("path",{d:"M17 15.5V6"}),m.jsx("path",{d:"M21 15.5V6"}),m.jsx("path",{d:"M13 15.5V6"}),m.jsx("path",{d:"m15.3 18.7 3.4 2.6 3.4-2.6"}),m.jsx("path",{d:"M18.7 21.3v-6.6"})]}),fre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[m.jsx("path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1V21c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5V3h5.5l3.5 3.5V21c0 .8.7 1.5 1.5 1.5s1.5-.7 1.5-1.5V6.5L15.5 2z"}),m.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"})]}),hre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),m.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),m.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),N2=({type:e})=>e==="positive"?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"inline mr-1",children:m.jsx("path",{d:"M12 5v14M18 11l-6-6-6 6"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"inline mr-1",children:m.jsx("path",{d:"M12 5v14M18 13l-6 6-6-6"})}),P2=["#8d5437","#b97a4d","#c8956f","#dcbca1"],o0=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),mre=({active:e,payload:t,label:n,totalSales:r})=>{if(e&&t&&t.length){const i=t[0].payload,o=r>0?(i.amount/r*100).toFixed(2):0;return m.jsxs("div",{className:"p-3 bg-white border border-brand-brown-200 rounded-lg shadow-lg",children:[m.jsx("p",{className:"font-bold text-brand-brown-800",children:`${n}`}),m.jsx("p",{className:"text-sm text-gray-700",children:`Sales: ${o0(i.amount)}`}),m.jsx("p",{className:"text-sm text-brand-green-700",children:`Contribution: ${o}%`})]})}return null},O2=Math.PI/180,pre=({cx:e,cy:t,midAngle:n,innerRadius:r,outerRadius:i,percent:o})=>{const l=r+(i-r)*.5,u=e+l*Math.cos(-n*O2),f=t+l*Math.sin(-n*O2);return o<.05?null:m.jsx("text",{x:u,y:f,fill:"#5d3a2b",textAnchor:"middle",dominantBaseline:"central",fontWeight:"bold",fontSize:"14px",children:`${(o*100).toFixed(0)}%`})},gre=({data:e})=>{const[t,n]=A.useState(""),[r,i]=A.useState(!0),[o,l]=A.useState(!0),[u,f]=A.useState([]),{t:d}=Le(),[h,g]=A.useState([]),[v,x]=A.useState([]),[S,E]=A.useState([]),[T,C]=A.useState([]),[P,O]=A.useState([]),R=A.useCallback(async()=>{l(!0);const[q,oe,ce,de,Se]=await Promise.all([e.stock.getAll(),e.sales.getAll(),e.purchaseOrders.getAll(),e.alertSettings.getAll(),e.warehouseLogs.getAll()]);g(q),x(oe),E(ce),C(de),O(Se),l(!1)},[e]);A.useEffect(()=>{R()},[R]);const k=A.useCallback(async()=>{if(h.length===0)return;i(!0);const q=await p8(h,v,S);n(q),i(!1)},[h,v,S]);A.useEffect(()=>{o||k()},[o,k]);const j=A.useMemo(()=>{const q=new Date,oe=new Date(new Date().setDate(q.getDate()-30)),ce=new Date(new Date().setDate(q.getDate()-60)),de=(_e,Re)=>{const Ye=v.filter(Ue=>new Date(Ue.saleDate)>=_e&&new Date(Ue.saleDate)<=Re),Gt=Ye.reduce((Ue,Zt)=>Ue+Zt.totalAmount,0),Et=Ye.reduce((Ue,Zt)=>Ue+Zt.items.reduce((cn,et)=>cn+et.quantityKg,0),0);return{revenue:Gt,quantitySold:Et}},Se=de(oe,q),he=de(ce,new Date(oe.getTime()-1)),we=new Date(new Date().setDate(q.getDate()-7)),Q=P.filter(_e=>new Date(_e.date)>=we),Ee=h.filter(_e=>_e.type===zt.GREEN_BEAN),Ce=Ee.map(_e=>_e.id),le=Q.filter(_e=>Ce.includes(_e.itemId)).reduce((_e,Re)=>_e+Re.change,0),Je=Ee.reduce((_e,Re)=>_e+Re.quantityKg,0),ve=S.filter(_e=>_e.status===Dr.PENDING||_e.status===Dr.APPROVED).reduce((_e,Re)=>_e+Re.items.reduce((Ye,Gt)=>Ye+Gt.pricePerKg*Gt.quantityKg,0),0);return{currentPeriod:Se,previousPeriod:he,netStockChangeLast7Days:le,totalGreenBeanStock:Je,pendingPOsValue:ve}},[v,h,P,S]),M=(q,oe)=>oe===0?q>0?1/0:0:(q-oe)/Math.abs(oe)*100,V=(q,oe="%")=>{const ce=d("dashboard.trend_vsPrevDays");if(oe==="kg"){const he=q>0?"+":"",we=q===0?"neutral":q>0?"positive":"negative";return{text:d("dashboard.stockTrend_lastDays",{change:`${he}${q.toFixed(2)}`}),type:we}}if(q===1/0)return{text:"+100%+",type:"positive"};if(isNaN(q)||q===0)return{text:ce,type:"neutral"};const de=q>0?"+":"",Se=q>0?"positive":"negative";return{text:`${de}${q.toFixed(1)}% ${ce}`,type:Se}},z=M(j.currentPeriod.revenue,j.previousPeriod.revenue),te=M(j.currentPeriod.quantitySold,j.previousPeriod.quantitySold),Z=V(j.netStockChangeLast7Days,"kg"),L=V(z),H=V(te),J=A.useMemo(()=>T.map(q=>{const oe=h.filter(ce=>ce.variety===q.variety&&ce.type===q.type).reduce((ce,de)=>ce+de.quantityKg,0);return oe<=q.threshold?{...q,currentStock:oe}:null}).filter(Boolean),[h,T]),{salesChartData:re,totalSalesValue:B,stockDistributionData:F,varietyColors:ue}=A.useMemo(()=>{const q=v.flatMap(he=>he.items).reduce((he,we)=>{const Q=we.quantityKg*we.pricePerKg;return he[we.variety]=(he[we.variety]||0)+Q,he},{}),oe=Object.values(q).reduce((he,we)=>he+we,0),ce=Object.entries(q).map(([he,we])=>({name:he,amount:parseFloat(we.toFixed(2))})),de=h.filter(he=>he.type===zt.GREEN_BEAN).map(he=>({name:he.variety,value:he.quantityKg})),Se={};return de.forEach((he,we)=>{Se[he.name]=P2[we%P2.length]}),{salesChartData:ce,totalSalesValue:oe,stockDistributionData:de,varietyColors:Se}},[v,h]),fe=A.useMemo(()=>F.filter(q=>!u.includes(q.name)),[F,u]),ee=q=>f(oe=>oe.includes(q.value)?oe.filter(ce=>ce!==q.value):[...oe,q.value]),I=q=>m.jsx("span",{style:{color:u.includes(q)?"#A0A0A0":"#333"},children:q});return o?m.jsx("div",{className:"text-center p-8",children:"Loading dashboard data..."}):m.jsxs("div",{className:"space-y-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:d("dashboard.title")}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[m.jsx(qt,{title:d("dashboard.card_totalStock"),value:`${j.totalGreenBeanStock.toFixed(2)} kg`,icon:m.jsx(ure,{}),change:m.jsx(m.Fragment,{children:Z.text}),changeType:Z.type}),m.jsx(qt,{title:d("dashboard.card_revenue"),value:o0(j.currentPeriod.revenue),icon:m.jsx(cre,{}),change:m.jsxs(m.Fragment,{children:[L.type!=="neutral"&&m.jsx(N2,{type:L.type})," ",L.text]}),changeType:L.type}),m.jsx(qt,{title:d("dashboard.card_quantitySold"),value:`${j.currentPeriod.quantitySold.toFixed(2)} kg`,icon:m.jsx(dre,{}),change:m.jsxs(m.Fragment,{children:[H.type!=="neutral"&&m.jsx(N2,{type:H.type})," ",H.text]}),changeType:H.type}),m.jsx(qt,{title:d("dashboard.card_pendingPO"),value:o0(j.pendingPOsValue),icon:m.jsx(fre,{}),change:m.jsx(m.Fragment,{children:d("dashboard.pendingPO_description")}),changeType:"neutral"})]}),J.length>0&&m.jsxs("div",{className:"p-6 bg-red-50 border border-red-200 rounded-xl shadow-lg",children:[m.jsxs("h2",{className:"text-xl font-semibold text-red-800 mb-4 flex items-center",children:[m.jsx(hre,{}),m.jsx("span",{className:"ml-2",children:d("dashboard.lowStock_title")})]}),m.jsx("ul",{className:"space-y-2",children:J.map(q=>q&&m.jsx("li",{className:"text-red-700",children:m.jsx("strong",{children:d("dashboard.lowStock_alert",{variety:q.variety,type:d(`enums.stockType.${q.type.replace(/\s/g,"")}`),currentStock:q.currentStock.toFixed(2),threshold:q.threshold})})},q.id))})]}),m.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[m.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 mb-4",children:d("dashboard.salesByVariety_title")}),m.jsx(la,{width:"100%",height:300,children:m.jsxs(Fd,{data:re,children:[m.jsx(no,{strokeDasharray:"3 3"}),m.jsx(ro,{dataKey:"name"}),m.jsx(io,{tickFormatter:q=>`Rp${q/1e6} Jt`}),m.jsx(ca,{content:m.jsx(mre,{totalSales:B}),cursor:{fill:"rgba(233, 220, 207, 0.5)"}}),m.jsx(ks,{}),m.jsx(mu,{dataKey:"amount",fill:"#8d5437"})]})})]}),m.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 mb-4",children:d("dashboard.greenBeanDistribution_title")}),m.jsx(la,{width:"100%",height:300,children:m.jsxs(HD,{children:[m.jsx(px,{data:fe,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",labelLine:!1,label:pre,children:fe.map(q=>m.jsx(vo,{fill:ue[q.name]},`cell-${q.name}`))}),m.jsx(ca,{formatter:q=>`${q.toFixed(2)} kg`}),m.jsx(ks,{verticalAlign:"bottom",wrapperStyle:{paddingTop:"15px"},onClick:ee,formatter:I})]})})]})]}),m.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800",children:d("dashboard.ai_title")}),m.jsx("button",{onClick:k,disabled:r,className:"mt-4 sm:mt-0 px-6 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:d(r?"dashboard.ai_button_loading":"dashboard.ai_button_refresh")})]}),r&&!t?m.jsxs("div",{className:"text-center p-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-brown-700 mx-auto"}),m.jsx("p",{className:"mt-2 text-gray-500",children:d("dashboard.ai_loadingMessage")})]}):t?m.jsx("div",{className:"prose prose-sm max-w-none p-4 bg-brand-brown-50 rounded-lg border border-brand-brown-200 text-brand-brown-900",dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br />")}}):!r&&m.jsx("p",{className:"text-gray-500",children:d("dashboard.ai_prompt")})]})]})},Vf=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),vre=e=>{switch(e){case Dr.PENDING:return"bg-yellow-100 text-yellow-800";case Dr.APPROVED:return"bg-blue-100 text-blue-800";case Dr.COMPLETED:return"bg-green-100 text-green-800";case Dr.REJECTED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},yre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),bre=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},xre=({data:e})=>{const{purchaseOrders:t,suppliers:n}=e,[r,i]=A.useState(!1),[o,l]=A.useState(null),{t:u}=Le(),[f,d]=A.useState([]),[h,g]=A.useState([]),[v,x]=A.useState(!0),S=A.useCallback(async()=>{x(!0);const[k,j]=await Promise.all([t.getAll(),n.getAll()]);d(k),g(j),x(!1)},[t,n]);A.useEffect(()=>{S()},[S]);const E=A.useMemo(()=>h.reduce((k,j)=>(k[j.id]=j.name,k),{}),[h]),T=()=>{l(null),i(!0)},C=k=>{l(k),i(!0)},P=async k=>{window.confirm(u("common.confirmDelete"))&&(await t.remove(k),await S())},O=async k=>{o?await t.update(o.id,k):await t.add(k),i(!1),l(null),await S()},R=()=>{const k=f.map(j=>({ID:j.id,Supplier:E[j.supplierId]||"Unknown","Order Date":j.orderDate,"Expected Delivery":j.expectedDeliveryDate,"Total Value":j.items.reduce((M,V)=>M+V.quantityKg*V.pricePerKg,0),Status:j.status,Items:j.items.map(M=>`${M.quantityKg}kg of ${M.variety} @ ${Vf(M.pricePerKg)}/kg`).join("; ")}));bre(k,"purchase_orders")};return v?m.jsx("div",{className:"text-center p-8",children:u("common.loading")}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:u("purchaseOrders.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:R,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(yre,{}),u("purchaseOrders.exportButton")]}),m.jsx("button",{onClick:T,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:u("purchaseOrders.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_id")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_supplier")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_orderDate")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_totalValue")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_status")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:u("purchaseOrders.table_actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:f.map(k=>{const j=k.items.reduce((M,V)=>M+V.quantityKg*V.pricePerKg,0);return m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-brown-900",children:k.id}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:E[k.supplierId]||"Unknown"}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:k.orderDate}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-semibold",children:Vf(j)}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${vre(k.status)}`,children:u(`enums.poStatus.${k.status}`,{})})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[m.jsx("button",{onClick:()=>C(k),className:"text-brand-brown-600 hover:text-brand-brown-900 mr-4",children:u("common.edit")}),m.jsx("button",{onClick:()=>P(k.id),className:"text-red-600 hover:text-red-900",children:u("common.delete")})]})]},k.id)})})]})})}),r&&m.jsx(wre,{po:o,suppliers:h,onSave:O,onClose:()=>i(!1)})]})},wre=({po:e,suppliers:t,onSave:n,onClose:r})=>{const{t:i}=Le(),[o,l]=A.useState({supplierId:(e==null?void 0:e.supplierId)||"",orderDate:(e==null?void 0:e.orderDate)||new Date().toISOString().split("T")[0],expectedDeliveryDate:(e==null?void 0:e.expectedDeliveryDate)||"",items:e!=null&&e.items.length?e.items:[{variety:_t.ARABICA,quantityKg:0,pricePerKg:0}],status:(e==null?void 0:e.status)||Dr.PENDING}),u=A.useMemo(()=>o.items.reduce((v,x)=>v+(x.quantityKg||0)*(x.pricePerKg||0),0),[o.items]),f=(v,x,S)=>{const E=[...o.items];E[v][x]=S,l(T=>({...T,items:E}))},d=()=>{l(v=>({...v,items:[...v.items,{variety:_t.ARABICA,quantityKg:0,pricePerKg:0}]}))},h=v=>{const x=o.items.filter((S,E)=>E!==v);l(S=>({...S,items:x}))},g=async v=>{v.preventDefault(),await n(o)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:i(e?"purchaseOrders.modal_title_edit":"purchaseOrders.modal_title_create")}),m.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("purchaseOrders.modal_supplier")}),m.jsxs("select",{value:o.supplierId,onChange:v=>l({...o,supplierId:v.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-brand-brown-500 focus:border-brand-brown-500",children:[m.jsx("option",{value:"",children:i("purchaseOrders.modal_selectSupplier")}),t.map(v=>m.jsx("option",{value:v.id,children:v.name},v.id))]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("purchaseOrders.modal_orderDate")}),m.jsx("input",{type:"date",value:o.orderDate,onChange:v=>l({...o,orderDate:v.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("purchaseOrders.modal_expectedDelivery")}),m.jsx("input",{type:"date",value:o.expectedDeliveryDate,onChange:v=>l({...o,expectedDeliveryDate:v.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i("purchaseOrders.modal_items")}),o.items.map((v,x)=>m.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-2 items-center",children:[m.jsx("select",{value:v.variety,onChange:S=>f(x,"variety",S.target.value),className:"col-span-3 p-2 border border-gray-300 rounded-md",children:Object.values(_t).filter(S=>S!==_t.BLEND).map(S=>m.jsx("option",{value:S,children:S},S))}),m.jsx("input",{type:"number",placeholder:i("purchaseOrders.modal_qtyPlaceholder"),value:v.quantityKg||"",onChange:S=>f(x,"quantityKg",parseFloat(S.target.value)||0),className:"col-span-2 p-2 border border-gray-300 rounded-md"}),m.jsx("input",{type:"number",placeholder:i("purchaseOrders.modal_pricePlaceholder"),value:v.pricePerKg||"",onChange:S=>f(x,"pricePerKg",parseFloat(S.target.value)||0),className:"col-span-3 p-2 border border-gray-300 rounded-md"}),m.jsx("div",{className:"col-span-3 text-sm text-gray-600 font-medium truncate",children:Vf((v.quantityKg||0)*(v.pricePerKg||0))}),m.jsx("button",{type:"button",onClick:()=>h(x),className:"col-span-1 text-red-500 hover:text-red-700 font-bold",children:""})]},x)),m.jsx("button",{type:"button",onClick:d,className:"text-sm text-brand-brown-600 hover:text-brand-brown-800 font-semibold",children:i("purchaseOrders.modal_addItem")})]}),m.jsxs("div",{className:"text-right font-bold text-xl text-brand-brown-900 pt-2 border-t mt-4",children:[i("purchaseOrders.modal_grandTotal"),": ",Vf(u)]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("purchaseOrders.modal_status")}),m.jsx("select",{value:o.status,onChange:v=>l({...o,status:v.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(Dr).map(v=>m.jsx("option",{value:v,children:i(`enums.poStatus.${v}`)},v))})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:i("common.cancel")}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:i("common.save")})]})]})]})})},_re=e=>{switch(e){case yu.ACCEPTED:return"bg-green-100 text-green-800";case yu.RETURNED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Sre=({data:e})=>{const{grades:t,purchaseOrders:n}=e,[r,i]=A.useState(!1),[o,l]=A.useState(!1),[u,f]=A.useState(null),{t:d}=Le(),[h,g]=A.useState([]),[v,x]=A.useState([]),[S,E]=A.useState(!0),T=A.useCallback(async()=>{E(!0);const[k,j]=await Promise.all([t.getAll(),n.getAll()]);g(k),x(j.filter(M=>M.status!=="Rejected")),E(!1)},[t,n]);A.useEffect(()=>{T()},[T]);const C=()=>{f(null),i(!0)},P=k=>{f(k),l(!0)},O=async k=>{u?await t.update(u.id,k):await t.add(k),await R(),await T()},R=async()=>{i(!1),l(!1),f(null)};return S?m.jsx("div",{className:"text-center p-8",children:d("common.loading")}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:d("grading.title")}),m.jsx("button",{onClick:C,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:d("grading.addButton")})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("grading.table_poId")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("grading.table_variety")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("grading.table_moisture")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("grading.table_defects")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("grading.table_status")}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:d("grading.table_actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:h.map(k=>m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-brand-brown-900",children:["#",k.poId.slice(0,5),"..."]}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.variety}),m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[k.physicalAnalysis.moistureContent,"%"]}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.physicalAnalysis.defectCount}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${_re(k.status)}`,children:d(`enums.gradeStatus.${k.status}`)})}),m.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:m.jsx("button",{onClick:()=>P(k),className:"text-brand-brown-600 hover:text-brand-brown-900",children:d("common.viewDetails")})})]},k.id))})]}),h.length===0&&m.jsx("p",{className:"p-4 text-center text-gray-500",children:d("grading.noRecords")})]})}),r&&m.jsx(Are,{grade:u,purchaseOrders:v,onSave:O,onClose:R}),o&&u&&m.jsx(Ere,{grade:u,onClose:R})]})},Ere=({grade:e,onClose:t})=>{const{t:n}=Le();return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:n("grading.details_title",{batchId:e.batchId})}),m.jsxs("p",{className:"text-sm text-gray-500",children:[e.gradingDate," - ",e.variety]})]}),m.jsx("button",{type:"button",onClick:t,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("grading.details_physicalAnalysis")}),m.jsxs("dl",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-center",children:[m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_screenSize")}),m.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:e.physicalAnalysis.screenSize})]}),m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_moisture")}),m.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[e.physicalAnalysis.moistureContent,"%"]})]}),m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_density")}),m.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[e.physicalAnalysis.density," g/L"]})]}),m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_defects")}),m.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:e.physicalAnalysis.defectCount})]}),m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("grading.details_waterActivity")}),m.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[e.physicalAnalysis.waterActivity," aw"]})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("grading.details_notes")}),m.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg border",children:e.notes||n("grading.details_noNotes")})]})]}),m.jsx("div",{className:"flex justify-end pt-6 mt-auto border-t",children:m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.close")})})]})})},Are=({grade:e,purchaseOrders:t,onSave:n,onClose:r})=>{const{t:i}=Le(),[o,l]=A.useState({poId:(e==null?void 0:e.poId)||"",batchId:(e==null?void 0:e.batchId)||`B-${Date.now()}`,variety:(e==null?void 0:e.variety)||_t.ARABICA,gradingDate:(e==null?void 0:e.gradingDate)||new Date().toISOString().split("T")[0],status:(e==null?void 0:e.status)||yu.ACCEPTED,physicalAnalysis:(e==null?void 0:e.physicalAnalysis)||{screenSize:"",moistureContent:11,density:680,defectCount:0,waterActivity:.55},notes:(e==null?void 0:e.notes)||""}),u=h=>{const g=h.target.value,v=t.find(x=>x.id===g);l(x=>{var S;return{...x,poId:g,variety:((S=v==null?void 0:v.items[0])==null?void 0:S.variety)||_t.ARABICA}})},f=(h,g)=>{l(v=>({...v,physicalAnalysis:{...v.physicalAnalysis,[h]:g}}))},d=async h=>{h.preventDefault(),await n(o)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:i(e?"grading.modal_title_edit":"grading.modal_title_create")}),m.jsxs("form",{onSubmit:d,className:"space-y-6",children:[m.jsxs("select",{value:o.poId,onChange:u,className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"",children:i("grading.modal_selectPO")}),t.map(h=>m.jsxs("option",{value:h.id,children:["PO #",h.id.slice(0,5)," - ",h.items[0].variety]},h.id))]}),m.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[m.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:i("grading.modal_physicalAnalysis")}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_screenSize")}),m.jsx("input",{type:"text",value:o.physicalAnalysis.screenSize,onChange:h=>f("screenSize",h.target.value),className:"mt-1 w-full p-2 border border-gray-300 rounded-md",placeholder:i("grading.modal_screenSizePlaceholder")})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_moisture")}),m.jsx("input",{type:"number",step:"0.1",value:o.physicalAnalysis.moistureContent,onChange:h=>f("moistureContent",parseFloat(h.target.value)),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_density")}),m.jsx("input",{type:"number",value:o.physicalAnalysis.density,onChange:h=>f("density",parseInt(h.target.value)),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_defectCount")}),m.jsx("input",{type:"number",value:o.physicalAnalysis.defectCount,onChange:h=>f("defectCount",parseInt(h.target.value)),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_waterActivity")}),m.jsx("input",{type:"number",step:"0.01",value:o.physicalAnalysis.waterActivity,onChange:h=>f("waterActivity",parseFloat(h.target.value)),className:"mt-1 w-full p-2 border border-gray-300 rounded-md"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_notes")}),m.jsx("textarea",{value:o.notes,onChange:h=>l(g=>({...g,notes:h.target.value})),rows:2,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:i("grading.modal_notesPlaceholder")})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i("grading.modal_qcStatus")}),m.jsx("select",{value:o.status,onChange:h=>l({...o,status:h.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(yu).map(h=>m.jsx("option",{value:h,children:i(`enums.gradeStatus.${h}`)},h))})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:i("common.cancel")}),m.jsxs("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:[i("common.save")," Grade"]})]})]})]})})},Tre=e=>{switch(e){case zt.GREEN_BEAN:return"bg-green-100 text-green-800";case zt.ROASTED_BEAN:return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Cre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Nre=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},Pre=({data:e})=>{const{stock:t,warehouseLogs:n,alertSettings:r}=e,[i,o]=A.useState(!1),[l,u]=A.useState(!1),[f,d]=A.useState(!1),[h,g]=A.useState(null),{t:v}=Le(),[x,S]=A.useState([]),[E,T]=A.useState([]);A.useEffect(()=>{Promise.all([t.getAll(),n.getAll()]).then(([j,M])=>{S(j),T(M)})},[t,n,l,i]);const C=j=>{g(j),o(!0)},P=()=>{g(null),u(!0)},O=j=>{g(j),o(!1),u(!0)},R=()=>{o(!1),u(!1),d(!1),g(null)},k=async j=>{const{notes:M,...V}=j;if("id"in V){const z=await t.getById(V.id);if(!z)return;const te=V.quantityKg-z.quantityKg;if(await t.update(V.id,{...V,lastUpdated:new Date().toISOString().split("T")[0]}),te!==0){const Z=`Manual stock adjustment: ${V.variety} (${V.type})`,L=M.trim()?`${Z} - ${M.trim()}`:Z;await n.add({itemId:V.id,date:new Date().toISOString().split("T")[0],change:te,notes:L})}}else{const z=await t.add({...V,lastUpdated:new Date().toISOString().split("T")[0]});if(z){const te=`Manual stock addition: ${z.variety} (${z.type})`,Z=M.trim()?`${te} - ${M.trim()}`:te;await n.add({itemId:z.id,date:new Date().toISOString().split("T")[0],change:z.quantityKg,notes:Z})}}R()};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:v("warehouse.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>Nre(x,"warehouse_stock"),className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(Cre,{}),v("warehouse.exportButton")]}),m.jsx("button",{onClick:()=>d(!0),className:"px-5 py-2 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 transition-colors",children:v("warehouse.alertsButton")}),m.jsx("button",{onClick:P,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:v("warehouse.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:v("warehouse.table_id")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:v("warehouse.table_type")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:v("warehouse.table_variety")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:v("warehouse.table_qty")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:v("warehouse.table_location")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:v("warehouse.table_actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:x.map(j=>m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-brown-900",children:j.id}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${Tre(j.type)}`,children:v(`enums.stockType.${j.type.replace(/\s/g,"")}`)})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:j.variety}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-bold",children:j.quantityKg.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:j.location}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:m.jsx("button",{onClick:()=>C(j),className:"text-brand-brown-600 hover:text-brand-brown-900",children:v("common.details")})})]},j.id))})]})})}),i&&h&&m.jsx(Ore,{item:h,logs:E,onEdit:()=>O(h),onClose:R}),l&&m.jsx(kre,{itemToEdit:h,onSave:k,onClose:R}),f&&m.jsx(jre,{data:r,onClose:R})]})},Ore=({item:e,logs:t,onEdit:n,onClose:r})=>{const{t:i}=Le(),o=A.useMemo(()=>t.filter(f=>f.itemId===e.id).sort((f,d)=>new Date(d.date).getTime()-new Date(f.date).getTime()),[e,t]),l=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-green-500",children:[m.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"5"}),m.jsx("polyline",{points:"5 12 12 5 19 12"})]}),u=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500",children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("polyline",{points:"19 12 12 19 5 12"})]});return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:i("warehouse.details_title",{itemId:e.id})}),m.jsxs("p",{className:"text-sm text-gray-500",children:[e.variety," - ",i(`enums.stockType.${e.type.replace(/\s/g,"")}`)]})]}),m.jsx("button",{type:"button",onClick:r,className:"p-2 -m-2 text-gray-500 hover:text-gray-800",children:""})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-4 mb-6 border-b pb-6",children:[m.jsxs("div",{children:[m.jsxs("span",{className:"font-semibold text-gray-700",children:[i("warehouse.details_currentQty"),":"]}),m.jsxs("span",{className:"ml-2 text-brand-brown-800 font-bold",children:[e.quantityKg.toFixed(2)," kg"]})]}),m.jsxs("div",{children:[m.jsxs("span",{className:"font-semibold text-gray-700",children:[i("warehouse.details_location"),":"]}),m.jsx("span",{className:"ml-2",children:e.location})]}),m.jsxs("div",{children:[m.jsxs("span",{className:"font-semibold text-gray-700",children:[i("warehouse.details_lastUpdated"),":"]}),m.jsx("span",{className:"ml-2",children:e.lastUpdated})]})]}),m.jsx("h3",{className:"text-lg font-semibold text-brand-brown-800 mb-4",children:i("warehouse.details_logsTitle")}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-2",children:o.length>0?m.jsx("ul",{className:"space-y-3",children:o.map(f=>m.jsxs("li",{className:`p-3 bg-brand-brown-50 rounded-lg border-l-4 ${f.change>0?"border-green-400":"border-red-400"}`,children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("p",{className:`flex items-center font-bold ${f.change>0?"text-green-600":"text-red-600"}`,children:[f.change>0?m.jsx(l,{}):m.jsx(u,{}),m.jsxs("span",{className:"ml-2",children:[f.change>0?"+":"",f.change.toFixed(2)," kg"]})]}),m.jsx("p",{className:"text-xs text-gray-500",children:f.date})]}),m.jsx("p",{className:"text-sm text-gray-600 mt-1",children:f.notes})]},f.id))}):m.jsx("p",{className:"text-center text-gray-500 py-4",children:i("warehouse.details_noLogs")})}),m.jsxs("div",{className:"flex justify-end pt-6 mt-auto border-t gap-4",children:[m.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:i("common.close")}),m.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-brand-brown-600 text-white font-semibold rounded-lg hover:bg-brand-brown-700",children:i("common.edit")})]})]})})},kre=({itemToEdit:e,onSave:t,onClose:n})=>{const{t:r}=Le(),[i,o]=A.useState({type:zt.GREEN_BEAN,variety:_t.ARABICA,quantityKg:0,location:""}),[l,u]=A.useState("");A.useEffect(()=>{e&&(o({type:e.type,variety:e.variety,quantityKg:e.quantityKg,location:e.location}),u(""))},[e]);const f=d=>{if(d.preventDefault(),!i.location.trim()||i.quantityKg<0){alert("Please fill in a valid location and a non-negative quantity.");return}t(e?{...e,...i,notes:l}:{...i,notes:l})};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r(e?"warehouse.modal_editTitle":"warehouse.modal_addTitle")}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_stockType")}),m.jsx("select",{value:i.type,onChange:d=>o({...i,type:d.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",children:Object.values(zt).map(d=>m.jsx("option",{value:d,children:d},d))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_beanVariety")}),m.jsx("select",{value:i.variety,onChange:d=>o({...i,variety:d.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",children:Object.values(_t).map(d=>m.jsx("option",{value:d,children:d},d))})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_qty")}),m.jsx("input",{type:"number",step:"0.01",value:i.quantityKg||"",onChange:d=>o({...i,quantityKg:parseFloat(d.target.value)||0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_location")}),m.jsx("input",{type:"text",value:i.location,onChange:d=>o({...i,location:d.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",placeholder:r("warehouse.modal_locationPlaceholder")})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("warehouse.modal_logNotes")}),m.jsx("textarea",{value:l,onChange:d=>u(d.target.value),rows:2,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",placeholder:r("warehouse.modal_logNotesPlaceholder")})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),m.jsxs("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:[r("common.save")," Item"]})]})]})]})})},jre=({data:e,onClose:t})=>{const{t:n}=Le(),[r,i]=A.useState([]),[o,l]=A.useState({variety:_t.ARABICA,type:zt.GREEN_BEAN,threshold:0});A.useEffect(()=>{e.getAll().then(i)},[e]);const u=async d=>{if(d.preventDefault(),(await e.getAll()).find(x=>x.variety===o.variety&&x.type===o.type)){alert(`An alert for ${o.variety} (${o.type}) already exists.`);return}await e.add(o);const v=await e.getAll();i(v)},f=async d=>{await e.remove(d);const h=await e.getAll();i(h)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:n("warehouse.alerts_title")}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4 mb-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-brown-800",children:n("warehouse.alerts_existing")}),r.length>0?m.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(d=>m.jsxs("li",{className:"py-3 flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold",children:d.variety})," (",n(`enums.stockType.${d.type.replace(/\s/g,"")}`),")"]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-sm text-gray-500",children:[n("warehouse.alerts_threshold"),": ",m.jsxs("span",{className:"font-bold",children:[d.threshold,"kg"]})]}),m.jsx("button",{onClick:()=>f(d.id),className:"text-red-500 hover:text-red-700 text-sm font-semibold",children:n("warehouse.alerts_remove")})]})]},d.id))}):m.jsx("p",{className:"text-gray-500",children:n("warehouse.alerts_noAlerts")})]}),m.jsxs("form",{onSubmit:u,className:"space-y-4 border-t pt-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-brown-800",children:n("warehouse.alerts_addNew")}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n("warehouse.alerts_variety")}),m.jsx("select",{value:o.variety,onChange:d=>l({...o,variety:d.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(_t).map(d=>m.jsx("option",{value:d,children:d},d))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n("warehouse.alerts_type")}),m.jsx("select",{value:o.type,onChange:d=>l({...o,type:d.target.value}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(zt).map(d=>m.jsx("option",{value:d,children:d},d))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n("warehouse.alerts_thresholdKg")}),m.jsx("input",{type:"number",value:o.threshold||"",onChange:d=>l({...o,threshold:parseInt(d.target.value)||0}),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]})]}),m.jsx("button",{type:"submit",className:"w-full px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:n("warehouse.alerts_addButton")})]}),m.jsx("div",{className:"mt-6 text-right",children:m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.close")})})]})})},Rre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Dre=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},Mre=({data:e})=>{const{suppliers:t}=e,[n,r]=A.useState(!1),[i,o]=A.useState(!1),[l,u]=A.useState(null),{t:f}=Le(),[d,h]=A.useState([]),[g,v]=A.useState(!0),x=A.useCallback(async()=>{v(!0);const k=await t.getAll();h(k),v(!1)},[t]);A.useEffect(()=>{x()},[x]);const S=k=>{u(k),r(!0)},E=()=>{u(null),o(!0)},T=k=>{u(k),o(!0)},C=async k=>{window.confirm(f("common.confirmDelete"))&&(await t.remove(k),await x())},P=async k=>{"id"in k?await t.update(k.id,k):await t.add(k),O(),await x()},O=()=>{r(!1),o(!1),u(null)},R=()=>{const k=d.map(j=>({...j,specialties:j.specialties.join(", ")}));Dre(k,"suppliers")};return g?m.jsx("div",{className:"text-center p-8",children:f("common.loading")}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:f("suppliers.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:R,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(Rre,{}),f("suppliers.exportButton")]}),m.jsx("button",{onClick:E,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:f("suppliers.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:f("suppliers.table_name")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:f("suppliers.table_origin")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:f("suppliers.table_contact")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:f("suppliers.table_phone")}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase tracking-wider",children:f("suppliers.table_actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:d.map(k=>m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-brown-900",children:k.name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:k.origin}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:k.contactPerson}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:k.phone}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[m.jsx("button",{onClick:()=>S(k),className:"text-blue-600 hover:text-blue-900",children:f("common.view")}),m.jsx("button",{onClick:()=>T(k),className:"text-brand-brown-600 hover:text-brand-brown-900",children:f("common.edit")}),m.jsx("button",{onClick:()=>C(k.id),className:"text-red-600 hover:text-red-900",children:f("common.delete")})]})]},k.id))})]})})}),n&&l&&m.jsx(Ire,{supplier:l,onClose:O}),i&&m.jsx(Lre,{supplier:l,onSave:P,onClose:O})]})},Ire=({supplier:e,onClose:t})=>{const{t:n}=Le();return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:n("suppliers.details_title")}),m.jsx("p",{className:"text-sm text-gray-500",children:e.name})]}),m.jsx("button",{type:"button",onClick:t,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_origin")}),m.jsx("p",{className:"text-lg text-brand-brown-800",children:e.origin})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_specialties")}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.specialties.map(r=>m.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-white bg-brand-brown-600 rounded-full",children:r},r))})]}),m.jsx("div",{className:"border-t my-4"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_contact")}),m.jsx("p",{className:"text-lg text-brand-brown-800",children:e.contactPerson})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_phone")}),m.jsx("p",{className:"text-lg text-brand-brown-800",children:e.phone})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:n("suppliers.details_email")}),m.jsx("p",{className:"text-lg text-brand-brown-800",children:e.email})]})]}),m.jsx("div",{className:"flex justify-end pt-6 mt-4 border-t",children:m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.close")})})]})})},Lre=({supplier:e,onSave:t,onClose:n})=>{const{t:r}=Le(),[i,o]=A.useState({name:(e==null?void 0:e.name)||"",contactPerson:(e==null?void 0:e.contactPerson)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",origin:(e==null?void 0:e.origin)||"",specialties:(e==null?void 0:e.specialties)||[]}),l=d=>{const{name:h,value:g}=d.target;o(v=>({...v,[h]:g}))},u=d=>{o(h=>{const g=h.specialties;return g.includes(d)?{...h,specialties:g.filter(v=>v!==d)}:{...h,specialties:[...g,d]}})},f=async d=>{d.preventDefault(),e?await t({...e,...i}):await t(i)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r(e?"suppliers.modal_editTitle":"suppliers.modal_addTitle")}),m.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_name")}),m.jsx("input",{type:"text",name:"name",value:i.name,onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_origin")}),m.jsx("input",{type:"text",name:"origin",value:i.origin,placeholder:r("suppliers.modal_originPlaceholder"),onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_contact")}),m.jsx("input",{type:"text",name:"contactPerson",value:i.contactPerson,onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_phone")}),m.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_email")}),m.jsx("input",{type:"email",name:"email",value:i.email,onChange:l,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("suppliers.modal_specialties")}),m.jsx("div",{className:"mt-2 flex flex-wrap gap-4",children:Object.values(_t).filter(d=>d!==_t.BLEND).map(d=>m.jsxs("label",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"checkbox",checked:i.specialties.includes(d),onChange:()=>u(d),className:"h-4 w-4 rounded border-gray-300 text-brand-brown-600 focus:ring-brand-brown-500"}),m.jsx("span",{children:d})]},d))})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),m.jsxs("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:[r("common.save")," Supplier"]})]})]})]})})},zr=e=>{if(isNaN(e)||e<0)return"0:00";const t=Math.floor(e/60),n=e%60;return`${t}:${n<10?"0":""}${n}`},KD=e=>isNaN(e)?"Rp 0":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),Ure=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Bre=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},qre=({data:e})=>{const{roasts:t,stock:n}=e,[r,i]=A.useState(!1),[o,l]=A.useState(!1),[u,f]=A.useState(null),{t:d}=Le(),[h,g]=A.useState([]),[v,x]=A.useState([]),[S,E]=A.useState(!0),T=A.useCallback(async()=>{E(!0);const[k,j]=await Promise.all([t.getAll(),n.getAll()]);g(k),x(j.filter(M=>M.type===zt.GREEN_BEAN&&M.quantityKg>0)),E(!1)},[t,n]);A.useEffect(()=>{T()},[T]);const C=()=>{f(null),i(!0)},P=k=>{f(k),l(!0)},O=async()=>{i(!1),f(null),await T()},R=()=>{i(!1),l(!1),f(null)};return S?m.jsx("div",{className:"text-center p-8",children:d("common.loading")}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:d("roasting.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>Bre(h,"roast-profiles"),className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(Ure,{}),d("roasting.exportButton")]}),m.jsx("button",{onClick:C,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:v.length===0,children:v.length===0?d("roasting.addButton_disabled"):d("roasting.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("roasting.table_batchId")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("roasting.table_date")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("roasting.table_variety")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("roasting.table_input")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("roasting.table_output")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("roasting.table_roastTime")}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:d("roasting.table_actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:h.map(k=>m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 text-sm font-medium text-brand-brown-900",children:k.batchId}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.roastDate}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.greenBeanVariety}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.greenBeanWeightKg.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:k.roastedWeightKg.toFixed(2)}),m.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[(k.totalRoastTime/60).toFixed(2)," min"]}),m.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:m.jsx("button",{onClick:()=>P(k),className:"text-brand-brown-600 hover:text-brand-brown-900",children:d("common.viewDetails")})})]},k.id))})]}),h.length===0&&m.jsx("p",{className:"p-4 text-center text-gray-500",children:d("roasting.noRecords")})]})}),r&&m.jsx(zre,{roast:u,greenBeanStock:v,onSave:O,onClose:R,data:e}),o&&u&&m.jsx($re,{roast:u,onClose:R})]})},$re=({roast:e,onClose:t})=>{const{t:n}=Le(),r=(e.greenBeanWeightKg-e.roastedWeightKg)/e.greenBeanWeightKg*100;return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:n("roasting.details_title",{batchId:e.batchId})}),m.jsxs("p",{className:"text-sm text-gray-500",children:[e.roastDate," - ",e.greenBeanVariety]})]}),m.jsx("button",{type:"button",onClick:t,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n("roasting.details_roaster")}),m.jsx("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:e.roasterName})]}),m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n("roasting.details_ambientTemp")}),m.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[e.ambientTemp,"C"]})]}),m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n("roasting.details_chargeWeight")}),m.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[e.greenBeanWeightKg.toFixed(2)," kg"]})]}),m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:n("roasting.details_roastedWeight")}),m.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[e.roastedWeightKg.toFixed(2)," kg"]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("roasting.details_milestones")}),m.jsxs("dl",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("roasting.details_chargeTemp")}),m.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[e.chargeTemp,"C"]})]}),m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("roasting.details_turnaround")}),m.jsxs("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:[zr(e.turnaroundTime)," @ ",e.turnaroundTemp,"C"]})]}),m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("roasting.details_dryingEnd")}),m.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:zr(e.dryingPhaseEndTime)})]}),m.jsxs("div",{className:"p-3 bg-gray-100 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500",children:n("roasting.details_firstCrack")}),m.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:zr(e.firstCrackTime)})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("roasting.details_postRoast")}),m.jsxs("dl",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 text-center",children:[m.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-blue-500",children:n("roasting.details_totalTime")}),m.jsx("dd",{className:"mt-1 font-semibold text-blue-800",children:zr(e.totalRoastTime)})]}),m.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-blue-500",children:n("roasting.details_dropTemp")}),m.jsxs("dd",{className:"mt-1 font-semibold text-blue-800",children:[e.dropTemp,"C"]})]}),m.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-blue-500",children:n("roasting.details_devTime")}),m.jsx("dd",{className:"mt-1 font-semibold text-blue-800",children:zr(e.developmentTime)})]}),m.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-blue-500",children:n("roasting.details_weightLoss")}),m.jsxs("dd",{className:"mt-1 font-semibold text-blue-800",children:[r.toFixed(2),"%"]})]}),m.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-green-500",children:n("roasting.details_roastingCost")}),m.jsxs("dd",{className:"mt-1 font-semibold text-green-800",children:[KD(e.internalRoastingCostPerKg),"/kg"]})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:n("roasting.details_notes")}),m.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg border",children:e.notes||n("roasting.details_noNotes")})]})]}),m.jsx("div",{className:"flex justify-end pt-6 mt-auto border-t",children:m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.close")})})]})})},zre=({roast:e,greenBeanStock:t,onSave:n,onClose:r,data:i})=>{const{stock:o,warehouseLogs:l,roasts:u,purchaseOrders:f}=i,{t:d}=Le(),[h,g]=A.useState((e==null?void 0:e.greenBeanStockId)||""),v=A.useMemo(()=>t.find(L=>L.id===h),[h,t]),[x,S]=A.useState([]),[E,T]=A.useState([]);A.useEffect(()=>{(async()=>{const[H,J]=await Promise.all([l.getAll(),f.getAll()]);S(H),T(J)})()},[l,f]);const[C,P]=A.useState({roastDate:(e==null?void 0:e.roastDate)||new Date().toISOString().split("T")[0],roasterName:(e==null?void 0:e.roasterName)||"Admin",ambientTemp:(e==null?void 0:e.ambientTemp)||0,greenBeanWeightKg:(e==null?void 0:e.greenBeanWeightKg)||0,chargeTemp:(e==null?void 0:e.chargeTemp)||0,turnaroundTime:(e==null?void 0:e.turnaroundTime)||0,turnaroundTemp:(e==null?void 0:e.turnaroundTemp)||0,dryingPhaseEndTime:(e==null?void 0:e.dryingPhaseEndTime)||0,firstCrackTime:(e==null?void 0:e.firstCrackTime)||0,totalRoastTime:(e==null?void 0:e.totalRoastTime)||0,dropTemp:(e==null?void 0:e.dropTemp)||0,roastedWeightKg:(e==null?void 0:e.roastedWeightKg)||0,colorScore:(e==null?void 0:e.colorScore)||"",internalRoastingCostPerKg:(e==null?void 0:e.internalRoastingCostPerKg)||0,notes:(e==null?void 0:e.notes)||""}),[O,R]=A.useState("R1"),k=A.useMemo(()=>{if(!v||x.length===0||E.length===0)return 0;const L=x.find(B=>B.itemId===v.id&&B.change>0&&B.notes.includes("Stock from PO"));if(!L)return 0;const H=L.notes.match(/Stock from PO #(\w+-\w+)/);if(!H)return 0;const J=E.find(B=>B.id===H[1]),re=J==null?void 0:J.items.find(B=>B.variety===v.variety);return(re==null?void 0:re.pricePerKg)||0},[v,x,E]),j=A.useMemo(()=>{if(C.roastedWeightKg<=0)return 0;const L=k*C.greenBeanWeightKg,H=C.internalRoastingCostPerKg*C.greenBeanWeightKg;return(L+H)/C.roastedWeightKg},[C.roastedWeightKg,C.greenBeanWeightKg,C.internalRoastingCostPerKg,k]),M=A.useMemo(()=>C.greenBeanWeightKg>0&&C.roastedWeightKg>=0&&C.roastedWeightKg<=C.greenBeanWeightKg?(C.greenBeanWeightKg-C.roastedWeightKg)/C.greenBeanWeightKg*100:0,[C.greenBeanWeightKg,C.roastedWeightKg]),V=A.useMemo(()=>C.totalRoastTime>0&&C.firstCrackTime>0&&C.totalRoastTime>C.firstCrackTime?C.totalRoastTime-C.firstCrackTime:0,[C.totalRoastTime,C.firstCrackTime]),z=L=>{const H=L.target.value;g(H);const J=t.find(re=>re.id===H);J&&P(re=>({...re,greenBeanWeightKg:J.quantityKg}))},te=(L,H)=>{P(J=>({...J,[L]:parseFloat(H)||0}))},Z=async L=>{if(L.preventDefault(),!v||C.greenBeanWeightKg<=0||C.greenBeanWeightKg>v.quantityKg){alert("Invalid green bean selection or weight is greater than available stock.");return}if(C.roastedWeightKg>C.greenBeanWeightKg){alert("Roasted weight cannot be greater than green bean weight.");return}const H={...C,batchId:`RB-${Date.now()}`,greenBeanStockId:v.id,greenBeanVariety:v.variety,developmentTime:V};await o.update(v.id,{quantityKg:v.quantityKg-C.greenBeanWeightKg}),await l.add({date:new Date().toISOString().split("T")[0],itemId:v.id,change:-C.greenBeanWeightKg,notes:`Used for roast batch ${H.batchId}`});const re=(await o.getAll()).find(F=>F.type===zt.ROASTED_BEAN&&F.variety===v.variety&&F.location===O);let B="";if(re)B=re.id,await o.update(re.id,{quantityKg:re.quantityKg+C.roastedWeightKg});else{const F=await o.add({type:zt.ROASTED_BEAN,variety:v.variety,quantityKg:C.roastedWeightKg,location:O,lastUpdated:new Date().toISOString().split("T")[0]});B=F==null?void 0:F.id}B&&await l.add({date:new Date().toISOString().split("T")[0],itemId:B,change:C.roastedWeightKg,notes:`From roast batch ${H.batchId}`}),await u.add(H),await n()};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:d(e?"roasting.modal_title_edit":"roasting.modal_title_add")}),m.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_sourceBatch")}),m.jsxs("select",{value:h,onChange:z,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"",children:d("roasting.modal_selectBatch")}),t.map(L=>m.jsxs("option",{value:L.id,children:[L.variety," - ",L.quantityKg.toFixed(2),"kg in ",L.location," (ID: ",L.id,")"]},L.id))]})]}),m.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[m.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:d("roasting.modal_preRoast")}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_roaster")}),m.jsx("input",{type:"text",value:C.roasterName,onChange:L=>P(H=>({...H,roasterName:L.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_ambientTemp")}),m.jsx("input",{type:"number",value:C.ambientTemp||"",onChange:L=>te("ambientTemp",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_chargeWeight")}),m.jsx("input",{type:"number",step:"0.01",value:C.greenBeanWeightKg||"",max:v==null?void 0:v.quantityKg,onChange:L=>te("greenBeanWeightKg",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_chargeTemp")}),m.jsx("input",{type:"number",value:C.chargeTemp||"",onChange:L=>te("chargeTemp",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]})]})]}),m.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[m.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:d("roasting.modal_milestones")}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_turnaroundTime")}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:C.turnaroundTime||"",onChange:L=>te("turnaroundTime",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),m.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",zr(C.turnaroundTime),")"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_turnaroundTemp")}),m.jsx("input",{type:"number",value:C.turnaroundTemp||"",onChange:L=>te("turnaroundTemp",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_dryingEnd")}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:C.dryingPhaseEndTime||"",onChange:L=>te("dryingPhaseEndTime",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),m.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",zr(C.dryingPhaseEndTime),")"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_firstCrack")}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:C.firstCrackTime||"",onChange:L=>te("firstCrackTime",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),m.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",zr(C.firstCrackTime),")"]})]})]})]})]}),m.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[m.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:d("roasting.modal_postRoast")}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_totalTime")}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{type:"number",value:C.totalRoastTime||"",onChange:L=>te("totalRoastTime",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"}),m.jsxs("span",{className:"ml-2 text-gray-500 text-sm",children:["(",zr(C.totalRoastTime),")"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_dropTemp")}),m.jsx("input",{type:"number",value:C.dropTemp||"",onChange:L=>te("dropTemp",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_roastedWeight")}),m.jsx("input",{type:"number",step:"0.01",value:C.roastedWeightKg||"",onChange:L=>te("roastedWeightKg",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_colorScore")}),m.jsx("input",{type:"text",value:C.colorScore,onChange:L=>P(H=>({...H,colorScore:L.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{className:"md:col-span-5 grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_opCost")}),m.jsx("input",{type:"number",value:C.internalRoastingCostPerKg||"",onChange:L=>te("internalRoastingCostPerKg",L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:d("roasting.modal_opCostPlaceholder")})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_roastedLocation")}),m.jsx("input",{type:"text",value:O,onChange:L=>R(L.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:d("roasting.modal_roastedLocationPlaceholder"),required:!0})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:d("roasting.modal_calc_weightLoss")}),m.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[M.toFixed(2),"%"]})]}),m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:d("roasting.modal_calc_devTime")}),m.jsx("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:zr(V)})]}),m.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-green-600",children:d("roasting.modal_calc_finalCost")}),m.jsx("dd",{className:"mt-1 text-lg font-semibold text-green-800",children:KD(j)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:d("roasting.modal_notes")}),m.jsx("textarea",{value:C.notes,onChange:L=>P(H=>({...H,notes:L.target.value})),rows:3,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:d("common.cancel")}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:d("common.save")})]})]})]})})},FD=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),Vre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Hre=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},Kre=({data:e})=>{const{externalRoasts:t,stock:n}=e,[r,i]=A.useState(!1),{t:o}=Le(),[l,u]=A.useState([]),[f,d]=A.useState([]),[h,g]=A.useState(!0),v=A.useCallback(async()=>{g(!0);const[E,T]=await Promise.all([t.getAll(),n.getAll()]);u(E),d(T.filter(C=>C.type===zt.GREEN_BEAN&&C.quantityKg>0)),g(!1)},[t,n]);A.useEffect(()=>{v()},[v]);const x=async()=>{i(!1),await v()},S=()=>{const E=l.map(T=>({...T,totalCost:T.roastingCostPerKg*T.greenBeanWeightSentKg}));Hre(E,"external_roasting_logs")};return h?m.jsx("div",{className:"text-center p-8",children:o("common.loading")}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:o("externalRoasting.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:S,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(Vre,{}),o("externalRoasting.exportButton")]}),m.jsx("button",{onClick:()=>i(!0),className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:f.length===0,children:f.length===0?o("externalRoasting.addButton_disabled"):o("externalRoasting.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_roastery")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_dateSent")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_dateReceived")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_weightSent")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_weightReceived")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("externalRoasting.table_totalCost")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:l.map(E=>{const T=E.roastingCostPerKg*E.greenBeanWeightSentKg;return m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 font-medium text-brand-brown-900",children:E.roasteryName}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:E.dateSent}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:E.dateReceived}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:E.greenBeanWeightSentKg.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:E.roastedBeanWeightReceivedKg.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-brand-brown-800",children:FD(T)})]},E.id)})})]}),l.length===0&&m.jsx("p",{className:"p-4 text-center text-gray-500",children:o("externalRoasting.noRecords")})]})}),r&&m.jsx(Fre,{onSave:x,greenBeanStock:f,data:e,onClose:()=>i(!1)})]})},Fre=({onSave:e,onClose:t,greenBeanStock:n,data:r})=>{const{stock:i,warehouseLogs:o,externalRoasts:l}=r,{t:u}=Le(),[f,d]=A.useState({roasteryName:"",dateSent:new Date().toISOString().split("T")[0],dateReceived:new Date().toISOString().split("T")[0],greenBeanStockId:"",greenBeanWeightSentKg:0,roastedBeanWeightReceivedKg:0,roastingCostPerKg:0,notes:""}),[h,g]=A.useState("R-EXT"),v=A.useMemo(()=>n.find(P=>P.id===f.greenBeanStockId),[f.greenBeanStockId,n]),x=A.useMemo(()=>f.roastingCostPerKg*f.greenBeanWeightSentKg,[f.roastingCostPerKg,f.greenBeanWeightSentKg]),S=A.useMemo(()=>f.greenBeanWeightSentKg>0&&f.roastedBeanWeightReceivedKg>0?(f.greenBeanWeightSentKg-f.roastedBeanWeightReceivedKg)/f.greenBeanWeightSentKg*100:0,[f.greenBeanWeightSentKg,f.roastedBeanWeightReceivedKg]),E=P=>{const O=P.target.value,R=n.find(k=>k.id===O);R&&d(k=>({...k,greenBeanStockId:O,greenBeanWeightSentKg:R.quantityKg}))},T=async P=>{if(P.preventDefault(),!v||f.greenBeanWeightSentKg<=0||f.greenBeanWeightSentKg>v.quantityKg){alert("Invalid green bean selection or weight is greater than available stock.");return}if(f.roastedBeanWeightReceivedKg>f.greenBeanWeightSentKg){alert("Roasted weight cannot be greater than green bean weight sent.");return}if(!f.roasteryName.trim()){alert("Roastery Name is required.");return}const O={...f,greenBeanVariety:v.variety};await i.update(v.id,{quantityKg:v.quantityKg-f.greenBeanWeightSentKg}),await o.add({date:new Date().toISOString().split("T")[0],itemId:v.id,change:-f.greenBeanWeightSentKg,notes:`Sent to external roastery: ${f.roasteryName}`});const k=(await i.getAll()).find(M=>M.type===zt.ROASTED_BEAN&&M.variety===v.variety&&M.location===h);let j="";if(k)j=k.id,await i.update(k.id,{quantityKg:k.quantityKg+f.roastedBeanWeightReceivedKg});else{const M=await i.add({type:zt.ROASTED_BEAN,variety:v.variety,quantityKg:f.roastedBeanWeightReceivedKg,location:h,lastUpdated:new Date().toISOString().split("T")[0]});j=M==null?void 0:M.id}j&&await o.add({date:new Date().toISOString().split("T")[0],itemId:j,change:f.roastedBeanWeightReceivedKg,notes:`Received from external roastery: ${f.roasteryName}`}),await l.add(O),await e()},C=P=>{const{name:O,value:R}=P.target,k=P.target.type==="number";d(j=>({...j,[O]:k?parseFloat(R)||0:R}))};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:u("externalRoasting.modal_title")}),m.jsxs("form",{onSubmit:T,className:"space-y-4",children:[m.jsx("input",{type:"text",name:"roasteryName",placeholder:u("externalRoasting.modal_roastery"),onChange:C,className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_dateSent")}),m.jsx("input",{type:"date",name:"dateSent",value:f.dateSent,onChange:C,className:"mt-1 w-full p-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_dateReceived")}),m.jsx("input",{type:"date",name:"dateReceived",value:f.dateReceived,onChange:C,className:"mt-1 w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_sourceBatch")}),m.jsxs("select",{name:"greenBeanStockId",value:f.greenBeanStockId,onChange:E,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"",children:u("externalRoasting.modal_selectBatch")}),n.map(P=>m.jsxs("option",{value:P.id,children:[P.variety," - ",P.quantityKg.toFixed(2),"kg in ",P.location," (ID: ",P.id,")"]},P.id))]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_weightSent")}),m.jsx("input",{type:"number",name:"greenBeanWeightSentKg",step:"0.01",value:f.greenBeanWeightSentKg||"",max:v==null?void 0:v.quantityKg,onChange:C,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_weightReceived")}),m.jsx("input",{type:"number",name:"roastedBeanWeightReceivedKg",step:"0.01",value:f.roastedBeanWeightReceivedKg||"",onChange:C,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_roastingCost")}),m.jsx("input",{type:"number",name:"roastingCostPerKg",value:f.roastingCostPerKg||"",onChange:C,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:u("externalRoasting.modal_roastedLocation")}),m.jsx("input",{type:"text",value:h,onChange:P=>g(P.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-center border-t pt-4 mt-4",children:[m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:u("externalRoasting.modal_calc_weightLoss")}),m.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[S.toFixed(2),"%"]})]}),m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:u("externalRoasting.modal_calc_totalCost")}),m.jsx("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:FD(x)})]})]}),m.jsx("textarea",{name:"notes",placeholder:u("externalRoasting.modal_notes"),value:f.notes,onChange:C,rows:2,className:"w-full p-2 border border-gray-300 rounded-md"}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:u("common.cancel")}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:u("common.save")})]})]})]})})},Gre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Wre=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},Yre=({data:e})=>{const{cuppings:t,roasts:n}=e,[r,i]=A.useState(!1),[o,l]=A.useState(!1),[u,f]=A.useState(null),{t:d}=Le(),[h,g]=A.useState([]),[v,x]=A.useState([]),[S,E]=A.useState(!0),T=A.useCallback(async()=>{E(!0);const[j,M]=await Promise.all([t.getAll(),n.getAll()]);g(j),x(M),E(!1)},[t,n]);A.useEffect(()=>{T()},[T]);const C=A.useMemo(()=>v.reduce((j,M)=>(j[M.id]=`${M.batchId} - ${M.greenBeanVariety}`,j),{}),[v]),P=async j=>{await t.add(j),R(),await T()},O=j=>{f(j),l(!0)},R=()=>{i(!1),l(!1),f(null)},k=()=>{const j=h.map(M=>({id:M.id,roastProfile:C[M.roastProfileId]||M.roastProfileId,sessionDate:M.sessionDate,roastLevel:M.roastLevel,fragranceDry:M.fragranceDry,fragranceBreak:M.fragranceBreak,flavor:M.flavor,aftertaste:M.aftertaste,acidity:M.acidity,body:M.body,balance:M.balance,sweetness:M.sweetness,cleanliness:M.cleanliness,uniformity:M.uniformity,defects_numberOfCups:M.defects.numberOfCups,defects_taints:M.defects.taints,defects_faults:M.defects.faults,finalScore:M.finalScore,notes:M.notes}));Wre(j,"cupping_sessions")};return S?m.jsx("div",{className:"text-center p-8",children:d("common.loading")}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:d("cupping.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:k,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(Gre,{}),d("cupping.exportButton")]}),m.jsx("button",{onClick:()=>i(!0),className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:v.length===0,children:v.length===0?d("cupping.addButton_disabled"):d("cupping.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("cupping.table_roastProfile")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("cupping.table_date")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("cupping.table_flavor")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("cupping.table_acidity")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:d("cupping.table_finalScore")}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:d("cupping.table_actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:h.map(j=>m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 text-sm font-medium text-brand-brown-900",children:C[j.roastProfileId]||"Unknown Roast"}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:j.sessionDate}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:j.flavor.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:j.acidity.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-sm font-bold text-brand-brown-800",children:j.finalScore.toFixed(2)}),m.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:m.jsx("button",{onClick:()=>O(j),className:"text-brand-brown-600 hover:text-brand-brown-900",children:d("common.viewDetails")})})]},j.id))})]}),h.length===0&&m.jsx("p",{className:"p-4 text-center text-gray-500",children:d("cupping.noRecords")})]})}),r&&m.jsx(Xre,{roasts:v,onSave:P,onClose:R}),o&&u&&m.jsx(Jre,{cupping:u,roastName:C[u.roastProfileId],onClose:R})]})},Jre=({cupping:e,roastName:t,onClose:n})=>{const{t:r}=Le(),i=["fragranceDry","fragranceBreak","flavor","aftertaste","acidity","body","balance","sweetness","cleanliness","uniformity"],o=i.reduce((u,f)=>u+e[f],0),l=e.defects.taints*2+e.defects.faults*4;return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-start mb-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:r("cupping.details_title")}),m.jsxs("p",{className:"text-sm text-gray-500",children:[e.sessionDate," - ",t," (",e.roastLevel,")"]})]}),m.jsx("button",{type:"button",onClick:n,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:i.map(u=>m.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-center",children:[m.jsx("dt",{className:"text-xs font-medium text-gray-500 capitalize",children:u.toString().replace(/([A-Z])/g," $1").trim()}),m.jsx("dd",{className:"mt-1 font-semibold text-brand-brown-800",children:e[u].toFixed(2)})]},u.toString()))}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[m.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-blue-500",children:r("cupping.details_totalScore")}),m.jsx("dd",{className:"mt-1 text-lg font-semibold text-blue-800",children:o.toFixed(2)})]}),m.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[m.jsx("dt",{className:"text-xs font-medium text-red-500",children:r("cupping.details_deductions")}),m.jsxs("dd",{className:"mt-1 text-lg font-semibold text-red-800",children:["-",l.toFixed(2)]})]}),m.jsxs("div",{className:"p-3 bg-brand-brown-100 rounded-lg",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-600",children:r("cupping.details_finalScore")}),m.jsx("dd",{className:"mt-1 text-2xl font-bold text-brand-brown-900",children:e.finalScore.toFixed(2)})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-brand-brown-800 mb-2",children:r("cupping.details_notes")}),m.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg border",children:e.notes||r("cupping.details_noNotes")})]})]}),m.jsx("div",{className:"flex justify-end pt-6 mt-auto border-t",children:m.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.close")})})]})})},Xre=({roasts:e,onSave:t,onClose:n})=>{const{t:r}=Le(),[i,o]=A.useState({roastProfileId:"",sessionDate:new Date().toISOString().split("T")[0],roastLevel:"City",fragranceDry:7.5,fragranceBreak:7.5,flavor:7.5,aftertaste:7.5,acidity:7.5,body:7.5,balance:7.5,sweetness:10,cleanliness:10,uniformity:10,defects:{numberOfCups:0,taints:0,faults:0},notes:""}),l=A.useMemo(()=>{const x=["fragranceDry","fragranceBreak","flavor","aftertaste","acidity","body","balance","sweetness","cleanliness","uniformity"].reduce((E,T)=>E+i[T],0),S=i.defects.taints*2+i.defects.faults*4;return x-S},[i]),u=async v=>{if(v.preventDefault(),!i.roastProfileId){alert("Please select a roast profile.");return}await t({...i,finalScore:l})},f=(v,x)=>{o(S=>({...S,[v]:parseFloat(x)}))},d=(v,x)=>{const S=parseInt(x,10)||0;o(E=>({...E,defects:{...E.defects,[v]:S}}))},h=["fragranceDry","fragranceBreak","flavor","aftertaste","acidity","body","balance","sweetness","cleanliness","uniformity"],g=["Cinnamon","Light","City","Full City","Dark"];return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r("cupping.modal_title")}),m.jsxs("form",{onSubmit:u,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("select",{value:i.roastProfileId,onChange:v=>o(x=>({...x,roastProfileId:v.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"",children:r("cupping.modal_selectRoast")}),e.map(v=>m.jsxs("option",{value:v.id,children:[v.batchId," - ",v.greenBeanVariety]},v.id))]}),m.jsx("select",{value:i.roastLevel,onChange:v=>o(x=>({...x,roastLevel:v.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:g.map(v=>m.jsx("option",{value:v,children:v},v))})]}),m.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[m.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:r("cupping.modal_sensoryScores")}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:h.map(v=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize text-center",children:v.toString().replace(/([A-Z])/g," $1").trim()}),m.jsx("input",{type:"range",min:["sweetness","cleanliness","uniformity"].includes(v.toString())?"0":"6",max:"10",step:"0.25",value:i[v],onChange:x=>f(v,x.target.value),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-2"}),m.jsx("span",{className:"text-center block text-sm font-bold text-brand-brown-800",children:i[v].toFixed(2)})]},v.toString()))})]}),m.jsxs("fieldset",{className:"border p-4 rounded-lg",children:[m.jsx("legend",{className:"px-2 font-semibold text-brand-brown-800",children:r("cupping.modal_defectAnalysis")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("cupping.modal_numCups")}),m.jsx("input",{type:"number",value:i.defects.numberOfCups||"",onChange:v=>d("numberOfCups",v.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("cupping.modal_taints")}),m.jsx("input",{type:"number",min:"0",value:i.defects.taints||"",onChange:v=>d("taints",v.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("cupping.modal_faults")}),m.jsx("input",{type:"number",min:"0",value:i.defects.faults||"",onChange:v=>d("faults",v.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]})]})]}),m.jsxs("div",{className:"border-t pt-4 text-center",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-600",children:r("cupping.modal_finalScore")}),m.jsx("div",{className:"mt-1 p-3 bg-brand-brown-50 rounded-md text-2xl font-bold text-brand-brown-900",children:l.toFixed(2)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("cupping.modal_tastingNotes")}),m.jsx("textarea",{value:i.notes,onChange:v=>o(x=>({...x,notes:v.target.value})),rows:3,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:r("cupping.modal_tastingNotesPlaceholder")})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),m.jsxs("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:[r("common.save")," Session"]})]})]})]})})},k2=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),Qre=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),Zre=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},eie=({data:e})=>{const{blends:t,stock:n}=e,[r,i]=A.useState(!1),{t:o}=Le(),[l,u]=A.useState([]),[f,d]=A.useState([]);A.useEffect(()=>{(async()=>{const x=await t.getAll(),S=await n.getAll();u(x),d(S.filter(E=>E.type===zt.ROASTED_BEAN&&E.quantityKg>0&&E.variety!==_t.BLEND))})()},[t,n,r]);const h=()=>{i(!1)},g=()=>{const v=l.map(x=>({id:x.id,name:x.name,totalCostPerKg:x.totalCostPerKg,creationDate:x.creationDate,notes:x.notes,components:x.components.map(S=>`${S.percentage}% ${S.variety} (Stock ID: ${S.stockId})`).join("; ")}));Zre(v,"blends")};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:o("blending.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:g,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(Qre,{}),o("blending.exportButton")]}),m.jsx("button",{onClick:()=>i(!0),className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:f.length<2,children:f.length<2?o("blending.addButton_disabled"):o("blending.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("blending.table_name")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("blending.table_components")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("blending.table_date")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:l.map(v=>m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 font-medium text-brand-brown-900",children:v.name}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v.components.map(x=>`${x.variety} (${x.percentage}%)`).join(", ")}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v.creationDate})]},v.id))})]}),l.length===0&&m.jsx("p",{className:"p-4 text-center text-gray-500",children:o("blending.noRecords")})]})}),r&&m.jsx(tie,{onSave:h,roastedBeanStock:f,data:e,onClose:()=>i(!1)})]})},tie=({onSave:e,onClose:t,roastedBeanStock:n,data:r})=>{const{stock:i,warehouseLogs:o,blends:l,roasts:u,purchaseOrders:f}=r,{t:d}=Le(),[h,g]=A.useState(""),[v,x]=A.useState(""),[S,E]=A.useState(0),[T,C]=A.useState("B1"),[P,O]=A.useState([]),[R,k]=A.useState({allRoasts:[],allPOs:[],allLogs:[]});A.useEffect(()=>{(async()=>{const[J,re,B]=await Promise.all([u.getAll(),f.getAll(),o.getAll()]);k({allRoasts:J,allPOs:re,allLogs:B})})()},[u,f,o]);const j=H=>{const{allRoasts:J,allPOs:re,allLogs:B}=R,F=B.find(Q=>Q.itemId===H&&Q.change>0&&Q.notes.includes("From roast batch"));if(!F)return 0;const ue=F.notes.match(/From roast batch (RB-[\w-]+)/);if(!ue)return 0;const fe=ue[1],ee=J.find(Q=>Q.batchId===fe);if(!ee)return 0;const I=ee.greenBeanStockId,q=B.find(Q=>Q.itemId===I&&Q.change>0&&Q.notes.includes("Stock from PO"));if(!q)return 0;const oe=q.notes.match(/Stock from PO #(\w+-\w+)/);if(!oe)return 0;const ce=oe[1],de=re.find(Q=>Q.id===ce),Se=de==null?void 0:de.items.find(Q=>Q.variety===ee.greenBeanVariety);if(!Se)return 0;const he=Se.pricePerKg*ee.greenBeanWeightKg;return ee.roastedWeightKg===0?0:he/ee.roastedWeightKg},M=A.useMemo(()=>P.reduce((H,J)=>H+(J.percentage||0),0),[P]),V=A.useMemo(()=>M===0?0:P.reduce((J,re)=>J+re.costPerKg*(re.percentage/100),0),[P,M]),z=()=>{O([...P,{stockId:"",variety:_t.ARABICA,percentage:0,costPerKg:0}])},te=(H,J,re)=>{const B=[...P],F=B[H];if(J==="stockId"){const ue=n.find(fe=>fe.id===re);F.stockId=re,F.variety=(ue==null?void 0:ue.variety)||_t.ARABICA,F.costPerKg=ue?j(ue.id):0}else J==="percentage"&&(F.percentage=parseFloat(re)||0);O(B)},Z=H=>{O(P.filter((J,re)=>re!==H))},L=async H=>{if(H.preventDefault(),!h.trim()){alert("Blend name is required.");return}if(M!==100){alert(`Total percentage must be 100%, but it is ${M}%.`);return}if(P.some(re=>re.stockId==="")){alert("Please select a stock item for all components.");return}for(const re of P){const B=await i.getById(re.stockId),F=S*(re.percentage/100);if(!B||B.quantityKg<F){alert(`Not enough stock for ${re.variety}. Required: ${F.toFixed(2)}kg, Available: ${(B==null?void 0:B.quantityKg.toFixed(2))||0}kg.`);return}}for(const re of P){const B=await i.getById(re.stockId);if(B){const F=S*(re.percentage/100);await i.update(re.stockId,{quantityKg:B.quantityKg-F}),await o.add({date:new Date().toISOString().split("T")[0],itemId:re.stockId,change:-F,notes:`Used for blend: ${h} (${S}kg batch)`})}}const J=await i.add({type:zt.ROASTED_BEAN,variety:_t.BLEND,quantityKg:S,location:T,lastUpdated:new Date().toISOString().split("T")[0]});J&&await o.add({date:new Date().toISOString().split("T")[0],itemId:J.id,change:J.quantityKg,notes:`Created blend: ${h} (${S}kg batch)`}),await l.add({name:h,components:P,totalCostPerKg:V,creationDate:new Date().toISOString().split("T")[0],notes:v}),e()};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:d("blending.modal_title")}),m.jsxs("form",{onSubmit:L,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:d("blending.modal_namePlaceholder"),value:h,onChange:H=>g(H.target.value),className:"p-2 border border-gray-300 rounded-md",required:!0}),m.jsx("input",{type:"number",placeholder:d("blending.modal_batchSizePlaceholder"),value:S||"",onChange:H=>E(parseFloat(H.target.value)||0),className:"p-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{className:"space-y-2 pt-2",children:[m.jsx("label",{className:"font-semibold text-gray-700",children:d("blending.modal_components")}),P.map((H,J)=>m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[m.jsxs("select",{value:H.stockId,onChange:re=>te(J,"stockId",re.target.value),className:"col-span-6 p-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"",children:d("blending.modal_selectStock")}),n.map(re=>m.jsxs("option",{value:re.id,children:[re.variety," (",re.quantityKg.toFixed(2),"kg available)"]},re.id))]}),m.jsx("input",{type:"number",placeholder:"%",value:H.percentage||"",onChange:re=>te(J,"percentage",re.target.value),className:"col-span-2 p-2 border border-gray-300 rounded-md",required:!0}),m.jsxs("div",{className:"col-span-3 text-sm text-gray-600 font-medium truncate",children:[k2(H.costPerKg),"/kg"]}),m.jsx("button",{type:"button",onClick:()=>Z(J),className:"col-span-1 text-red-500 hover:text-red-700 font-bold p-2 rounded-full",children:""})]},J))]}),m.jsx("button",{type:"button",onClick:z,className:"text-sm text-brand-brown-600 hover:text-brand-brown-800 font-semibold pt-2",children:d("blending.modal_addComponent")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4 mt-4",children:[m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg text-center",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:d("blending.modal_totalPercentage")}),m.jsxs("dd",{className:`mt-1 text-lg font-semibold ${M===100?"text-green-600":"text-red-600"}`,children:[M,"%"]})]}),m.jsxs("div",{className:"p-3 bg-brand-brown-50 rounded-lg text-center",children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500",children:d("blending.modal_totalCost")}),m.jsxs("dd",{className:"mt-1 text-lg font-semibold text-brand-brown-800",children:[k2(V),"/kg"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:d("blending.modal_locationPlaceholder"),value:T,onChange:H=>C(H.target.value),className:"p-2 border border-gray-300 rounded-md",required:!0}),m.jsx("textarea",{placeholder:d("blending.modal_notesPlaceholder"),value:v,onChange:H=>x(H.target.value),rows:1,className:"p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:d("common.cancel")}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:d("blending.modal_createButton")})]})]})]})})},Hf=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),nie=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),rie=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},iie=({data:e})=>{const{sales:t,stock:n}=e,[r,i]=A.useState(!1),{t:o}=Le(),[l,u]=A.useState([]),[f,d]=A.useState([]);A.useEffect(()=>{(async()=>{const[x,S]=await Promise.all([t.getAll(),n.getAll()]);u(x.sort((E,T)=>new Date(T.saleDate).getTime()-new Date(E.saleDate).getTime())),d(S.filter(E=>E.type===zt.ROASTED_BEAN&&E.quantityKg>0))})()},[t,n,r]);const h=()=>{i(!1)},g=()=>{const v=l.map(x=>({ID:x.id,"Invoice #":x.invoiceNumber,"Sale Date":x.saleDate,Customer:x.customerName,"Total Amount":x.totalAmount,"Payment Status":x.paymentStatus,"Shipping Address":x.shippingAddress,Notes:x.notes,Items:x.items.map(S=>`${S.quantityKg}kg of ${S.variety} @ ${Hf(S.pricePerKg)}/kg`).join("; ")}));rie(v,"sales_records")};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:o("sales.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:g,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(nie,{}),o("sales.exportButton")]}),m.jsx("button",{onClick:()=>i(!0),className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",disabled:f.length===0,children:f.length===0?o("sales.addButton_disabled"):o("sales.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_saleId")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_date")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_customer")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_items")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:o("sales.table_totalAmount")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:l.map(v=>m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 font-medium text-sm text-brand-brown-900",children:v.id}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v.saleDate}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v.customerName}),m.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:v.items.map(x=>`${x.quantityKg}kg ${x.variety===_t.BLEND?"Blend":x.variety}`).join(", ")}),m.jsx("td",{className:"px-6 py-4 text-sm font-bold text-brand-brown-800",children:Hf(v.totalAmount)})]},v.id))})]}),l.length===0&&m.jsx("p",{className:"p-4 text-center text-gray-500",children:o("sales.noRecords")})]})}),r&&m.jsx(aie,{onSave:h,availableStock:f,data:e,onClose:()=>i(!1)})]})},aie=({onSave:e,onClose:t,availableStock:n,data:r})=>{const{stock:i,warehouseLogs:o,sales:l}=r,{t:u}=Le(),[f,d]=A.useState(""),[h,g]=A.useState(new Date().toISOString().split("T")[0]),[v,x]=A.useState([]),S=A.useMemo(()=>v.reduce((O,R)=>O+(R.quantityKg||0)*(R.pricePerKg||0),0),[v]),E=()=>{x([...v,{stockId:"",variety:_t.ARABICA,quantityKg:0,pricePerKg:0}])},T=(O,R,k)=>{const j=[...v],M=j[O];if(R==="stockId"){const V=n.find(z=>z.id===k);M.stockId=k,M.variety=(V==null?void 0:V.variety)||_t.ARABICA}else R==="quantityKg"?M.quantityKg=parseFloat(k)||0:R==="pricePerKg"&&(M.pricePerKg=parseFloat(k)||0);x(j)},C=O=>{x(v.filter((R,k)=>k!==O))},P=async O=>{if(O.preventDefault(),!f.trim()||v.length===0||v.some(k=>!k.stockId||k.quantityKg<=0)){alert("Customer name and at least one valid item are required.");return}for(const k of v){const j=await i.getById(k.stockId);if(!j||j.quantityKg<k.quantityKg){alert(`Not enough stock for ${k.variety}. Required: ${k.quantityKg}kg, Available: ${(j==null?void 0:j.quantityKg.toFixed(2))||0}kg.`);return}}for(const k of v){const j=await i.getById(k.stockId);j&&(await i.update(k.stockId,{quantityKg:j.quantityKg-k.quantityKg}),await o.add({date:new Date().toISOString().split("T")[0],itemId:k.stockId,change:-k.quantityKg,notes:`Sale to ${f}`}))}const R={invoiceNumber:`INV-${Date.now()}`,saleDate:h,items:v,customerName:f,totalAmount:S,paymentStatus:g0.PAID,shippingAddress:"",notes:""};await l.add(R),e()};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:u("sales.modal_title")}),m.jsxs("form",{onSubmit:P,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"text",placeholder:u("sales.modal_customerPlaceholder"),value:f,onChange:O=>d(O.target.value),className:"p-2 border border-gray-300 rounded-md",required:!0}),m.jsx("input",{type:"date",value:h,onChange:O=>g(O.target.value),className:"p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{className:"space-y-2 pt-2",children:[m.jsx("label",{className:"font-semibold text-gray-700",children:u("sales.modal_items")}),v.map((O,R)=>{const k=n.find(M=>M.id===O.stockId),j=(O.quantityKg||0)*(O.pricePerKg||0);return m.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[m.jsxs("select",{value:O.stockId,onChange:M=>T(R,"stockId",M.target.value),className:"col-span-4 p-2 border border-gray-300 rounded-md",required:!0,children:[m.jsx("option",{value:"",children:u("sales.modal_selectItem")}),n.map(M=>m.jsxs("option",{value:M.id,children:[M.variety===_t.BLEND?"Blend":M.variety," (",M.quantityKg.toFixed(2),"kg)"]},M.id))]}),m.jsx("input",{type:"number",step:"0.01",placeholder:u("sales.modal_qtyPlaceholder"),value:O.quantityKg||"",max:k==null?void 0:k.quantityKg,onChange:M=>T(R,"quantityKg",M.target.value),className:"col-span-2 p-2 border border-gray-300 rounded-md",required:!0}),m.jsx("input",{type:"number",step:"0.01",placeholder:u("sales.modal_pricePlaceholder"),value:O.pricePerKg||"",onChange:M=>T(R,"pricePerKg",M.target.value),className:"col-span-3 p-2 border border-gray-300 rounded-md",required:!0}),m.jsx("div",{className:"col-span-2 text-sm text-gray-600 font-medium truncate",children:Hf(j)}),m.jsx("button",{type:"button",onClick:()=>C(R),className:"col-span-1 text-red-500 hover:text-red-700 font-bold p-2 rounded-full",children:""})]},R)})]}),m.jsx("button",{type:"button",onClick:E,className:"text-sm text-brand-brown-600 hover:text-brand-brown-800 font-semibold pt-2",children:u("sales.modal_addItem")}),m.jsxs("div",{className:"text-right font-bold text-xl text-brand-brown-900 pt-4 border-t mt-4",children:[u("sales.modal_grandTotal"),": ",Hf(S)]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:u("common.cancel")}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:u("sales.modal_recordSale")})]})]})]})})},au=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),oie=({data:e})=>{const{stock:t,packaging:n,blends:r,roasts:i,externalRoasts:o,purchaseOrders:l,warehouseLogs:u}=e,{t:f}=Le(),[d,h]=A.useState(""),[g,v]=A.useState(""),[x,S]=A.useState(0),[E,T]=A.useState([]),[C,P]=A.useState([]),[O,R]=A.useState({allBlends:[],allRoasts:[],allExternalRoasts:[],allPOs:[],allLogs:[]}),[k,j]=A.useState(!0),M=A.useCallback(async()=>{j(!0);const[z,te,Z,L,H,J,re]=await Promise.all([t.getAll(),n.getAll(),r.getAll(),i.getAll(),o.getAll(),l.getAll(),u.getAll()]);T(z.filter(B=>B.type===zt.ROASTED_BEAN&&B.quantityKg>0)),P(te),R({allBlends:Z,allRoasts:L,allExternalRoasts:H,allPOs:J,allLogs:re}),j(!1)},[t,n,r,i,o,l,u]);A.useEffect(()=>{M()},[M]);const V=A.useMemo(()=>{const{allBlends:z,allRoasts:te,allExternalRoasts:Z,allPOs:L,allLogs:H}=O,J=q=>{if(q.variety===_t.BLEND){const he=H.find(Ce=>Ce.itemId===q.id&&Ce.notes.startsWith("Created blend:"));if(!he)return 0;const we=he.notes.match(/Created blend: (.*?) /);if(!we)return 0;const Q=we[1],Ee=z.find(Ce=>Ce.name===Q);return(Ee==null?void 0:Ee.totalCostPerKg)||0}const oe=H.find(he=>he.itemId===q.id&&he.change>0&&(he.notes.includes("From roast batch")||he.notes.includes("Received from external roastery")));if(!oe)return 0;const ce=(he,we)=>{const Q=H.find(Je=>Je.itemId===he&&Je.change>0&&Je.notes.includes("Stock from PO"));if(!Q)return 0;const Ee=Q.notes.match(/Stock from PO #(\w+-\w+)/);if(!Ee)return 0;const Ce=L.find(Je=>Je.id===Ee[1]),le=Ce==null?void 0:Ce.items.find(Je=>Je.variety===we);return(le==null?void 0:le.pricePerKg)||0},de=oe.notes.match(/From roast batch (RB-[\w-]+)/);if(de){const he=de[1],we=te.find(le=>le.batchId===he);if(!we)return 0;const Ee=ce(we.greenBeanStockId,we.greenBeanVariety)*we.greenBeanWeightKg,Ce=we.internalRoastingCostPerKg*we.greenBeanWeightKg;return we.roastedWeightKg===0?0:(Ee+Ce)/we.roastedWeightKg}const Se=oe.notes.match(/Received from external roastery: (.*)/);if(Se){const he=Se[1],we=Z.find(le=>le.roasteryName===he&&le.dateReceived===oe.date);if(!we)return 0;const Ee=ce(we.greenBeanStockId,we.greenBeanVariety)*we.greenBeanWeightSentKg,Ce=we.roastingCostPerKg*we.greenBeanWeightSentKg;return we.roastedBeanWeightReceivedKg===0?0:(Ee+Ce)/we.roastedBeanWeightReceivedKg}return 0};if(!d)return{beanCost:0,packagingCost:0,finalHPPPerPackage:0,finalHPPPerKg:0,selectedPackageSize:0};const re=E.find(q=>q.id===d),B=C.find(q=>q.id===g),F=re?J(re):0,ue=(B==null?void 0:B.cost)||0,fe=(B==null?void 0:B.sizeKg)||0,ee=F*fe+ue+x*fe,I=fe>0?ee/fe:0;return{beanCost:F,packagingCost:ue,finalHPPPerPackage:ee,finalHPPPerKg:I,selectedPackageSize:fe}},[d,g,x,E,C,O]);return k?m.jsx("div",{className:"text-center p-8",children:f("common.loading")}):m.jsxs("div",{className:"space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:f("hpp.title")}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-lg space-y-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 border-b pb-2",children:f("hpp.configTitle")}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("hpp.selectBean")}),m.jsxs("select",{value:d,onChange:z=>h(z.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[m.jsx("option",{value:"",children:f("hpp.selectBeanPlaceholder")}),E.map(z=>m.jsxs("option",{value:z.id,children:[z.variety," - ",z.quantityKg.toFixed(2),"kg (in ",z.location,")"]},z.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("hpp.selectPackaging")}),m.jsxs("select",{value:g,onChange:z=>v(z.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[m.jsx("option",{value:"",children:f("hpp.selectPackagingPlaceholder")}),C.map(z=>m.jsxs("option",{value:z.id,children:[z.name," (",z.sizeKg*1e3,"g)"]},z.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f("hpp.otherCosts")}),m.jsx("input",{type:"number",value:x||"",onChange:z=>S(parseFloat(z.target.value)||0),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:f("hpp.otherCostsPlaceholder")})]})]}),m.jsxs("div",{className:"bg-brand-brown-800 text-white p-6 rounded-xl shadow-lg space-y-4",children:[m.jsx("h2",{className:"text-xl font-semibold border-b border-brand-brown-700 pb-2",children:f("hpp.resultsTitle")}),m.jsxs("div",{className:"flex justify-between items-center text-lg",children:[m.jsx("span",{className:"text-brand-brown-300",children:f("hpp.beanCost")}),m.jsxs("span",{className:"font-bold",children:[au(V.beanCost)," / kg"]})]}),m.jsxs("div",{className:"flex justify-between items-center text-lg",children:[m.jsx("span",{className:"text-brand-brown-300",children:f("hpp.packagingCost")}),m.jsx("span",{className:"font-bold",children:au(V.packagingCost)})]}),m.jsxs("div",{className:"flex justify-between items-center text-lg",children:[m.jsx("span",{className:"text-brand-brown-300",children:f("hpp.otherCostResult")}),m.jsxs("span",{className:"font-bold",children:[au(x)," / kg"]})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t border-brand-brown-700 space-y-2",children:[m.jsxs("div",{className:"flex justify-between items-center text-xl",children:[m.jsx("span",{className:"text-brand-brown-200",children:f("hpp.hppPerKg")}),m.jsx("span",{className:"font-bold text-green-300",children:au(V.finalHPPPerKg)})]}),m.jsxs("div",{className:"flex justify-between items-center text-2xl",children:[m.jsx("span",{className:"text-brand-brown-100",children:f("hpp.hppPerPackage")}),m.jsx("span",{className:"font-bold text-green-300",children:au(V.finalHPPPerPackage)})]}),m.jsx("p",{className:"text-xs text-brand-brown-400 text-right pt-2",children:f("hpp.disclaimer",{size:V.selectedPackageSize*1e3})})]})]})]})]})},sie=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[m.jsx("path",{d:"M19.7 12.3c.04-.2.04-.4.04-.6 0-4.42-3.58-8-8-8s-8 3.58-8 8c0 .2.01.4.04.6C3.1 13.8 3 15.3 3 16.5 3 20.1 6.1 23 10 23c3.3 0 6-2.1 7-5 .4-1.3.5-2.6.5-3.8 0-.6-.1-1.3-.3-1.9zM12 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),m.jsx("path",{d:"M11 3.2c.5-.1 1-.2 1.5-.2 4.4 0 8 3.6 8 8 0 .5-.1 1-.2 1.5"})]}),lie=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[m.jsx("path",{d:"M20 12V8a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-4"}),m.jsx("path",{d:"M20 12h-8a2 2 0 0 1-2-2V6"}),m.jsx("path",{d:"M18 12a2 2 0 0 0 2-2V8"})]}),uie=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-600",children:[m.jsx("path",{d:"M21 8c0-2.2-1.8-4-4-4H7c-2.2 0-4 1.8-4 4v8c0 2.2 1.8 4 4 4h10c2.2 0 4-1.8 4-4Z"}),m.jsx("path",{d:"M7 16h10"}),m.jsx("path",{d:"M7 12h10"}),m.jsx("path",{d:"M12 12v8"})]}),zv=({type:e})=>{const t="inline mr-1";return e==="positive"?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"M12 5v14M18 11l-6-6-6 6"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:m.jsx("path",{d:"M12 5v14M18 13l-6 6-6-6"})})},gr=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),cie=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),die=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},fie=({data:e,currentUser:t})=>{const{sales:n,purchaseOrders:r,expenses:i,stock:o,blends:l,roasts:u,externalRoasts:f,warehouseLogs:d}=e,{t:h}=Le(),[g,v]=A.useState(!1),[x,S]=A.useState(!0),[E,T]=A.useState([]),[C,P]=A.useState({allSales:[],allPOs:[],allStock:[],allBlends:[],allRoasts:[],allExternalRoasts:[],allLogs:[]}),O=A.useCallback(async()=>{S(!0);const[J,re,B,F,ue,fe,ee,I]=await Promise.all([n.getAll(),r.getAll(),i.getAll(),o.getAll(),l.getAll(),u.getAll(),f.getAll(),d.getAll()]);T(B),P({allSales:J,allPOs:re,allStock:F,allBlends:ue,allRoasts:fe,allExternalRoasts:ee,allLogs:I}),S(!1)},[n,r,i,o,l,u,f,d]);A.useEffect(()=>{t.role==="Admin"&&O()},[O,t.role]);const R=A.useMemo(()=>{const{allSales:J,allPOs:re,allStock:B,allBlends:F,allRoasts:ue,allExternalRoasts:fe,allLogs:ee}=C,I=ve=>{if(ve.variety===_t.BLEND){const Et=ee.find(et=>et.itemId===ve.id&&et.notes.startsWith("Created blend:"));if(!Et)return 0;const Ue=Et.notes.match(/Created blend: (.*?) /);if(!Ue)return 0;const Zt=Ue[1],cn=F.find(et=>et.name===Zt);return(cn==null?void 0:cn.totalCostPerKg)||0}const _e=ee.find(Et=>Et.itemId===ve.id&&Et.change>0&&(Et.notes.includes("From roast batch")||Et.notes.includes("Received from external roastery")));if(!_e)return 0;const Re=(Et,Ue)=>{const Zt=ee.find(Ar=>Ar.itemId===Et&&Ar.change>0&&Ar.notes.includes("Stock from PO"));if(!Zt)return 0;const cn=Zt.notes.match(/Stock from PO #(\w+-\w+)/);if(!cn)return 0;const et=re.find(Ar=>Ar.id===cn[1]),tt=et==null?void 0:et.items.find(Ar=>Ar.variety===Ue);return(tt==null?void 0:tt.pricePerKg)||0},Ye=_e.notes.match(/From roast batch (RB-[\w-]+)/);if(Ye){const Et=Ye[1],Ue=ue.find(tt=>tt.batchId===Et);if(!Ue)return 0;const cn=Re(Ue.greenBeanStockId,Ue.greenBeanVariety)*Ue.greenBeanWeightKg,et=Ue.internalRoastingCostPerKg*Ue.greenBeanWeightKg;return Ue.roastedWeightKg===0?0:(cn+et)/Ue.roastedWeightKg}const Gt=_e.notes.match(/Received from external roastery: (.*)/);if(Gt){const Et=Gt[1],Ue=fe.find(tt=>tt.roasteryName===Et&&tt.dateReceived===_e.date);if(!Ue)return 0;const cn=Re(Ue.greenBeanStockId,Ue.greenBeanVariety)*Ue.greenBeanWeightSentKg,et=Ue.roastingCostPerKg*Ue.greenBeanWeightSentKg;return Ue.roastedBeanWeightReceivedKg===0?0:(cn+et)/Ue.roastedBeanWeightReceivedKg}return 0},q=new Date,oe=new Date,ce=new Date(new Date().setDate(q.getDate()-30)),de=new Date(new Date().setDate(q.getDate()-31)),Se=new Date(new Date().setDate(q.getDate()-60)),he=(ve,_e)=>{const Re=J.filter(et=>new Date(et.saleDate)>=ve&&new Date(et.saleDate)<=_e),Ye=E.filter(et=>new Date(et.date)>=ve&&new Date(et.date)<=_e),Gt=Re.reduce((et,tt)=>et+tt.totalAmount,0),Et=Re.reduce((et,tt)=>{const Ar=tt.items.reduce((el,tl)=>{const Aa=B.find(Qu=>Qu.id===tl.stockId);if(!Aa)return el;const Mh=I(Aa);return el+Mh*tl.quantityKg},0);return et+Ar},0),Ue=Ye.reduce((et,tt)=>et+tt.amount,0),Zt=Gt-Et,cn=Zt-Ue;return{revenue:Gt,grossProfit:Zt,netProfit:cn,expenses:Ue,cogs:Et}},we=he(ce,oe),Q=he(Se,de),Ee=J.filter(ve=>ve.paymentStatus===g0.UNPAID).reduce((ve,_e)=>ve+_e.totalAmount,0),Ce=re.filter(ve=>ve.status===Dr.PENDING||ve.status===Dr.APPROVED).reduce((ve,_e)=>ve+_e.items.reduce((Re,Ye)=>Re+Ye.pricePerKg*Ye.quantityKg,0),0),le=J.reduce((ve,_e)=>{const Re=new Date(_e.saleDate).toLocaleString("default",{month:"short",year:"numeric"}),Ye=h("financial.chart_revenue"),Gt=h("financial.chart_expenses");return ve[Re]||(ve[Re]={name:Re,[Ye]:0,[Gt]:0}),ve[Re][Ye]=ve[Re][Ye]+_e.totalAmount,ve},{});E.forEach(ve=>{const _e=new Date(ve.date).toLocaleString("default",{month:"short",year:"numeric"}),Re=h("financial.chart_revenue"),Ye=h("financial.chart_expenses");le[_e]||(le[_e]={name:_e,[Re]:0,[Ye]:0}),le[_e][Ye]=le[_e][Ye]+ve.amount});const Je=Object.values(le).sort((ve,_e)=>new Date(ve.name).getTime()-new Date(_e.name).getTime());return{currentPeriod:we,previousPeriod:Q,accountsReceivable:Ee,accountsPayable:Ce,chartData:Je}},[C,E,h]);if(t.role!=="Admin")return m.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-red-600",children:h("financial.accessDenied")}),m.jsx("p",{className:"mt-4 text-gray-600",children:h("financial.accessDeniedMsg")})]});if(x)return m.jsx("div",{className:"text-center p-8",children:h("common.loading")});const k=(J,re)=>re===0?J>0?1/0:0:(J-re)/Math.abs(re)*100,j=(J,re=!1)=>{const B=h("dashboard.trend_vsPrevDays");if(J===1/0)return{text:"+100%+",type:"positive"};if(isNaN(J)||J===0)return{text:B,type:"neutral"};const F=J>0?"+":"";let ue=J>0?"positive":"negative";return re&&(ue=ue==="positive"?"negative":"positive"),{text:`${F}${J.toFixed(1)}% ${B}`,type:ue}},M=k(R.currentPeriod.grossProfit,R.previousPeriod.grossProfit),V=k(R.currentPeriod.expenses,R.previousPeriod.expenses),z=k(R.currentPeriod.netProfit,R.previousPeriod.netProfit),te=j(M),Z=j(V,!0),L=j(z),H=async()=>{v(!1),await O()};return m.jsxs("div",{className:"space-y-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:h("financial.title")}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.jsx(qt,{title:h("financial.card_grossProfit"),value:gr(R.currentPeriod.grossProfit),icon:m.jsx(sie,{}),change:m.jsxs(m.Fragment,{children:[te.type!=="neutral"&&m.jsx(zv,{type:te.type})," ",te.text]}),changeType:te.type}),m.jsx(qt,{title:h("financial.card_opEx"),value:gr(R.currentPeriod.expenses),icon:m.jsx(uie,{}),change:m.jsxs(m.Fragment,{children:[Z.type!=="neutral"&&m.jsx(zv,{type:V>0?"positive":"negative"})," ",Z.text]}),changeType:Z.type}),m.jsx(qt,{title:h("financial.card_netProfit"),value:gr(R.currentPeriod.netProfit),icon:m.jsx(lie,{}),change:m.jsxs(m.Fragment,{children:[L.type!=="neutral"&&m.jsx(zv,{type:L.type})," ",L.text]}),changeType:L.type})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 mb-4",children:h("financial.pnl_title")}),m.jsx("table",{className:"min-w-full",children:m.jsxs("tbody",{children:[m.jsxs("tr",{className:"border-b",children:[m.jsx("td",{className:"py-2 text-brand-brown-800",children:h("financial.pnl_revenue")}),m.jsx("td",{className:"py-2 text-right font-semibold text-brand-brown-900",children:gr(R.currentPeriod.revenue)})]}),m.jsxs("tr",{className:"border-b",children:[m.jsx("td",{className:"py-2 text-brand-brown-800",children:h("financial.pnl_cogs")}),m.jsxs("td",{className:"py-2 text-right font-semibold text-red-600",children:["(",gr(R.currentPeriod.cogs),")"]})]}),m.jsxs("tr",{className:"border-b bg-gray-50",children:[m.jsx("td",{className:"py-2 font-bold text-brand-brown-800",children:h("financial.pnl_grossProfit")}),m.jsx("td",{className:"py-2 text-right font-bold text-brand-brown-900",children:gr(R.currentPeriod.grossProfit)})]}),m.jsxs("tr",{className:"border-b",children:[m.jsx("td",{className:"py-2 text-brand-brown-800",children:h("financial.pnl_opEx")}),m.jsxs("td",{className:"py-2 text-right font-semibold text-red-600",children:["(",gr(R.currentPeriod.expenses),")"]})]}),m.jsxs("tr",{className:"bg-brand-brown-100",children:[m.jsx("td",{className:"py-3 font-extrabold text-lg text-brand-brown-900",children:h("financial.pnl_netProfit")}),m.jsx("td",{className:"py-3 text-right font-extrabold text-lg text-brand-brown-900",children:gr(R.currentPeriod.netProfit)})]})]})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[m.jsx("p",{className:"text-sm font-semibold text-brand-brown-700",children:h("financial.receivable")}),m.jsx("p",{className:"text-2xl font-bold text-green-700",children:gr(R.accountsReceivable)})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[m.jsx("p",{className:"text-sm font-semibold text-brand-brown-700",children:h("financial.payable")}),m.jsx("p",{className:"text-2xl font-bold text-red-700",children:gr(R.accountsPayable)})]})]})]}),m.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800 mb-4",children:h("financial.chart_title")}),m.jsx(la,{width:"100%",height:300,children:m.jsxs(VD,{data:R.chartData,children:[m.jsx(no,{strokeDasharray:"3 3"}),m.jsx(ro,{dataKey:"name"}),m.jsx(io,{tickFormatter:J=>`Rp${J/1e6} Jt`}),m.jsx(ca,{formatter:J=>gr(J)}),m.jsx(ks,{}),m.jsx(Uf,{type:"monotone",dataKey:h("financial.chart_revenue"),stroke:"#16a34a",strokeWidth:2}),m.jsx(Uf,{type:"monotone",dataKey:h("financial.chart_expenses"),stroke:"#dc2626",strokeWidth:2})]})})]}),m.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-brand-brown-800",children:h("financial.expenses_title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:()=>die(E,"expenses"),className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold text-sm rounded-lg hover:bg-brand-green-700",children:[m.jsx(cie,{}),h("financial.expenses_export")]}),m.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-brand-brown-600 text-white font-semibold text-sm rounded-lg hover:bg-brand-brown-700",children:h("financial.expenses_add")})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("financial.table_date")}),m.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("financial.table_description")}),m.jsx("th",{className:"px-4 py-2 text-left text-xs font-bold text-brand-brown-700 uppercase",children:h("financial.table_category")}),m.jsx("th",{className:"px-4 py-2 text-right text-xs font-bold text-brand-brown-700 uppercase",children:h("financial.table_amount")})]})}),m.jsx("tbody",{className:"divide-y divide-gray-200",children:E.map(J=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:J.date}),m.jsx("td",{className:"px-4 py-2 text-sm text-gray-800",children:J.description}),m.jsx("td",{className:"px-4 py-2 text-sm",children:m.jsx("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 text-xs rounded-full",children:J.category})}),m.jsx("td",{className:"px-4 py-2 text-sm text-right font-semibold text-gray-800",children:gr(J.amount)})]},J.id))})]})})]}),g&&m.jsx(hie,{data:e,onClose:H})]})},hie=({data:e,onClose:t})=>{const{t:n}=Le(),[r,i]=A.useState({date:new Date().toISOString().split("T")[0],description:"",category:ny.OTHER,amount:0}),o=async l=>{if(l.preventDefault(),!r.description.trim()||r.amount<=0){alert("Please provide a valid description and amount.");return}await e.expenses.add(r),await t()};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:n("financial.modal_title")}),m.jsxs("form",{onSubmit:o,className:"space-y-4",children:[m.jsx("input",{type:"text",placeholder:n("financial.modal_description"),value:r.description,onChange:l=>i(u=>({...u,description:l.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsx("input",{type:"date",value:r.date,onChange:l=>i(u=>({...u,date:l.target.value})),className:"w-full p-2 border border-gray-300 rounded-md"}),m.jsx("input",{type:"number",placeholder:n("financial.modal_amount"),value:r.amount||"",onChange:l=>i(u=>({...u,amount:parseFloat(l.target.value)||0})),className:"w-full p-2 border border-gray-300 rounded-md",required:!0})]}),m.jsx("select",{value:r.category,onChange:l=>i(u=>({...u,category:l.target.value})),className:"w-full p-2 border border-gray-300 rounded-md",children:Object.values(ny).map(l=>m.jsx("option",{value:l,children:l},l))}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:n("common.cancel")}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:n("common.save")})]})]})]})})},mie=e=>{switch(e){case Sn.ADMIN:return"bg-red-200 text-red-800";case Sn.ROASTER:return"bg-yellow-200 text-yellow-800";case Sn.QC:return"bg-blue-200 text-blue-800";case Sn.SALES:return"bg-green-200 text-green-800";default:return"bg-gray-200 text-gray-800"}},pie=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2",children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"7 10 12 15 17 10"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),gie=(e,t)=>{if(!e||e.length===0){alert("No data to export.");return}const n=Object.keys(e[0]),r=f=>n.map(d=>{let h=f[d];if(h==null)return"";typeof h=="object"&&(h=JSON.stringify(h));let g=String(h);return g.search(/("|,|\n)/g)>=0&&(g='"'+g.replace(/"/g,'""')+'"'),g}).join(","),i=[n.join(","),...e.map(r)].join(`\r
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),u=URL.createObjectURL(o);l.setAttribute("href",u),l.setAttribute("download",`${t}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},vie=({data:e,currentUser:t})=>{const{users:n}=e,{t:r}=Le(),[i,o]=A.useState(!1),[l,u]=A.useState(null),[f,d]=A.useState([]),[h,g]=A.useState(!0),v=A.useCallback(async()=>{g(!0);const P=await n.getAll();d(P),g(!1)},[n]);if(A.useEffect(()=>{(t==null?void 0:t.role)===Sn.ADMIN&&v()},[v,t==null?void 0:t.role]),(t==null?void 0:t.role)!==Sn.ADMIN)return m.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-md text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-red-600",children:r("users.accessDenied")}),m.jsx("p",{className:"mt-4 text-gray-600",children:r("users.accessDeniedMsg")})]});const x=()=>{u(null),o(!0)},S=P=>{u(P),o(!0)},E=async P=>{if(P===t.id){alert("You cannot delete your own account.");return}window.confirm(r("common.confirmDelete"))&&(await n.remove(P),await v())},T=async P=>{if("id"in P){const{password:O,...R}=P,k=R;O&&(k.password=O),await n.update(P.id,k)}else await n.add(P);o(!1),u(null),await v()},C=()=>{const P=f.map(({id:O,username:R,role:k})=>({id:O,username:R,role:k}));gie(P,"users")};return h?m.jsx("div",{className:"text-center p-8",children:r("common.loading")}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:r("users.title")}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("button",{onClick:C,className:"flex items-center px-4 py-2 bg-brand-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-brand-green-700 transition-colors",children:[m.jsx(pie,{}),r("users.exportButton")]}),m.jsx("button",{onClick:x,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:r("users.addButton")})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:r("users.table_username")}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:r("users.table_role")}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:r("users.table_actions")})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:f.map(P=>m.jsxs("tr",{className:"hover:bg-brand-brown-50",children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-brand-brown-900",children:P.username}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${mie(P.role)}`,children:P.role})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[m.jsx("button",{onClick:()=>S(P),className:"text-brand-brown-600 hover:text-brand-brown-900 mr-4",children:r("common.edit")}),m.jsx("button",{onClick:()=>E(P.id),className:"text-red-600 hover:text-red-900",children:r("common.delete")})]})]},P.id))})]})})}),i&&m.jsx(yie,{user:l,onSave:T,onClose:()=>o(!1)})]})},yie=({user:e,onSave:t,onClose:n})=>{const{t:r}=Le(),[i,o]=A.useState({username:(e==null?void 0:e.username)||"",password:"",role:(e==null?void 0:e.role)||Sn.USER}),l=async u=>{if(u.preventDefault(),!e&&!i.password){alert("Password is required for new users.");return}e?await t({...e,...i}):await t(i)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r(e?"users.modal_title_edit":"users.modal_title_add")}),m.jsxs("form",{onSubmit:l,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("users.modal_username")}),m.jsx("input",{type:"text",value:i.username,onChange:u=>o(f=>({...f,username:u.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("users.modal_password")}),m.jsx("input",{type:"password",value:i.password,onChange:u=>o(f=>({...f,password:u.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:e?r("users.modal_passwordPlaceholder"):"",required:!e})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("users.modal_role")}),m.jsx("select",{value:i.role,onChange:u=>o(f=>({...f,role:u.target.value})),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(Sn).map(u=>m.jsx("option",{value:u,children:u},u))})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:n,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:r("common.save")})]})]})]})})},bie=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-700",children:[m.jsx("path",{d:"M10 21h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2Z"}),m.jsx("path",{d:"M12 2v4"}),m.jsx("path",{d:"M18 6h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3"}),m.jsx("path",{d:"M2 12h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H2v6Z"})]}),xie=({onLogin:e,onSwitchToRegister:t})=>{const[n,r]=A.useState(""),[i,o]=A.useState(""),[l,u]=A.useState(""),[f,d]=A.useState(!1),{t:h}=Le(),g=async v=>{v.preventDefault(),u(""),d(!0),await e(n,i)||u(h("login.error")),d(!1)};return m.jsx("div",{className:"flex items-center justify-center min-h-screen bg-brand-brown-100",children:m.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-2xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(bie,{})}),m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:h("login.title")}),m.jsx("p",{className:"mt-2 text-gray-600",children:h("login.subtitle")})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[m.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[m.jsx("div",{children:m.jsx("input",{id:"email",name:"email",type:"email",value:n,onChange:v=>r(v.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:"Email"})}),m.jsx("div",{children:m.jsx("input",{id:"password",name:"password",type:"password",value:i,onChange:v=>o(v.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:h("login.passwordPlaceholder")})})]}),l&&m.jsx("p",{className:"text-sm text-red-600 text-center",children:l}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-brown-700 hover:bg-brand-brown-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-brown-500 transition-colors disabled:bg-gray-400",children:f?h("login.signInButton")+"...":h("login.signInButton")})}),m.jsxs("div",{className:"text-center text-xs text-gray-500",children:[m.jsx("p",{children:h("login.demoInfo")}),m.jsx("p",{children:h("login.otherRoles")})]}),m.jsx("div",{className:"text-center text-sm",children:m.jsx("a",{href:"#",onClick:v=>{v.preventDefault(),t()},className:"font-medium text-brand-brown-600 hover:text-brand-brown-800",children:h("register.switchToRegister")})})]})]})})},wie=e=>{switch(e){case vi.HIGH:return"bg-red-100 text-red-800";case vi.MEDIUM:return"bg-yellow-100 text-yellow-800";case vi.LOW:return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},_ie=e=>{switch(e){case mi.TODO:return"bg-gray-200 text-gray-800";case mi.IN_PROGRESS:return"bg-blue-200 text-blue-800";case mi.DONE:return"bg-green-200 text-green-800";default:return"bg-gray-100 text-gray-800"}},GD=e=>{if(!e)return"N/A";const t=new Date(e),n=t.getTimezoneOffset()*6e4;return new Date(t.getTime()+n).toLocaleDateString("en-CA")},Sie=({data:e,currentUser:t})=>{const{todos:n,users:r,comments:i}=e,[o,l]=A.useState(!1),[u,f]=A.useState(!1),[d,h]=A.useState(null),[g,v]=A.useState(null),[x,S]=A.useState("priority"),[E,T]=A.useState(!1),C=n.getAll(),P=r.getAll(),O=A.useMemo(()=>P.reduce((L,H)=>(L[H.id]=H,L),{}),[P]),R=A.useMemo(()=>i.getAll().reduce((L,H)=>(L[H.taskId]=(L[H.taskId]||0)+1,L),{}),[i.getAll()]),k=A.useMemo(()=>C.filter(H=>E?!0:H.status!==mi.DONE).sort((H,J)=>{switch(x){case"priority":const re={[vi.HIGH]:1,[vi.MEDIUM]:2,[vi.LOW]:3};return re[H.priority]-re[J.priority];case"dueDate":return H.dueDate?J.dueDate?new Date(H.dueDate).getTime()-new Date(J.dueDate).getTime():-1:1;case"createdAt":return new Date(J.createdAt).getTime()-new Date(H.createdAt).getTime();case"text":return H.text.localeCompare(J.text);default:return 0}}),[C,x,E]),j=()=>{h(null),l(!0)},M=L=>{h(L),l(!0)},V=L=>{v(L),f(!0)},z=L=>{window.confirm("Are you sure you want to delete this task?")&&n.remove(L)},te=(L,H,J,re)=>{d?n.update(d.id,{text:L,dueDate:H,priority:J,assignedTo:re}):n.add({text:L,dueDate:H,priority:J,assignedTo:re,status:mi.TODO,createdAt:new Date().toISOString().split("T")[0]}),l(!1),h(null)},Z=(L,H)=>{n.update(L,{status:H}),(g==null?void 0:g.id)===L&&v(J=>J?{...J,status:H}:null)};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:"Tasks"}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("select",{value:x,onChange:L=>S(L.target.value),className:"p-2 border border-gray-300 rounded-md shadow-sm bg-white",children:[m.jsx("option",{value:"priority",children:"Sort by Priority"}),m.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),m.jsx("option",{value:"createdAt",children:"Sort by Creation Date"}),m.jsx("option",{value:"text",children:"Sort Alphabetically"})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:E,onChange:()=>T(!E),className:"h-4 w-4 rounded border-gray-300 text-brand-brown-600 focus:ring-brand-brown-500"}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show Done"})]}),m.jsx("button",{onClick:j,className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800 transition-colors",children:"Add Task"})]})]}),m.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-brand-brown-200",children:[m.jsx("thead",{className:"bg-brand-brown-100",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Task"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Assigned To"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Priority"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-bold text-brand-brown-700 uppercase",children:"Due Date"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-bold text-brand-brown-700 uppercase",children:"Actions"})]})}),m.jsxs("tbody",{className:"bg-white divide-y divide-brand-brown-200",children:[k.map(L=>{const H=L.assignedTo?O[L.assignedTo]:void 0,J=L.dueDate&&new Date(L.dueDate)<new Date&&L.status!==mi.DONE,re=R[L.id]||0;return m.jsxs("tr",{className:`hover:bg-brand-brown-50 ${J?"bg-red-50":""}`,children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${_ie(L.status)}`,children:L.status})}),m.jsxs("td",{className:"px-6 py-4 text-sm text-brand-brown-900",children:[m.jsx("p",{className:`${L.status===mi.DONE?"line-through text-gray-500":""}`,children:L.text}),re>0&&m.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-1",children:m.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),re]})]}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:H&&m.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://i.pravatar.cc/150?u=${H.id}`,alt:H.username,title:`Assigned to ${H.username}`})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${wie(L.priority)}`,children:L.priority})}),m.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${J?"text-red-600 font-bold":"text-gray-600"}`,children:GD(L.dueDate)}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-4",children:[m.jsx("button",{onClick:()=>V(L),className:"text-blue-600 hover:text-blue-900",children:"Details"}),m.jsx("button",{onClick:()=>M(L),className:"text-brand-brown-600 hover:text-brand-brown-900",children:"Edit"}),m.jsx("button",{onClick:()=>z(L.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},L.id)}),k.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"text-center text-gray-500 py-8",children:"No tasks found."})})]})]})})}),o&&m.jsx(Aie,{todo:d,users:P,onSave:te,onClose:()=>l(!1)}),u&&g&&t&&m.jsx(Eie,{todo:g,users:P,comments:i.getAll().filter(L=>L.taskId===g.id),currentUser:t,onClose:()=>f(!1),onStatusChange:Z,onAddComment:(L,H)=>i.add({taskId:L,text:H,userId:t.id,createdAt:new Date().toISOString()}),onDeleteComment:L=>i.remove(L)})]})},Eie=({todo:e,users:t,comments:n,currentUser:r,onClose:i,onStatusChange:o,onAddComment:l,onDeleteComment:u})=>{const[f,d]=A.useState(""),h=A.useMemo(()=>t.reduce((v,x)=>(v[x.id]=x,v),{}),[t]),g=v=>{v.preventDefault(),f.trim()&&(l(e.id,f),d(""))};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-2xl max-h-[90vh] flex flex-col",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900",children:e.text}),m.jsx("button",{onClick:i,className:"p-2 -m-2 text-gray-500 hover:text-gray-800 text-3xl leading-none",children:""})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4 border-b pb-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),m.jsx("select",{value:e.status,onChange:v=>o(e.id,v.target.value),className:"mt-1 w-full p-2 border border-gray-300 rounded-md",children:Object.values(mi).map(v=>m.jsx("option",{value:v,children:v},v))})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Priority"}),m.jsx("p",{className:"mt-1 font-semibold text-brand-brown-800",children:e.priority})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Due Date"}),m.jsx("p",{className:"mt-1 font-semibold text-brand-brown-800",children:GD(e.dueDate)})]})]}),m.jsxs("div",{className:"flex-grow overflow-y-auto pr-2 space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-brand-brown-800",children:"Comments"}),n.length>0?n.map(v=>{var x,S;return m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://i.pravatar.cc/150?u=${v.userId}`,alt:(x=h[v.userId])==null?void 0:x.username}),m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"bg-gray-100 rounded-lg p-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("p",{className:"text-sm font-semibold text-brand-brown-800",children:(S=h[v.userId])==null?void 0:S.username}),v.userId===r.id&&m.jsx("button",{onClick:()=>u(v.id),className:"text-xs text-red-500 hover:text-red-700",children:"Delete"})]}),m.jsx("p",{className:"text-sm text-gray-700 mt-1",children:v.text})]}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(v.createdAt).toLocaleString()})]})]},v.id)}):m.jsx("p",{className:"text-sm text-gray-500 text-center",children:"No comments yet."})]}),m.jsxs("form",{onSubmit:g,className:"mt-4 pt-4 border-t flex items-start space-x-3",children:[m.jsx("img",{className:"w-8 h-8 rounded-full",src:`https://i.pravatar.cc/150?u=${r.id}`,alt:r.username}),m.jsxs("div",{className:"flex-1",children:[m.jsx("textarea",{value:f,onChange:v=>d(v.target.value),placeholder:"Add a comment...",rows:2,className:"w-full p-2 border border-gray-300 rounded-md"}),m.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 bg-brand-brown-700 text-white text-sm font-semibold rounded-lg hover:bg-brand-brown-800",children:"Post Comment"})]})]})]})})},Aie=({todo:e,users:t,onSave:n,onClose:r})=>{const[i,o]=A.useState((e==null?void 0:e.text)||""),[l,u]=A.useState((e==null?void 0:e.dueDate)||""),[f,d]=A.useState((e==null?void 0:e.priority)||vi.MEDIUM),[h,g]=A.useState((e==null?void 0:e.assignedTo)||""),v=x=>{x.preventDefault(),i.trim()&&n(i,l||void 0,f,h||void 0)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",role:"dialog","aria-modal":"true",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[m.jsxs("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:[e?"Edit":"Create"," Task"]}),m.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"task-description",className:"block text-sm font-medium text-gray-700",children:"Task Description"}),m.jsx("input",{id:"task-description",type:"text",value:i,onChange:x=>o(x.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700",children:"Priority"}),m.jsx("select",{id:"priority",value:f,onChange:x=>d(x.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:Object.values(vi).map(x=>m.jsx("option",{value:x,children:x},x))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700",children:"Assign To"}),m.jsxs("select",{id:"assignedTo",value:h,onChange:x=>g(x.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",children:[m.jsx("option",{value:"",children:"Unassigned"}),t.map(x=>m.jsx("option",{value:x.id,children:x.username},x.id))]})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"due-date",className:"block text-sm font-medium text-gray-700",children:"Due Date (Optional)"}),m.jsx("input",{id:"due-date",type:"date",value:l,onChange:x=>u(x.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md"})]}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:r,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:"Save Task"})]})]})]})})},Tie=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-brand-brown-700",children:[m.jsx("path",{d:"M10 21h4a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v11a2 2 0 0 0 2 2Z"}),m.jsx("path",{d:"M12 2v4"}),m.jsx("path",{d:"M18 6h3a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-3"}),m.jsx("path",{d:"M2 12h2a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H2v6Z"})]}),Cie=({onRegister:e,onSwitchToLogin:t})=>{const[n,r]=A.useState(""),[i,o]=A.useState(""),[l,u]=A.useState(""),[f,d]=A.useState(""),[h,g]=A.useState(""),[v,x]=A.useState(""),[S,E]=A.useState(!1),{t:T}=Le(),C=async P=>{if(P.preventDefault(),g(""),x(""),l!==f){g(T("register.error_passwordMismatch"));return}E(!0);const O=await e(n,l,i);O.success?(x(O.message),r(""),o(""),u(""),d("")):g(O.message),E(!1)};return m.jsx("div",{className:"flex items-center justify-center min-h-screen bg-brand-brown-100",children:m.jsxs("div",{className:"w-full max-w-md p-8 space-y-8 bg-white rounded-2xl shadow-2xl",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(Tie,{})}),m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:T("register.title")}),m.jsx("p",{className:"mt-2 text-gray-600",children:T("register.subtitle")})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,children:[m.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[m.jsx("div",{children:m.jsx("input",{id:"email",name:"email",type:"email",value:n,onChange:P=>r(P.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:"Email"})}),m.jsx("div",{children:m.jsx("input",{id:"username",name:"username",type:"text",value:i,onChange:P=>o(P.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:T("register.usernamePlaceholder")})}),m.jsx("div",{children:m.jsx("input",{id:"password",name:"password",type:"password",value:l,onChange:P=>u(P.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:T("register.passwordPlaceholder")})}),m.jsx("div",{children:m.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:f,onChange:P=>d(P.target.value),required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-brand-brown-500 focus:border-brand-brown-500 focus:z-10 sm:text-sm",placeholder:T("register.confirmPasswordPlaceholder")})})]}),h&&m.jsx("p",{className:"text-sm text-red-600 text-center",children:h}),v&&m.jsx("p",{className:"text-sm text-green-600 text-center",children:v}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:S,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-brown-700 hover:bg-brand-brown-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-brown-500 transition-colors disabled:bg-gray-400",children:S?T("register.registerButton")+"...":T("register.registerButton")})}),m.jsx("div",{className:"text-center text-sm",children:m.jsx("a",{href:"#",onClick:P=>{P.preventDefault(),t()},className:"font-medium text-brand-brown-600 hover:text-brand-brown-800",children:T("register.switchToLogin")})})]})]})})},Nie=({user:e,onClose:t,onSave:n})=>{const{t:r}=Le(),[i,o]=A.useState(""),[l,u]=A.useState(""),[f,d]=A.useState(""),h=g=>{if(g.preventDefault(),i&&i!==l){d(r("profile.error_passwordMismatch"));return}const v={};i&&(v.password=i),n(e.id,v)};return m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-2xl p-8 w-full max-w-lg",children:[m.jsx("h2",{className:"text-2xl font-bold text-brand-brown-900 mb-6",children:r("profile.title")}),m.jsxs("form",{onSubmit:h,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("profile.username")}),m.jsx("input",{type:"text",value:e.username,readOnly:!0,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("profile.role")}),m.jsx("input",{type:"text",value:e.role,readOnly:!0,className:"mt-1 block w-full p-2 border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("profile.newPassword")}),m.jsx("input",{type:"password",value:i,onChange:g=>o(g.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:r("profile.newPasswordPlaceholder")})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:r("profile.confirmPassword")}),m.jsx("input",{type:"password",value:l,onChange:g=>u(g.target.value),className:"mt-1 block w-full p-2 border border-gray-300 rounded-md",placeholder:r("profile.confirmPasswordPlaceholder")})]}),f&&m.jsx("p",{className:"text-sm text-red-600",children:f}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:t,className:"px-5 py-2 bg-gray-200 text-gray-800 font-semibold rounded-lg hover:bg-gray-300",children:r("common.cancel")}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-brand-brown-700 text-white font-semibold rounded-lg shadow-md hover:bg-brand-brown-800",children:r("common.save")})]})]})]})})},qd=["#8D5437","#A96841","#C8956F","#DCBCA1","#4CAF50","#388E3C"],Pie=({data:e})=>{const[t,n]=A.useState([]),[r,i]=A.useState([]),[o,l]=A.useState([]),[u,f]=A.useState([]),[d,h]=A.useState([]),[g,v]=A.useState(!0),[x,S]=A.useState("30d");A.useEffect(()=>{E()},[]);const E=async()=>{v(!0);const[ee,I,q,oe,ce]=await Promise.all([e.sales.getAll(),e.stock.getAll(),e.purchaseOrders.getAll(),e.expenses.getAll(),e.roasts.getAll()]);n(ee),i(I),l(q),f(oe),h(ce),v(!1)},T=ee=>{if(x==="all")return!0;const I=new Date(ee);return(new Date().getTime()-I.getTime())/(1e3*60*60*24)<={"7d":7,"30d":30,"90d":90}[x]},C=t.filter(ee=>T(ee.sale_date||ee.saleDate)),P=u.filter(ee=>T(ee.date)),O=d.filter(ee=>T(ee.roast_date||ee.roastDate)),R=C.reduce((ee,I)=>ee+(I.total_amount||I.totalAmount),0),k=P.reduce((ee,I)=>ee+I.amount,0),j=R-k,M=R>0?(j/R*100).toFixed(1):"0",V=C.reduce((ee,I)=>{const q=(I.sale_date||I.saleDate).slice(0,10);return ee[q]||(ee[q]=0),ee[q]+=I.total_amount||I.totalAmount,ee},{}),z=Object.entries(V).sort(([ee],[I])=>ee.localeCompare(I)).slice(-30).map(([ee,I])=>({date:new Date(ee).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),revenue:I/1e6})),te=r.reduce((ee,I)=>{const q=`${I.variety} (${I.type})`;return ee[q]||(ee[q]=0),ee[q]+=I.quantity_kg||I.quantityKg,ee},{}),Z=Object.entries(te).map(([ee,I])=>({name:ee,value:Number(I.toFixed(2))})),L=C.reduce((ee,I)=>((I.items||[]).forEach(q=>{ee[q.variety]||(ee[q.variety]=0),ee[q.variety]+=q.quantityKg||q.quantity_kg}),ee),{}),H=Object.entries(L).map(([ee,I])=>({variety:ee,quantity:Number(I.toFixed(2))})),J=P.reduce((ee,I)=>(ee[I.category]||(ee[I.category]=0),ee[I.category]+=I.amount,ee),{}),re=Object.entries(J).map(([ee,I])=>({category:ee,amount:I/1e6})),B=O.map(ee=>({batchId:(ee.batch_id||ee.batchId).slice(-8),efficiency:((ee.roasted_weight_kg||ee.roastedWeightKg)/(ee.green_bean_weight_kg||ee.greenBeanWeightKg)*100).toFixed(1)})),F=B.length>0?(B.reduce((ee,I)=>ee+Number(I.efficiency),0)/B.length).toFixed(1):"0",ue=r.filter(ee=>(ee.quantity_kg||ee.quantityKg)<50),fe=ee=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(ee);return g?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-brown-700"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-brand-brown-900",children:"Analytics Dashboard"}),m.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive business insights and performance metrics"})]}),m.jsx("div",{className:"flex gap-2",children:["7d","30d","90d","all"].map(ee=>m.jsx("button",{onClick:()=>S(ee),className:`px-4 py-2 rounded-lg font-medium transition-colors ${x===ee?"bg-brand-brown-700 text-white":"bg-white text-brand-brown-700 border border-brand-brown-300 hover:bg-brand-brown-50"}`,children:ee==="all"?"All Time":ee.toUpperCase()},ee))})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs(qt,{title:"Total Revenue",children:[m.jsx("div",{className:"text-3xl font-bold text-brand-green-700",children:fe(R)}),m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[C.length," transactions"]})]}),m.jsxs(qt,{title:"Total Expenses",children:[m.jsx("div",{className:"text-3xl font-bold text-red-600",children:fe(k)}),m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[P.length," expense records"]})]}),m.jsxs(qt,{title:"Net Profit",children:[m.jsx("div",{className:`text-3xl font-bold ${j>=0?"text-brand-green-700":"text-red-600"}`,children:fe(j)}),m.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Profit Margin: ",M,"%"]})]}),m.jsxs(qt,{title:"Roasting Efficiency",children:[m.jsxs("div",{className:"text-3xl font-bold text-brand-brown-700",children:[F,"%"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Average weight retention"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(qt,{title:"Revenue Trend (in Million IDR)",children:m.jsx(la,{width:"100%",height:300,children:m.jsxs(VD,{data:z,children:[m.jsx(no,{strokeDasharray:"3 3"}),m.jsx(ro,{dataKey:"date",tick:{fontSize:12}}),m.jsx(io,{tick:{fontSize:12}}),m.jsx(ca,{formatter:ee=>[`Rp ${ee.toFixed(2)}M`,"Revenue"]}),m.jsx(Uf,{type:"monotone",dataKey:"revenue",stroke:"#4CAF50",strokeWidth:2,dot:{fill:"#4CAF50"}})]})})}),m.jsx(qt,{title:"Sales by Coffee Variety (kg)",children:m.jsx(la,{width:"100%",height:300,children:m.jsxs(Fd,{data:H,children:[m.jsx(no,{strokeDasharray:"3 3"}),m.jsx(ro,{dataKey:"variety",tick:{fontSize:12}}),m.jsx(io,{tick:{fontSize:12}}),m.jsx(ca,{}),m.jsx(mu,{dataKey:"quantity",fill:"#8D5437",children:H.map((ee,I)=>m.jsx(vo,{fill:qd[I%qd.length]},`cell-${I}`))})]})})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(qt,{title:"Current Stock Distribution (kg)",children:m.jsx(la,{width:"100%",height:300,children:m.jsxs(HD,{children:[m.jsx(px,{data:Z,cx:"50%",cy:"50%",labelLine:!1,label:({name:ee,percent:I})=>`${ee}: ${(I*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Z.map((ee,I)=>m.jsx(vo,{fill:qd[I%qd.length]},`cell-${I}`))}),m.jsx(ca,{})]})})}),m.jsx(qt,{title:"Expenses by Category (in Million IDR)",children:m.jsx(la,{width:"100%",height:300,children:m.jsxs(Fd,{data:re,layout:"vertical",children:[m.jsx(no,{strokeDasharray:"3 3"}),m.jsx(ro,{type:"number",tick:{fontSize:12}}),m.jsx(io,{dataKey:"category",type:"category",tick:{fontSize:12},width:100}),m.jsx(ca,{formatter:ee=>[`Rp ${ee.toFixed(2)}M`,"Amount"]}),m.jsx(mu,{dataKey:"amount",fill:"#A96841"})]})})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs(qt,{title:"Roasting Efficiency by Batch",children:[m.jsx(la,{width:"100%",height:300,children:m.jsxs(Fd,{data:B.slice(-15),children:[m.jsx(no,{strokeDasharray:"3 3"}),m.jsx(ro,{dataKey:"batchId",tick:{fontSize:10}}),m.jsx(io,{tick:{fontSize:12},domain:[0,100]}),m.jsx(ca,{formatter:ee=>[`${ee}%`,"Efficiency"]}),m.jsx(mu,{dataKey:"efficiency",fill:"#C8956F"})]})}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Shows weight retention percentage (roasted / green bean weight)"})]}),m.jsx(qt,{title:"Low Stock Alerts",children:m.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:ue.length>0?ue.map(ee=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 border border-red-200 rounded-lg",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"font-medium text-gray-800",children:[ee.variety," - ",ee.type]}),m.jsxs("p",{className:"text-sm text-gray-600",children:["Location: ",ee.location]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-bold text-red-600",children:[(ee.quantity_kg||ee.quantityKg).toFixed(2)," kg"]}),m.jsx("p",{className:"text-xs text-red-500",children:"Low Stock"})]})]},ee.id)):m.jsxs("div",{className:"text-center py-8 text-gray-500",children:[m.jsx("svg",{className:"mx-auto h-12 w-12 text-green-500 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("p",{children:"All stock levels are healthy!"})]})})})]}),m.jsx(qt,{title:"Key Performance Indicators",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"p-4 bg-brand-brown-50 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Average Order Value"}),m.jsx("p",{className:"text-2xl font-bold text-brand-brown-800",children:fe(C.length>0?R/C.length:0)})]}),m.jsxs("div",{className:"p-4 bg-brand-brown-50 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total Stock Value"}),m.jsx("p",{className:"text-2xl font-bold text-brand-brown-800",children:fe(r.reduce((ee,I)=>{const q=I.quantity_kg||I.quantityKg,oe=I.type==="Roasted Bean"?35e4:2e5;return ee+q*oe},0))})]}),m.jsxs("div",{className:"p-4 bg-brand-brown-50 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-600",children:"Total Roast Batches"}),m.jsx("p",{className:"text-2xl font-bold text-brand-brown-800",children:O.length})]})]})}),m.jsx(qt,{title:"Business Insights",children:m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500 rounded",children:[m.jsx("h4",{className:"font-semibold text-blue-900",children:"Revenue Analysis"}),m.jsx("p",{className:"text-sm text-blue-800 mt-1",children:j>=0?`Your business is profitable with a ${M}% profit margin. ${H.length>0?`${H[0].variety} is your best-selling variety.`:""}`:`Current period shows a loss of ${fe(Math.abs(j))}. Review expenses and pricing strategy.`})]}),m.jsxs("div",{className:"p-4 bg-green-50 border-l-4 border-green-500 rounded",children:[m.jsx("h4",{className:"font-semibold text-green-900",children:"Inventory Status"}),m.jsx("p",{className:"text-sm text-green-800 mt-1",children:ue.length>0?`${ue.length} item(s) are running low. Consider reordering to avoid stockouts.`:"All inventory levels are healthy. No immediate action required."})]}),m.jsxs("div",{className:"p-4 bg-yellow-50 border-l-4 border-yellow-500 rounded",children:[m.jsx("h4",{className:"font-semibold text-yellow-900",children:"Production Efficiency"}),m.jsxs("p",{className:"text-sm text-yellow-800 mt-1",children:["Average roasting efficiency is ",F,"%. ",Number(F)<80?"Consider reviewing roasting parameters to improve yield.":"Excellent roasting performance!"]})]})]})})]})},Oie=()=>{const{language:e,setLanguage:t}=Le(),n=()=>{t(e==="en"?"id":"en")};return m.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 text-sm text-brand-brown-700 bg-brand-brown-100 rounded-lg hover:bg-brand-brown-200 font-semibold transition-colors",children:[m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"10"}),m.jsx("line",{x1:"2",y1:"12",x2:"22",y2:"12"}),m.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),m.jsx("span",{className:"font-bold",children:e.toUpperCase()})]})},kie=({onLogout:e,onProfileClick:t})=>{const[n,r]=A.useState(!1),{t:i}=Le(),{user:o}=NP();return o?m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2",children:[m.jsx("span",{className:"text-brand-brown-700 font-medium hidden sm:block",children:i("header.welcome",{username:o.username})}),m.jsx("img",{className:"w-10 h-10 rounded-full",src:`https://i.pravatar.cc/150?u=${o.id}`,alt:o.username})]}),n&&m.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[m.jsx("a",{href:"#",onClick:l=>{l.preventDefault(),t(),r(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:i("profile.myProfile")}),m.jsx("a",{href:"#",onClick:l=>{l.preventDefault(),e()},className:"block px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:i("header.logout")})]})]}):null},jie=()=>{const[e,t]=A.useState("Dashboard"),[n,r]=A.useState(!1),[i,o]=A.useState("login"),[l,u]=A.useState(!1),{user:f,loading:d,signIn:h,signUp:g,signOut:v,updateProfile:x}=NP(),{dataService:S}=i3(),{t:E}=Le(),T=async(j,M)=>(await h(j,M)).success?(t("Dashboard"),!0):!1,C=async(j,M,V)=>{const z=await g(j,M,V);return z.success?{success:!0,message:E("register.success")}:{success:!1,message:z.error||E("register.error_userExists")}},P=async(j,M)=>{await x(M),u(!1)},O=async()=>{await v()};if(d)return m.jsxs("div",{className:"flex h-screen w-full items-center justify-center bg-brand-brown-50",children:[m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-brand-brown-700"}),m.jsx("p",{className:"ml-4 text-lg font-semibold text-brand-brown-800",children:"Loading..."})]});if(!f)return i==="login"?m.jsx(xie,{onLogin:T,onSwitchToRegister:()=>o("register")}):m.jsx(Cie,{onRegister:C,onSwitchToLogin:()=>o("login")});const R=()=>{switch(e){case"Dashboard":return m.jsx(gre,{data:S});case"Purchase Orders":return m.jsx(xre,{data:S});case"Grading Form":return m.jsx(Sre,{data:S});case"Warehouse":return m.jsx(Pre,{data:S});case"Suppliers":return m.jsx(Mre,{data:S});case"Roasting Form":return m.jsx(qre,{data:S});case"External Roasting":return m.jsx(Kre,{data:S});case"Cupping Form":return m.jsx(Yre,{data:S});case"Blending Form":return m.jsx(eie,{data:S});case"Sales":return m.jsx(iie,{data:S});case"Kalkulator HPP":return m.jsx(oie,{data:S});case"Financial Management":return m.jsx(fie,{data:S,currentUser:f});case"User Management":return m.jsx(vie,{data:S,currentUser:f});case"Tasks":return m.jsx(Sie,{data:S,currentUser:f});case"Analytics":return m.jsx(Pie,{data:S});default:return m.jsxs("div",{className:"p-8 bg-white rounded-lg shadow-md",children:[m.jsx("h1",{className:"text-2xl font-bold text-brand-brown-800",children:e}),m.jsx("p",{className:"mt-4 text-gray-600",children:"This feature is under construction."}),m.jsx("img",{src:"https://picsum.photos/800/400?grayscale",alt:"Under Construction",className:"mt-4 rounded-lg"})]})}},k=()=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),m.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),m.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]});return m.jsxs("div",{className:"flex h-screen bg-brand-brown-50 font-sans",children:[m.jsx(A3,{currentView:e,setCurrentView:t,isOpen:n,setOpen:r,currentUser:f}),m.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsxs("header",{className:"flex items-center justify-between p-4 bg-white border-b border-brand-brown-200 lg:justify-end",children:[m.jsx("button",{onClick:()=>r(!0),className:"p-2 text-brand-brown-800 rounded-md lg:hidden","aria-label":"Open sidebar",children:m.jsx(k,{})}),m.jsx("h1",{className:"text-xl font-bold text-brand-brown-900 lg:hidden",children:E(`sidebar.${e}`,{})}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx(Oie,{}),m.jsx(kie,{onLogout:O,onProfileClick:()=>u(!0)})]})]}),m.jsx("div",{className:"flex-1 p-4 md:p-6 lg:p-8 overflow-y-auto",children:R()})]}),l&&f&&m.jsx(Nie,{user:f,onClose:()=>u(!1),onSave:P})]})},WD=document.getElementById("root");if(!WD)throw new Error("Could not find root element to mount to");const Rie=TL.createRoot(WD);Rie.render(m.jsx(R2.StrictMode,{children:m.jsx(t3,{children:m.jsx(a3,{children:m.jsx(jie,{})})})}));
